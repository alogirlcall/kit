var _STRINGS={Ad:{Mobile:{Preroll:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},Header:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},End:{ReadyIn:"Advertisement ends in ",Loading:"Please wait ...",Close:"Close"}}},Splash:{Loading:"Loading ...",LogoLine1:"Some text here",LogoLine2:"powered by MarketJS",LogoLine3:"none"},Tutorial:{Tutorial:"Tutorial",Tut1_1_1:"We're out of ammo! Let's reload. Point the gun forward.",Tut1_1_2:"Then, point gun down and bring it up quickly.",
Tut1_1_1mobile:"Hold and move your finger on the screen to point the gun around.",Tut1_1_2mobile:"We're out of ammo! Point the gun forward, point down and bring it up quickly to reload.",Tut1_2_1:"the gun is now loaded! fire the gun by left-clicking on the enemy.",Tut1_2_2:"Shoot until the enemy is defeated.",Tut1_2_1mobile:"the gun is now loaded! fire the gun by tapping once anywhere on the screen.",Tut1_2_2mobile:"Aim at the enemy and shoot until he is defeated.",Tut2_1_1:"shoot health packs to collect them for later use.",
Tut2_1_2:"health packs are applied automatically.",Tut2_2_1:"rescue hostages by shooting off all restraints on them,",Tut2_2_2:"highlighted by the glowing boxes. Be careful not to harm the hostage!",Tut3_1_1:"some enemies might hide behind hostages, covers or in a corner.",Tut3_1_2:"free the hostage to have a clear shot at the enemies.",Tut3_2_1:"limb shots on bad guys are non-lethal, but are enough to defeat them,",Tut3_2_2:"try different play styles to earn special titles.",GoodJob:"Good job!",
TutorialEnd:"All set! The real mission starts now."},Game:{MoreGames:"more games",SelectPlayer:"Select Player",Win:"You win!",Lose:"You lose!",Score:"Score",Time:"Time",reloadText:"point gun down then up quickly to reload!".split(" "),ClickToShoot:"Left-click to shoot.",TapToShoot:"Tap to shoot.",transition1:"alright room @@roomCount@@ cleared.;finally that is over.;clear.;room @@roomCount@@ cleared.;glad that's over.;ok room @@roomCount@@ clear.;room @@roomCount@@ clear.;all hostile gunmen neutralized.".split(";"),
transition2:"I'm moving to the next one.;let's move on to the next one.;I wonder what awaits ahead.;moving on.;I wonder if that's all.;moving on to the next one.;hope that's all the hostages.;keep up the good job.;keep up the good work.;oh yeah!;whew!;go go go!;next!;this place is huge!;i wonder how many more rooms are there.;this place is a mess!;this room is a mess!;what a mess!;I hope the situation is resolved soon.;let's go!;continue.;let's hope I don't run into an ambush.;remember the training, check room corners!".split(";"),
Paused:"paused",Retire:"retire",GameOver:"game over",Results:"evaluation",Start:"start",Back:"back",MainMenu:"main menu",PlayAgain:"go again",hostagesRescued:"hostages rescued",hostagesHarmed:"hostages harmed",enemiesKilled:"enemies killed",enemiesDisarmed:"enemies disarmed",shotsFired:"shots fired",shotsMissed:"shots missed",NA:"N/A",accuracy:"accuracy",headshots:"headshots",nonLethalShots:"non-lethal shots",roomsCleared:"rooms cleared",hostageRescued:"hostage rescued!",hostageUntied:"restraint removed!",
hostageShot:"don't harm hostages!",hostageUntieFeedback:"that was close!;ooh!;nice shot!;wow!;woah!;woo!;woohoo!;how did you do that?;how is that possible?;that's impossible!;that's incredible!;incredible!;did you just...?;how did you...?;wait, what?;wha?;what?".split(";"),hostageRescueFeedback:"my hero!;thank you!;oh thank you!;thank you so much!;I'm saved!;I'm safe!;I'm free!".split(";")},Title:{theMaster:"the master",babaYaga:"baba yaga",doubleAgent:"double agent",consultant:"consultant",specialist:"specialist",
destroyer:"destroyer",untouchable:"untouchable",merciless:"merciless",fixer:"fixer",cleaner:"cleaner",guardianAngel:"guardian angel",savior:"savior",hero:"hero",headHunter:"head hunter",widowmaker:"widowmaker",looseCannon:"loose cannon",immortal:"immortal",jack:"jack",btk:"btk",theButcher:"the butcher",massMurderer:"mass murderer",serialKiller:"serial killer",murderer:"murderer",se7en:"se7en",killer7:"killer 7",roomCleaner:"room cleaner",agent:"agent",rookie:"rookie",retired:"retired",general:"general",
commander:"commander",officer:"officer",veteran:"veteran",seasonedAgent:"seasoned agent",seniorAgent:"senior agent",expert:"expert",sharpshooter:"sharpshooter",marksman:"marksman",merciful:"merciful",humane:"humane",forgiving:"forgiving",hardcore:"hardcore",murderous:"murderous",psychotic:"psychotic",disturbed:"disturbed",disgraced:"disgraced",OCD:"OCD",competent:"competent",adept:"adept",skilled:"skilled",capable:"capable"},Results:{Highscore:"highscore",Rank:"rank",Room:"room",Defeats:"foes"}};var _SETTINGS={API:{Enabled:!0,Log:{Events:{InitializeGame:!0,EndGame:!0,Level:{Begin:!0,End:!0,Win:!0,Lose:!0,Draw:!0}}}},Ad:{Mobile:{Preroll:{Enabled:!0,Duration:5,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGamePreroll:40,MobileAdInGamePreroll2:40,MobileAdInGamePreroll3:20}}},Header:{Enabled:!1,Duration:5,Width:320,Height:50,Rotation:{Enabled:!1,Weight:{MobileAdInGameHeader:40,MobileAdInGameHeader2:40,MobileAdInGameHeader3:20}}},Footer:{Enabled:!1,Duration:5,Width:320,Height:50,
Rotation:{Enabled:!1,Weight:{MobileAdInGameFooter:40,MobileAdInGameFooter2:40,MobileAdInGameFooter3:20}}},End:{Enabled:!1,Duration:1,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGameEnd:40,MobileAdInGameEnd2:40,MobileAdInGameEnd3:20}}}}},Language:{Default:"en"},DeveloperBranding:{Splash:{Enabled:!0},Logo:{Enabled:!0,Link:"http://marketjs.com",LinkEnabled:!1,NewWindow:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:!1},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!0,NewWindow:!0,
Width:280,Height:34}},MoreGames:{Enabled:!0,Link:"http://www.marketjs.com/game/links/mobile",NewWindow:!0},Gamecenter:{Enabled:!0}};var MobileAdInGamePreroll={ad_duration:_SETTINGS.Ad.Mobile.Preroll.Duration,ad_width:_SETTINGS.Ad.Mobile.Preroll.Width,ad_height:_SETTINGS.Ad.Mobile.Preroll.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.Preroll.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Preroll.Rotation.Weight,c=b.MobileAdInGamePreroll,d=
c+b.MobileAdInGamePreroll2,b=d+b.MobileAdInGamePreroll3,f=Math.floor(100*Math.random());console.log("seed: ",f);f<=c?this.selectedOverlayName="MobileAdInGamePreroll":f<=d?this.selectedOverlayName="MobileAdInGamePreroll2":f<=b&&(this.selectedOverlayName="MobileAdInGamePreroll3");console.log("Ad rotating preroll enabled")}else this.selectedOverlayName="MobileAdInGamePreroll",console.log("Ad rotating preroll disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);
this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-
this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGamePreroll.boxContents.header.text(MobileAdInGamePreroll.ready_in+c+"...");MobileAdInGamePreroll.boxContents.footer.text(MobileAdInGamePreroll.loading);c--;0>c&&(clearInterval(d),MobileAdInGamePreroll.boxContents.close.css("left",MobileAdInGamePreroll.boxContents.body.width()-23),MobileAdInGamePreroll.boxContents.close.show(),MobileAdInGamePreroll.boxContents.header.html(MobileAdInGamePreroll.close),
MobileAdInGamePreroll.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();this.overlay.hide()}};var MobileAdInGameHeader={ad_duration:_SETTINGS.Ad.Mobile.Header.Duration,ad_width:_SETTINGS.Ad.Mobile.Header.Width,ad_height:_SETTINGS.Ad.Mobile.Header.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Header.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Header.Rotation.Weight,c=b.MobileAdInGameHeader,d=c+b.MobileAdInGameHeader2,b=d+b.MobileAdInGameHeader3,f=Math.floor(100*Math.random());console.log("seed: ",f);f<=c?this.selectedOverlayName="MobileAdInGameHeader":f<=d?this.selectedOverlayName="MobileAdInGameHeader2":
f<=b&&(this.selectedOverlayName="MobileAdInGameHeader3");console.log("Ad rotating header enabled")}else this.selectedOverlayName="MobileAdInGameHeader",console.log("Ad rotating header disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",0);this.div.show(this.Timer(this.ad_duration))},Timer:function(b){var c=setInterval(function(){b--;
0>b&&(MobileAdInGameHeader.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameFooter={ad_duration:_SETTINGS.Ad.Mobile.Footer.Duration,ad_width:_SETTINGS.Ad.Mobile.Footer.Width,ad_height:_SETTINGS.Ad.Mobile.Footer.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Footer.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Footer.Rotation.Weight,c=b.MobileAdInGameFooter,d=c+b.MobileAdInGameFooter2,b=d+b.MobileAdInGameFooter3,f=Math.floor(100*Math.random());console.log("seed: ",f);f<=c?this.selectedOverlayName="MobileAdInGameFooter":f<=d?this.selectedOverlayName="MobileAdInGameFooter2":
f<=b&&(this.selectedOverlayName="MobileAdInGameFooter3");console.log("Ad rotating footer enabled")}else this.selectedOverlayName="MobileAdInGameFooter",console.log("Ad rotating footer disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",this.game.height()-this.div.height()-5);this.div.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=setInterval(function(){b--;0>b&&(MobileAdInGameFooter.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameEnd={ad_duration:_SETTINGS.Ad.Mobile.End.Duration,ad_width:_SETTINGS.Ad.Mobile.End.Width,ad_height:_SETTINGS.Ad.Mobile.End.Height,ready_in:_STRINGS.Ad.Mobile.End.ReadyIn,loading:_STRINGS.Ad.Mobile.End.Loading,close:_STRINGS.Ad.Mobile.End.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.End.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.End.Rotation.Weight,c=b.MobileAdInGameEnd,d=c+b.MobileAdInGameEnd2,b=d+b.MobileAdInGameEnd3,
f=Math.floor(100*Math.random());console.log("seed: ",f);f<=c?this.selectedOverlayName="MobileAdInGameEnd":f<=d?this.selectedOverlayName="MobileAdInGameEnd2":f<=b&&(this.selectedOverlayName="MobileAdInGameEnd3");console.log("Ad rotating end enabled")}else this.selectedOverlayName="MobileAdInGameEnd",console.log("Ad rotating end disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");
this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGameEnd.boxContents.header.text(MobileAdInGameEnd.ready_in+c+"...");MobileAdInGameEnd.boxContents.footer.text(MobileAdInGameEnd.loading);c--;0>c&&(clearInterval(d),MobileAdInGameEnd.boxContents.close.css("left",MobileAdInGameEnd.boxContents.body.width()-23),MobileAdInGameEnd.boxContents.close.show(),MobileAdInGameEnd.boxContents.header.html(MobileAdInGameEnd.close),MobileAdInGameEnd.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();
this.overlay.hide()}};(function(b,c){function d(b,d,A){if(A===c&&1===b.nodeType)if(A="data-"+d.replace(tc,"-$1").toLowerCase(),A=b.getAttribute(A),"string"==typeof A){try{A="true"===A?!0:"false"===A?!1:"null"===A?null:+A+""===A?+A:uc.test(A)?j.parseJSON(A):A}catch(e){}j.data(b,d,A)}else A=c;return A}function f(b){for(var c in b)if(!("data"===c&&j.isEmptyObject(b[c]))&&"toJSON"!==c)return!1;return!0}function e(){return!1}function g(){return!0}function n(b){return!b||!b.parentNode||11===b.parentNode.nodeType}function m(b,
c){do b=b[c];while(b&&1!==b.nodeType);return b}function p(b,c,d){c=c||0;if(j.isFunction(c))return j.grep(b,function(b,B){return!!c.call(b,B,b)===d});if(c.nodeType)return j.grep(b,function(b){return b===c===d});if("string"==typeof c){var e=j.grep(b,function(b){return 1===b.nodeType});if(vc.test(c))return j.filter(c,e,!d);c=j.filter(c,e)}return j.grep(b,function(b){return 0<=j.inArray(b,c)===d})}function s(b){var c=yb.split("|");b=b.createDocumentFragment();if(b.createElement)for(;c.length;)b.createElement(c.pop());
return b}function r(b,c){if(1===c.nodeType&&j.hasData(b)){var d,e,f;e=j._data(b);var g=j._data(c,e),u=e.events;if(u)for(d in delete g.handle,g.events={},u){e=0;for(f=u[d].length;e<f;e++)j.event.add(c,d,u[d][e])}g.data&&(g.data=j.extend({},g.data))}}function x(b,c){var d;1===c.nodeType&&(c.clearAttributes&&c.clearAttributes(),c.mergeAttributes&&c.mergeAttributes(b),d=c.nodeName.toLowerCase(),"object"===d?(c.parentNode&&(c.outerHTML=b.outerHTML),j.support.html5Clone&&b.innerHTML&&!j.trim(c.innerHTML)&&
(c.innerHTML=b.innerHTML)):"input"===d&&zb.test(b.type)?(c.defaultChecked=c.checked=b.checked,c.value!==b.value&&(c.value=b.value)):"option"===d?c.selected=b.defaultSelected:"input"===d||"textarea"===d?c.defaultValue=b.defaultValue:"script"===d&&c.text!==b.text&&(c.text=b.text),c.removeAttribute(j.expando))}function y(b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll("*"):[]}function H(b){zb.test(b.type)&&(b.defaultChecked=
b.checked)}function l(b,c){if(c in b)return c;for(var d=c.charAt(0).toUpperCase()+c.slice(1),j=c,e=Ab.length;e--;)if(c=Ab[e]+d,c in b)return c;return j}function q(b,c){return b=c||b,"none"===j.css(b,"display")||!j.contains(b.ownerDocument,b)}function t(b,c){for(var d,e,f=[],g=0,u=b.length;g<u;g++)d=b[g],d.style&&(f[g]=j._data(d,"olddisplay"),c?(!f[g]&&"none"===d.style.display&&(d.style.display=""),""===d.style.display&&q(d)&&(f[g]=j._data(d,"olddisplay",ea(d.nodeName)))):(e=O(d,"display"),!f[g]&&
"none"!==e&&j._data(d,"olddisplay",e)));for(g=0;g<u;g++)if(d=b[g],d.style&&(!c||"none"===d.style.display||""===d.style.display))d.style.display=c?f[g]||"":"none";return b}function K(b,c,d){return(b=wc.exec(c))?Math.max(0,b[1]-(d||0))+(b[2]||"px"):c}function L(b,c,d,e){c=d===(e?"border":"content")?4:"width"===c?1:0;for(var f=0;4>c;c+=2)"margin"===d&&(f+=j.css(b,d+fa[c],!0)),e?("content"===d&&(f-=parseFloat(O(b,"padding"+fa[c]))||0),"margin"!==d&&(f-=parseFloat(O(b,"border"+fa[c]+"Width"))||0)):(f+=
parseFloat(O(b,"padding"+fa[c]))||0,"padding"!==d&&(f+=parseFloat(O(b,"border"+fa[c]+"Width"))||0));return f}function P(b,c,d){var e="width"===c?b.offsetWidth:b.offsetHeight,f=!0,g=j.support.boxSizing&&"border-box"===j.css(b,"boxSizing");if(0>=e||null==e){e=O(b,c);if(0>e||null==e)e=b.style[c];if(Aa.test(e))return e;f=g&&(j.support.boxSizingReliable||e===b.style[c]);e=parseFloat(e)||0}return e+L(b,c,d||(g?"border":"content"),f)+"px"}function ea(b){if(Za[b])return Za[b];var c=j("<"+b+">").appendTo(z.body),
d=c.css("display");c.remove();if("none"===d||""===d){ma=z.body.appendChild(ma||j.extend(z.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!na||!ma.createElement)na=(ma.contentWindow||ma.contentDocument).document,na.write("<!doctype html><html><body>"),na.close();c=na.body.appendChild(na.createElement(b));d=O(c,"display");z.body.removeChild(ma)}return Za[b]=d,d}function oa(b,c,d,e){var f;if(j.isArray(c))j.each(c,function(c,C){d||xc.test(b)?e(b,C):oa(b+"["+("object"==typeof C?c:"")+"]",
C,d,e)});else if(!d&&"object"===j.type(c))for(f in c)oa(b+"["+f+"]",c[f],d,e);else e(b,c)}function E(b){return function(c,d){"string"!=typeof c&&(d=c,c="*");var e,f,g=c.toLowerCase().split(ga),u=0,Z=g.length;if(j.isFunction(d))for(;u<Z;u++)e=g[u],(f=/^\+/.test(e))&&(e=e.substr(1)||"*"),e=b[e]=b[e]||[],e[f?"unshift":"push"](d)}}function J(b,d,A,e,j,f){j=j||d.dataTypes[0];f=f||{};f[j]=!0;var g;j=b[j];for(var Z=0,l=j?j.length:0,m=b===$a;Z<l&&(m||!g);Z++)g=j[Z](d,A,e),"string"==typeof g&&(!m||f[g]?g=
c:(d.dataTypes.unshift(g),g=J(b,d,A,e,g,f)));return(m||!g)&&!f["*"]&&(g=J(b,d,A,e,"*",f)),g}function Bb(b,d){var A,e,f=j.ajaxSettings.flatOptions||{};for(A in d)d[A]!==c&&((f[A]?b:e||(e={}))[A]=d[A]);e&&j.extend(!0,b,e)}function Ba(){try{return new b.XMLHttpRequest}catch(c){}}function ua(){return setTimeout(function(){Ca=c},0),Ca=j.now()}function Cb(b,c,d){var e,f=0,g=Da.length,u=j.Deferred().always(function(){delete Z.elem}),Z=function(){for(var c=Ca||ua(),c=Math.max(0,l.startTime+l.duration-c),
d=1-(c/l.duration||0),C=0,A=l.tweens.length;C<A;C++)l.tweens[C].run(d);return u.notifyWith(b,[l,d,c]),1>d&&A?c:(u.resolveWith(b,[l]),!1)},l=u.promise({elem:b,props:j.extend({},c),opts:j.extend(!0,{specialEasing:{}},d),originalProperties:c,originalOptions:d,startTime:Ca||ua(),duration:d.duration,tweens:[],createTween:function(c,d){var C=j.Tween(b,l.opts,c,d,l.opts.specialEasing[c]||l.opts.easing);return l.tweens.push(C),C},stop:function(c){for(var d=0,C=c?l.tweens.length:0;d<C;d++)l.tweens[d].run(1);
return c?u.resolveWith(b,[l,c]):u.rejectWith(b,[l,c]),this}});c=l.props;d=l.opts.specialEasing;var m,q,Q,p;for(e in c)if(m=j.camelCase(e),q=d[m],Q=c[e],j.isArray(Q)&&(q=Q[1],Q=c[e]=Q[0]),e!==m&&(c[m]=Q,delete c[e]),(p=j.cssHooks[m])&&"expand"in p)for(e in Q=p.expand(Q),delete c[m],Q)e in c||(c[e]=Q[e],d[e]=q);else d[m]=q;for(;f<g;f++)if(e=Da[f].call(l,b,c,l.opts))return e;var n=l;j.each(c,function(b,c){for(var B=(va[b]||[]).concat(va["*"]),d=0,C=B.length;d<C&&!B[d].call(n,b,c);d++);});return j.isFunction(l.opts.start)&&
l.opts.start.call(b,l),j.fx.timer(j.extend(Z,{anim:l,queue:l.opts.queue,elem:b})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function R(b,c,d,e,j){return new R.prototype.init(b,c,d,e,j)}function Ea(b,c){var d,e={height:b},j=0;for(c=c?1:0;4>j;j+=2-c)d=fa[j],e["margin"+d]=e["padding"+d]=b;return c&&(e.opacity=e.width=b),e}function Db(b){return j.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var Eb,Fa,z=b.document,zc=b.location,
Ac=b.navigator,Bc=b.jQuery,Cc=b.$,Fb=Array.prototype.push,Y=Array.prototype.slice,Gb=Array.prototype.indexOf,Dc=Object.prototype.toString,bb=Object.prototype.hasOwnProperty,cb=String.prototype.trim,j=function(b,c){return new j.fn.init(b,c,Eb)},Ga=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Ec=/\S/,ga=/\s+/,Fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Gc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Hb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hc=/^[\],:{}\s]*$/,Ic=/(?:^|:|,)(?:\s*\[)+/g,Jc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
Kc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Lc=/^-ms-/,Mc=/-([\da-z])/gi,Nc=function(b,c){return(c+"").toUpperCase()},Ha=function(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",Ha,!1),j.ready()):"complete"===z.readyState&&(z.detachEvent("onreadystatechange",Ha),j.ready())},Ib={};j.fn=j.prototype={constructor:j,init:function(b,d,e){var f,g;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"==typeof b){"<"===b.charAt(0)&&
">"===b.charAt(b.length-1)&&3<=b.length?f=[null,b,null]:f=Gc.exec(b);if(f&&(f[1]||!d)){if(f[1])return d=d instanceof j?d[0]:d,g=d&&d.nodeType?d.ownerDocument||d:z,b=j.parseHTML(f[1],g,!0),Hb.test(f[1])&&j.isPlainObject(d)&&this.attr.call(b,d,!0),j.merge(this,b);if((d=z.getElementById(f[2]))&&d.parentNode){if(d.id!==f[2])return e.find(b);this.length=1;this[0]=d}return this.context=z,this.selector=b,this}return!d||d.jquery?(d||e).find(b):this.constructor(d).find(b)}return j.isFunction(b)?e.ready(b):
(b.selector!==c&&(this.selector=b.selector,this.context=b.context),j.makeArray(b,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b,c,d){b=j.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,"find"===c?b.selector=this.selector+(this.selector?" ":"")+d:c&&(b.selector=this.selector+"."+c+"("+d+")"),b},each:function(b,
c){return j.each(this,b,c)},ready:function(b){return j.ready.promise().done(b),this},eq:function(b){return b=+b,-1===b?this.slice(b):this.slice(b,b+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(b){return this.pushStack(j.map(this,function(c,d){return b.call(c,d,c)}))},end:function(){return this.prevObject||this.constructor(null)},push:Fb,sort:[].sort,splice:[].splice};
j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var b,d,e,f,g,v,u=arguments[0]||{},l=1,m=arguments.length,q=!1;"boolean"==typeof u&&(q=u,u=arguments[1]||{},l=2);"object"!=typeof u&&!j.isFunction(u)&&(u={});for(m===l&&(u=this,--l);l<m;l++)if(null!=(b=arguments[l]))for(d in b)e=u[d],f=b[d],u!==f&&(q&&f&&(j.isPlainObject(f)||(g=j.isArray(f)))?(g?(g=!1,v=e&&j.isArray(e)?e:[]):v=e&&j.isPlainObject(e)?e:{},u[d]=j.extend(q,v,f)):f!==c&&(u[d]=f));return u};j.extend({noConflict:function(c){return b.$===
j&&(b.$=Cc),c&&b.jQuery===j&&(b.jQuery=Bc),j},isReady:!1,readyWait:1,holdReady:function(b){b?j.readyWait++:j.ready(!0)},ready:function(b){if(!(!0===b?--j.readyWait:j.isReady)){if(!z.body)return setTimeout(j.ready,1);j.isReady=!0;!0!==b&&0<--j.readyWait||(Fa.resolveWith(z,[j]),j.fn.trigger&&j(z).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===j.type(b)},isArray:Array.isArray||function(b){return"array"===j.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&
isFinite(b)},type:function(b){return null==b?String(b):Ib[Dc.call(b)]||"object"},isPlainObject:function(b){if(!b||"object"!==j.type(b)||b.nodeType||j.isWindow(b))return!1;try{if(b.constructor&&!bb.call(b,"constructor")&&!bb.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var e in b);return e===c||bb.call(b,e)},isEmptyObject:function(b){for(var c in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,c,d){var e;return!b||"string"!=typeof b?null:
("boolean"==typeof c&&(d=c,c=0),c=c||z,(e=Hb.exec(b))?[c.createElement(e[1])]:(e=j.buildFragment([b],c,d?null:[]),j.merge([],(e.cacheable?j.clone(e.fragment):e.fragment).childNodes)))},parseJSON:function(c){if(!c||"string"!=typeof c)return null;c=j.trim(c);if(b.JSON&&b.JSON.parse)return b.JSON.parse(c);if(Hc.test(c.replace(Jc,"@").replace(Kc,"]").replace(Ic,"")))return(new Function("return "+c))();j.error("Invalid JSON: "+c)},parseXML:function(B){var d,e;if(!B||"string"!=typeof B)return null;try{b.DOMParser?
(e=new DOMParser,d=e.parseFromString(B,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(B))}catch(f){d=c}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&j.error("Invalid XML: "+B),d},noop:function(){},globalEval:function(c){c&&Ec.test(c)&&(b.execScript||function(c){b.eval.call(b,c)})(c)},camelCase:function(b){return b.replace(Lc,"ms-").replace(Mc,Nc)},nodeName:function(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()},
each:function(b,d,e){var f,g=0,v=b.length,u=v===c||j.isFunction(b);if(e)if(u)for(f in b){if(!1===d.apply(b[f],e))break}else for(;g<v&&!1!==d.apply(b[g++],e););else if(u)for(f in b){if(!1===d.call(b[f],f,b[f]))break}else for(;g<v&&!1!==d.call(b[g],g,b[g++]););return b},trim:cb&&!cb.call("\ufeff\u00a0")?function(b){return null==b?"":cb.call(b)}:function(b){return null==b?"":(b+"").replace(Fc,"")},makeArray:function(b,c){var d,e=c||[];return null!=b&&(d=j.type(b),null==b.length||"string"===d||"function"===
d||"regexp"===d||j.isWindow(b)?Fb.call(e,b):j.merge(e,b)),e},inArray:function(b,c,d){var e;if(c){if(Gb)return Gb.call(c,b,d);e=c.length;for(d=d?0>d?Math.max(0,e+d):d:0;d<e;d++)if(d in c&&c[d]===b)return d}return-1},merge:function(b,d){var e=d.length,j=b.length,f=0;if("number"==typeof e)for(;f<e;f++)b[j++]=d[f];else for(;d[f]!==c;)b[j++]=d[f++];return b.length=j,b},grep:function(b,c,d){var e,j=[],f=0,g=b.length;for(d=!!d;f<g;f++)e=!!c(b[f],f),d!==e&&j.push(b[f]);return j},map:function(b,d,e){var f,
g,v=[],u=0,l=b.length;if(b instanceof j||l!==c&&"number"==typeof l&&(0<l&&b[0]&&b[l-1]||0===l||j.isArray(b)))for(;u<l;u++)f=d(b[u],u,e),null!=f&&(v[v.length]=f);else for(g in b)f=d(b[g],g,e),null!=f&&(v[v.length]=f);return v.concat.apply([],v)},guid:1,proxy:function(b,d){var e,f,g;return"string"==typeof d&&(e=b[d],d=b,b=e),j.isFunction(b)?(f=Y.call(arguments,2),g=function(){return b.apply(d,f.concat(Y.call(arguments)))},g.guid=b.guid=b.guid||j.guid++,g):c},access:function(b,d,e,f,g,v,u){var l,m=null==
e,q=0,p=b.length;if(e&&"object"==typeof e){for(q in e)j.access(b,d,q,e[q],1,v,f);g=1}else if(f!==c){l=u===c&&j.isFunction(f);m&&(l?(l=d,d=function(b,c,d){return l.call(j(b),d)}):(d.call(b,f),d=null));if(d)for(;q<p;q++)d(b[q],e,l?f.call(b[q],q,d(b[q],e)):f,u);g=1}return g?b:m?d.call(b):p?d(b[0],e):v},now:function(){return(new Date).getTime()}});j.ready.promise=function(c){if(!Fa)if(Fa=j.Deferred(),"complete"===z.readyState)setTimeout(j.ready,1);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",
Ha,!1),b.addEventListener("load",j.ready,!1);else{z.attachEvent("onreadystatechange",Ha);b.attachEvent("onload",j.ready);var d=!1;try{d=null==b.frameElement&&z.documentElement}catch(e){}d&&d.doScroll&&function ta(){if(!j.isReady){try{d.doScroll("left")}catch(b){return setTimeout(ta,50)}j.ready()}}()}return Fa.promise(c)};j.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b,c){Ib["[object "+c+"]"]=c.toLowerCase()});Eb=j(z);var Jb={};j.Callbacks=function(b){var d;if("string"==
typeof b){if(!(d=Jb[b])){d=b;var e=Jb[d]={};d=(j.each(d.split(ga),function(b,c){e[c]=!0}),e)}}else d=j.extend({},b);b=d;var f,g,v,u,l,m,q=[],p=!b.once&&[],Q=function(c){f=b.memory&&c;g=!0;m=u||0;u=0;l=q.length;for(v=!0;q&&m<l;m++)if(!1===q[m].apply(c[0],c[1])&&b.stopOnFalse){f=!1;break}v=!1;q&&(p?p.length&&Q(p.shift()):f?q=[]:n.disable())},n={add:function(){if(q){var c=q.length;(function yc(c){j.each(c,function(c,d){var C=j.type(d);"function"===C&&(!b.unique||!n.has(d))?q.push(d):d&&d.length&&"string"!==
C&&yc(d)})})(arguments);v?l=q.length:f&&(u=c,Q(f))}return this},remove:function(){return q&&j.each(arguments,function(b,c){for(var d;-1<(d=j.inArray(c,q,d));)q.splice(d,1),v&&(d<=l&&l--,d<=m&&m--)}),this},has:function(b){return-1<j.inArray(b,q)},empty:function(){return q=[],this},disable:function(){return q=p=f=c,this},disabled:function(){return!q},lock:function(){return p=c,f||n.disable(),this},locked:function(){return!p},fireWith:function(b,c){return c=c||[],c=[b,c.slice?c.slice():c],q&&(!g||p)&&
(v?p.push(c):Q(c)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!g}};return n};j.extend({Deferred:function(b){var c=[["resolve","done",j.Callbacks("once memory"),"resolved"],["reject","fail",j.Callbacks("once memory"),"rejected"],["notify","progress",j.Callbacks("memory")]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var b=arguments;return j.Deferred(function(d){j.each(c,function(c,
B){var C=B[0],e=b[c];f[B[1]](j.isFunction(e)?function(){var b=e.apply(this,arguments);b&&j.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[C+"With"](this===f?d:this,[b])}:d[C])});b=null}).promise()},promise:function(b){return null!=b?j.extend(b,e):e}},f={};return e.pipe=e.then,j.each(c,function(b,B){var j=B[2],g=B[3];e[B[1]]=j.add;g&&j.add(function(){d=g},c[b^1][2].disable,c[2][2].lock);f[B[0]]=j.fire;f[B[0]+"With"]=j.fireWith}),e.promise(f),b&&b.call(f,f),f},
when:function(b){var c=0,d=Y.call(arguments),e=d.length,f=1!==e||b&&j.isFunction(b.promise)?e:0,g=1===f?b:j.Deferred(),u=function(b,c,d){return function(B){c[b]=this;d[b]=1<arguments.length?Y.call(arguments):B;d===l?g.notifyWith(c,d):--f||g.resolveWith(c,d)}},l,m,q;if(1<e){l=Array(e);m=Array(e);for(q=Array(e);c<e;c++)d[c]&&j.isFunction(d[c].promise)?d[c].promise().done(u(c,q,d)).fail(g.reject).progress(u(c,m,l)):--f}return f||g.resolveWith(q,d),g.promise()}});var Oc=j,db,N,Ia,ha,Ja,Ka,S,ia,La,eb,
wa,Kb,D=z.createElement("div");D.setAttribute("className","t");D.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Ia=D.getElementsByTagName("*");ha=D.getElementsByTagName("a")[0];ha.style.cssText="top:1px;float:left;opacity:.5";if(!Ia||!Ia.length)db={};else{Ja=z.createElement("select");Ka=Ja.appendChild(z.createElement("option"));S=D.getElementsByTagName("input")[0];N={leadingWhitespace:3===D.firstChild.nodeType,tbody:!D.getElementsByTagName("tbody").length,htmlSerialize:!!D.getElementsByTagName("link").length,
style:/top/.test(ha.getAttribute("style")),hrefNormalized:"/a"===ha.getAttribute("href"),opacity:/^0.5/.test(ha.style.opacity),cssFloat:!!ha.style.cssFloat,checkOn:"on"===S.value,optSelected:Ka.selected,getSetAttribute:"t"!==D.className,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===z.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};S.checked=!0;N.noCloneChecked=S.cloneNode(!0).checked;Ja.disabled=!0;N.optDisabled=!Ka.disabled;try{delete D.test}catch(Qd){N.deleteExpando=!1}!D.addEventListener&&D.attachEvent&&D.fireEvent&&(D.attachEvent("onclick",Kb=function(){N.noCloneEvent=!1}),D.cloneNode(!0).fireEvent("onclick"),D.detachEvent("onclick",Kb));S=z.createElement("input");S.value="t";S.setAttribute("type","radio");N.radioValue="t"===S.value;S.setAttribute("checked",
"checked");S.setAttribute("name","t");D.appendChild(S);ia=z.createDocumentFragment();ia.appendChild(D.lastChild);N.checkClone=ia.cloneNode(!0).cloneNode(!0).lastChild.checked;N.appendChecked=S.checked;ia.removeChild(S);ia.appendChild(D);if(D.attachEvent)for(eb in{submit:!0,change:!0,focusin:!0})La="on"+eb,(wa=La in D)||(D.setAttribute(La,"return;"),wa="function"==typeof D[La]),N[eb+"Bubbles"]=wa;db=(j(function(){var c,d,e,j,f=z.getElementsByTagName("body")[0];f&&(c=z.createElement("div"),c.style.cssText=
"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",f.insertBefore(c,f.firstChild),d=z.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",wa=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",N.reliableHiddenOffsets=wa&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
N.boxSizing=4===d.offsetWidth,N.doesNotIncludeMarginInBodyOffset=1!==f.offsetTop,b.getComputedStyle&&(N.pixelPosition="1%"!==(b.getComputedStyle(d,null)||{}).top,N.boxSizingReliable="4px"===(b.getComputedStyle(d,null)||{width:"4px"}).width,j=z.createElement("div"),j.style.cssText=d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",j.style.marginRight=j.style.width="0",d.style.width="1px",d.appendChild(j),N.reliableMarginRight=!parseFloat((b.getComputedStyle(j,null)||{}).marginRight)),
"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",N.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",N.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),f.removeChild(c))}),ia.removeChild(D),Ia=ha=Ja=Ka=S=ia=D=null,N)}Oc.support=db;var uc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,tc=/([A-Z])/g;
j.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(j.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){return b=b.nodeType?j.cache[b[j.expando]]:b[j.expando],!!b&&!f(b)},data:function(b,d,e,f){if(j.acceptData(b)){var g,v,u=j.expando,l="string"==typeof d,m=b.nodeType,q=m?j.cache:b,p=m?b[u]:b[u]&&u;if(p&&q[p]&&(f||q[p].data)||!(l&&e===c)){p||(m?b[u]=p=j.deletedIds.pop()||j.guid++:p=u);q[p]||(q[p]={},
m||(q[p].toJSON=j.noop));if("object"==typeof d||"function"==typeof d)f?q[p]=j.extend(q[p],d):q[p].data=j.extend(q[p].data,d);return g=q[p],f||(g.data||(g.data={}),g=g.data),e!==c&&(g[j.camelCase(d)]=e),l?(v=g[d],null==v&&(v=g[j.camelCase(d)])):v=g,v}}},removeData:function(b,c,d){if(j.acceptData(b)){var e,g,v,u=b.nodeType,l=u?j.cache:b,m=u?b[j.expando]:j.expando;if(l[m]){if(c&&(e=d?l[m]:l[m].data)){j.isArray(c)||(c in e?c=[c]:(c=j.camelCase(c),c in e?c=[c]:c=c.split(" ")));g=0;for(v=c.length;g<v;g++)delete e[c[g]];
if(!(d?f:j.isEmptyObject)(e))return}if(d||!(delete l[m].data,!f(l[m])))u?j.cleanData([b],!0):j.support.deleteExpando||l!=l.window?delete l[m]:l[m]=null}}},_data:function(b,c,d){return j.data(b,c,d,!0)},acceptData:function(b){var c=b.nodeName&&j.noData[b.nodeName.toLowerCase()];return!c||!0!==c&&b.getAttribute("classid")===c}});j.fn.extend({data:function(b,e){var f,g,ta,v,u,l=this[0],m=0,q=null;if(b===c){if(this.length&&(q=j.data(l),1===l.nodeType&&!j._data(l,"parsedAttrs"))){ta=l.attributes;for(u=
ta.length;m<u;m++)v=ta[m].name,v.indexOf("data-")||(v=j.camelCase(v.substring(5)),d(l,v,q[v]));j._data(l,"parsedAttrs",!0)}return q}return"object"==typeof b?this.each(function(){j.data(this,b)}):(f=b.split(".",2),f[1]=f[1]?"."+f[1]:"",g=f[1]+"!",j.access(this,function(e){if(e===c)return q=this.triggerHandler("getData"+g,[f[0]]),q===c&&l&&(q=j.data(l,b),q=d(l,b,q)),q===c&&f[1]?this.data(f[0]):q;f[1]=e;this.each(function(){var c=j(this);c.triggerHandler("setData"+g,f);j.data(this,b,e);c.triggerHandler("changeData"+
g,f)})},null,e,1<arguments.length,null,!1))},removeData:function(b){return this.each(function(){j.removeData(this,b)})}});j.extend({queue:function(b,c,d){var e;if(b)return c=(c||"fx")+"queue",e=j._data(b,c),d&&(!e||j.isArray(d)?e=j._data(b,c,j.makeArray(d)):e.push(d)),e||[]},dequeue:function(b,c){c=c||"fx";var d=j.queue(b,c),e=d.length,f=d.shift(),g=j._queueHooks(b,c),u=function(){j.dequeue(b,c)};"inprogress"===f&&(f=d.shift(),e--);f&&("fx"===c&&d.unshift("inprogress"),delete g.stop,f.call(b,u,g));
!e&&g&&g.empty.fire()},_queueHooks:function(b,c){var d=c+"queueHooks";return j._data(b,d)||j._data(b,d,{empty:j.Callbacks("once memory").add(function(){j.removeData(b,c+"queue",!0);j.removeData(b,d,!0)})})}});j.fn.extend({queue:function(b,d){var e=2;return"string"!=typeof b&&(d=b,b="fx",e--),arguments.length<e?j.queue(this[0],b):d===c?this:this.each(function(){var c=j.queue(this,b,d);j._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&j.dequeue(this,b)})},dequeue:function(b){return this.each(function(){j.dequeue(this,
b)})},delay:function(b,c){return b=j.fx?j.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=setTimeout(c,b);d.stop=function(){clearTimeout(e)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,d){var e,f=1,g=j.Deferred(),v=this,u=this.length,l=function(){--f||g.resolveWith(v,[v])};"string"!=typeof b&&(d=b,b=c);for(b=b||"fx";u--;)(e=j._data(v[u],b+"queueHooks"))&&e.empty&&(f++,e.empty.add(l));return l(),g.promise(d)}});var ba,Lb,Mb,Nb=/[\t\r\n]/g,Pc=/\r/g,Qc=/^(?:button|input)$/i,
Rc=/^(?:button|input|object|select|textarea)$/i,Sc=/^a(?:rea|)$/i,Ob=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Pb=j.support.getSetAttribute;j.fn.extend({attr:function(b,c){return j.access(this,j.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){j.removeAttr(this,b)})},prop:function(b,c){return j.access(this,j.prop,b,c,1<arguments.length)},removeProp:function(b){return b=j.propFix[b]||
b,this.each(function(){try{this[b]=c,delete this[b]}catch(d){}})},addClass:function(b){var c,d,e,f,g,u,l;if(j.isFunction(b))return this.each(function(c){j(this).addClass(b.call(this,c,this.className))});if(b&&"string"==typeof b){c=b.split(ga);d=0;for(e=this.length;d<e;d++)if(f=this[d],1===f.nodeType)if(!f.className&&1===c.length)f.className=b;else{g=" "+f.className+" ";u=0;for(l=c.length;u<l;u++)0>g.indexOf(" "+c[u]+" ")&&(g+=c[u]+" ");f.className=j.trim(g)}}return this},removeClass:function(b){var d,
e,f,g,v,u,l;if(j.isFunction(b))return this.each(function(c){j(this).removeClass(b.call(this,c,this.className))});if(b&&"string"==typeof b||b===c){d=(b||"").split(ga);u=0;for(l=this.length;u<l;u++)if(f=this[u],1===f.nodeType&&f.className){e=(" "+f.className+" ").replace(Nb," ");g=0;for(v=d.length;g<v;g++)for(;0<=e.indexOf(" "+d[g]+" ");)e=e.replace(" "+d[g]+" "," ");f.className=b?j.trim(e):""}}return this},toggleClass:function(b,c){var d=typeof b,e="boolean"==typeof c;return j.isFunction(b)?this.each(function(d){j(this).toggleClass(b.call(this,
d,this.className,c),c)}):this.each(function(){if("string"===d)for(var f,g=0,u=j(this),l=c,m=b.split(ga);f=m[g++];)l=e?l:!u.hasClass(f),u[l?"addClass":"removeClass"](f);else if("undefined"===d||"boolean"===d)this.className&&j._data(this,"__className__",this.className),this.className=this.className||!1===b?"":j._data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&0<=(" "+this[c].className+" ").replace(Nb," ").indexOf(b))return!0;
return!1},val:function(b){var d,e,f,g=this[0];if(arguments.length)return f=j.isFunction(b),this.each(function(e){var A,g=j(this);if(1===this.nodeType&&(f?A=b.call(this,e,g.val()):A=b,null==A?A="":"number"==typeof A?A+="":j.isArray(A)&&(A=j.map(A,function(b){return null==b?"":b+""})),d=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()],!d||!("set"in d)||d.set(this,A,"value")===c))this.value=A});if(g)return d=j.valHooks[g.type]||j.valHooks[g.nodeName.toLowerCase()],d&&"get"in d&&(e=d.get(g,
"value"))!==c?e:(e=g.value,"string"==typeof e?e.replace(Pc,""):null==e?"":e)}});j.extend({valHooks:{option:{get:function(b){var c=b.attributes.value;return!c||c.specified?b.value:b.text}},select:{get:function(b){var c,d,e=b.selectedIndex,f=[],g=b.options,u="select-one"===b.type;if(0>e)return null;b=u?e:0;for(d=u?e+1:g.length;b<d;b++)if(c=g[b],c.selected&&(j.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!j.nodeName(c.parentNode,"optgroup"))){c=j(c).val();
if(u)return c;f.push(c)}return u&&!f.length&&g.length?j(g[e]).val():f},set:function(b,c){var d=j.makeArray(c);return j(b).find("option").each(function(){this.selected=0<=j.inArray(j(this).val(),d)}),d.length||(b.selectedIndex=-1),d}}},attrFn:{},attr:function(b,d,e,f){var g,v,u=b.nodeType;if(b&&!(3===u||8===u||2===u)){if(f&&j.isFunction(j.fn[d]))return j(b)[d](e);if("undefined"==typeof b.getAttribute)return j.prop(b,d,e);(f=1!==u||!j.isXMLDoc(b))&&(d=d.toLowerCase(),v=j.attrHooks[d]||(Ob.test(d)?Lb:
ba));if(e!==c){if(null===e){j.removeAttr(b,d);return}return v&&"set"in v&&f&&(g=v.set(b,e,d))!==c?g:(b.setAttribute(d,e+""),e)}return v&&"get"in v&&f&&null!==(g=v.get(b,d))?g:(g=b.getAttribute(d),null===g?c:g)}},removeAttr:function(b,c){var d,e,f,g,u=0;if(c&&1===b.nodeType)for(e=c.split(ga);u<e.length;u++)(f=e[u])&&(d=j.propFix[f]||f,g=Ob.test(f),g||j.attr(b,f,""),b.removeAttribute(Pb?f:d),g&&d in b&&(b[d]=!1))},attrHooks:{type:{set:function(b,c){if(Qc.test(b.nodeName)&&b.parentNode)j.error("type property can't be changed");
else if(!j.support.radioValue&&"radio"===c&&j.nodeName(b,"input")){var d=b.value;return b.setAttribute("type",c),d&&(b.value=d),c}}},value:{get:function(b,c){return ba&&j.nodeName(b,"button")?ba.get(b,c):c in b?b.value:null},set:function(b,c,d){if(ba&&j.nodeName(b,"button"))return ba.set(b,c,d);b.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,d,e){var f,g,v,u=b.nodeType;if(b&&!(3===u||8===u||2===u))return v=1!==u||!j.isXMLDoc(b),v&&(d=j.propFix[d]||d,g=j.propHooks[d]),e!==c?g&&"set"in g&&(f=g.set(b,e,d))!==c?f:b[d]=e:g&&"get"in g&&null!==(f=g.get(b,d))?f:b[d]},propHooks:{tabIndex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):Rc.test(b.nodeName)||Sc.test(b.nodeName)&&b.href?0:c}}}});Lb={get:function(b,
d){var e,f=j.prop(b,d);return!0===f||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&!1!==e.nodeValue?d.toLowerCase():c},set:function(b,c,d){var e;return!1===c?j.removeAttr(b,d):(e=j.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}};Pb||(Mb={name:!0,id:!0,coords:!0},ba=j.valHooks.button={get:function(b,d){var e;return e=b.getAttributeNode(d),e&&(Mb[d]?""!==e.value:e.specified)?e.value:c},set:function(b,c,d){var e=b.getAttributeNode(d);return e||(e=z.createAttribute(d),b.setAttributeNode(e)),
e.value=c+""}},j.each(["width","height"],function(b,c){j.attrHooks[c]=j.extend(j.attrHooks[c],{set:function(b,d){if(""===d)return b.setAttribute(c,"auto"),d}})}),j.attrHooks.contenteditable={get:ba.get,set:function(b,c,d){""===c&&(c="false");ba.set(b,c,d)}});j.support.hrefNormalized||j.each(["href","src","width","height"],function(b,d){j.attrHooks[d]=j.extend(j.attrHooks[d],{get:function(b){b=b.getAttribute(d,2);return null===b?c:b}})});j.support.style||(j.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
c},set:function(b,c){return b.style.cssText=c+""}});j.support.optSelected||(j.propHooks.selected=j.extend(j.propHooks.selected,{get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}));j.support.enctype||(j.propFix.enctype="encoding");j.support.checkOn||j.each(["radio","checkbox"],function(){j.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});j.each(["radio","checkbox"],function(){j.valHooks[this]=j.extend(j.valHooks[this],
{set:function(b,c){if(j.isArray(c))return b.checked=0<=j.inArray(j(b).val(),c)}})});var fb=/^(?:textarea|input|select)$/i,Qb=/^([^\.]*|)(?:\.(.+)|)$/,Tc=/(?:^|\s)hover(\.\S+|)\b/,Uc=/^key/,Vc=/^(?:mouse|contextmenu)|click/,Rb=/^(?:focusinfocus|focusoutblur)$/,Sb=function(b){return j.event.special.hover?b:b.replace(Tc,"mouseenter$1 mouseleave$1")};j.event={add:function(b,d,e,f,g){var v,u,l,m,q,p,n,r,t;if(!(3===b.nodeType||8===b.nodeType||!d||!e||!(v=j._data(b)))){e.handler&&(n=e,e=n.handler,g=n.selector);
e.guid||(e.guid=j.guid++);(l=v.events)||(v.events=l={});(u=v.handle)||(v.handle=u=function(b){return"undefined"!=typeof j&&(!b||j.event.triggered!==b.type)?j.event.dispatch.apply(u.elem,arguments):c},u.elem=b);d=j.trim(Sb(d)).split(" ");for(v=0;v<d.length;v++){m=Qb.exec(d[v])||[];q=m[1];p=(m[2]||"").split(".").sort();t=j.event.special[q]||{};q=(g?t.delegateType:t.bindType)||q;t=j.event.special[q]||{};m=j.extend({type:q,origType:m[1],data:f,handler:e,guid:e.guid,selector:g,needsContext:g&&j.expr.match.needsContext.test(g),
namespace:p.join(".")},n);r=l[q];if(!r&&(r=l[q]=[],r.delegateCount=0,!t.setup||!1===t.setup.call(b,f,p,u)))b.addEventListener?b.addEventListener(q,u,!1):b.attachEvent&&b.attachEvent("on"+q,u);t.add&&(t.add.call(b,m),m.handler.guid||(m.handler.guid=e.guid));g?r.splice(r.delegateCount++,0,m):r.push(m);j.event.global[q]=!0}b=null}},global:{},remove:function(b,c,d,e,f){var g,u,l,m,q,p,n,r,t,s,x=j.hasData(b)&&j._data(b);if(x&&(n=x.events)){c=j.trim(Sb(c||"")).split(" ");for(g=0;g<c.length;g++)if(u=Qb.exec(c[g])||
[],l=m=u[1],u=u[2],l){r=j.event.special[l]||{};l=(e?r.delegateType:r.bindType)||l;t=n[l]||[];q=t.length;u=u?RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(p=0;p<t.length;p++)s=t[p],(f||m===s.origType)&&(!d||d.guid===s.guid)&&(!u||u.test(s.namespace))&&(!e||e===s.selector||"**"===e&&s.selector)&&(t.splice(p--,1),s.selector&&t.delegateCount--,r.remove&&r.remove.call(b,s));0===t.length&&q!==t.length&&((!r.teardown||!1===r.teardown.call(b,u,x.handle))&&j.removeEvent(b,
l,x.handle),delete n[l])}else for(l in n)j.event.remove(b,l+c[g],d,e,!0);j.isEmptyObject(n)&&(delete x.handle,j.removeData(b,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(d,e,f,g){if(!f||3!==f.nodeType&&8!==f.nodeType){var l,v,u,m,q,p,n,r=d.type||d;m=[];if(!Rb.test(r+j.event.triggered)&&(0<=r.indexOf("!")&&(r=r.slice(0,-1),l=!0),0<=r.indexOf(".")&&(m=r.split("."),r=m.shift(),m.sort()),f&&!j.event.customEvent[r]||j.event.global[r]))if(d="object"==typeof d?d[j.expando]?
d:new j.Event(r,d):new j.Event(r),d.type=r,d.isTrigger=!0,d.exclusive=l,d.namespace=m.join("."),d.namespace_re=d.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=0>r.indexOf(":")?"on"+r:"",f){if(d.result=c,d.target||(d.target=f),e=null!=e?j.makeArray(e):[],e.unshift(d),q=j.event.special[r]||{},!(q.trigger&&!1===q.trigger.apply(f,e))){n=[[f,q.bindType||r]];if(!g&&!q.noBubble&&!j.isWindow(f)){v=q.delegateType||r;l=Rb.test(v+r)?f:f.parentNode;for(u=f;l;l=l.parentNode)n.push([l,v]),
u=l;u===(f.ownerDocument||z)&&n.push([u.defaultView||u.parentWindow||b,v])}for(v=0;v<n.length&&!d.isPropagationStopped();v++)l=n[v][0],d.type=n[v][1],(p=(j._data(l,"events")||{})[d.type]&&j._data(l,"handle"))&&p.apply(l,e),(p=m&&l[m])&&j.acceptData(l)&&p.apply&&!1===p.apply(l,e)&&d.preventDefault();return d.type=r,!g&&!d.isDefaultPrevented()&&(!q._default||!1===q._default.apply(f.ownerDocument,e))&&("click"!==r||!j.nodeName(f,"a"))&&j.acceptData(f)&&m&&f[r]&&("focus"!==r&&"blur"!==r||0!==d.target.offsetWidth)&&
!j.isWindow(f)&&(u=f[m],u&&(f[m]=null),j.event.triggered=r,f[r](),j.event.triggered=c,u&&(f[m]=u)),d.result}}else for(v in f=j.cache,f)f[v].events&&f[v].events[r]&&j.event.trigger(d,e,f[v].handle.elem,!0)}},dispatch:function(d){d=j.event.fix(d||b.event);var e,f,g,l,v,u,m=(j._data(this,"events")||{})[d.type]||[],q=m.delegateCount,p=Y.call(arguments),r=!d.exclusive&&!d.namespace,n=j.event.special[d.type]||{},t=[];p[0]=d;d.delegateTarget=this;if(!(n.preDispatch&&!1===n.preDispatch.call(this,d))){if(q&&
(!d.button||"click"!==d.type))for(f=d.target;f!=this;f=f.parentNode||this)if(!0!==f.disabled||"click"!==d.type){l={};v=[];for(e=0;e<q;e++)g=m[e],u=g.selector,l[u]===c&&(l[u]=g.needsContext?0<=j(u,this).index(f):j.find(u,this,null,[f]).length),l[u]&&v.push(g);v.length&&t.push({elem:f,matches:v})}m.length>q&&t.push({elem:this,matches:m.slice(q)});for(e=0;e<t.length&&!d.isPropagationStopped();e++){l=t[e];d.currentTarget=l.elem;for(f=0;f<l.matches.length&&!d.isImmediatePropagationStopped();f++)if(g=l.matches[f],
r||!d.namespace&&!g.namespace||d.namespace_re&&d.namespace_re.test(g.namespace))d.data=g.data,d.handleObj=g,g=((j.event.special[g.origType]||{}).handle||g.handler).apply(l.elem,p),g!==c&&(d.result=g,!1===g&&(d.preventDefault(),d.stopPropagation()))}return n.postDispatch&&n.postDispatch.call(this,d),d.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,c){return null==b.which&&(b.which=null!=c.charCode?c.charCode:c.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,d){var e,f,j,g=d.button,u=d.fromElement;return null==b.pageX&&null!=d.clientX&&(e=b.target.ownerDocument||z,f=e.documentElement,j=e.body,b.pageX=d.clientX+(f&&f.scrollLeft||j&&j.scrollLeft||0)-(f&&f.clientLeft||
j&&j.clientLeft||0),b.pageY=d.clientY+(f&&f.scrollTop||j&&j.scrollTop||0)-(f&&f.clientTop||j&&j.clientTop||0)),!b.relatedTarget&&u&&(b.relatedTarget=u===b.target?d.toElement:u),!b.which&&g!==c&&(b.which=g&1?1:g&2?3:g&4?2:0),b}},fix:function(b){if(b[j.expando])return b;var c,d,e=b,f=j.event.fixHooks[b.type]||{},g=f.props?this.props.concat(f.props):this.props;b=j.Event(e);for(c=g.length;c;)d=g[--c],b[d]=e[d];return b.target||(b.target=e.srcElement||z),3===b.target.nodeType&&(b.target=b.target.parentNode),
b.metaKey=!!b.metaKey,f.filter?f.filter(b,e):b},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b,c,d){j.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(b,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}},simulate:function(b,c,d,e){b=j.extend(new j.Event,d,{type:b,isSimulated:!0,originalEvent:{}});e?j.event.trigger(b,null,c):j.event.dispatch.call(c,b);b.isDefaultPrevented()&&d.preventDefault()}};j.event.handle=
j.event.dispatch;j.removeEvent=z.removeEventListener?function(b,c,d){b.removeEventListener&&b.removeEventListener(c,d,!1)}:function(b,c,d){c="on"+c;b.detachEvent&&("undefined"==typeof b[c]&&(b[c]=null),b.detachEvent(c,d))};j.Event=function(b,c){if(this instanceof j.Event)b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?g:e):this.type=b,c&&j.extend(this,c),this.timeStamp=b&&b.timeStamp||j.now(),
this[j.expando]=!0;else return new j.Event(b,c)};j.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var b=this.originalEvent;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var b=this.originalEvent;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()},isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e};
j.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,c){j.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=b.relatedTarget,B=b.handleObj;if(!e||e!==this&&!j.contains(this,e))b.type=B.origType,d=B.handler.apply(this,arguments),b.type=c;return d}}});j.support.submitBubbles||(j.event.special.submit={setup:function(){if(j.nodeName(this,"form"))return!1;j.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=j.nodeName(b,"input")||j.nodeName(b,"button")?
b.form:c)&&!j._data(b,"_submit_attached")&&(j.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),j._data(b,"_submit_attached",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&j.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(j.nodeName(this,"form"))return!1;j.event.remove(this,"._submit")}});j.support.changeBubbles||(j.event.special.change={setup:function(){if(fb.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)j.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),j.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);j.event.simulate("change",this,b,!0)});return!1}j.event.add(this,"beforeactivate._change",function(b){b=b.target;fb.test(b.nodeName)&&!j._data(b,"_change_attached")&&(j.event.add(b,"change._change",function(b){this.parentNode&&!b.isSimulated&&!b.isTrigger&&
j.event.simulate("change",this.parentNode,b,!0)}),j._data(b,"_change_attached",!0))})},handle:function(b){var c=b.target;if(this!==c||b.isSimulated||b.isTrigger||"radio"!==c.type&&"checkbox"!==c.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){return j.event.remove(this,"._change"),!fb.test(this.nodeName)}});j.support.focusinBubbles||j.each({focus:"focusin",blur:"focusout"},function(b,c){var d=0,e=function(b){j.event.simulate(c,b.target,j.event.fix(b),!0)};j.event.special[c]=
{setup:function(){0===d++&&z.addEventListener(b,e,!0)},teardown:function(){0===--d&&z.removeEventListener(b,e,!0)}}});j.fn.extend({on:function(b,d,f,g,l){var v,u;if("object"==typeof b){"string"!=typeof d&&(f=f||d,d=c);for(u in b)this.on(u,d,f,b[u],l);return this}null==f&&null==g?(g=d,f=d=c):null==g&&("string"==typeof d?(g=f,f=c):(g=f,f=d,d=c));if(!1===g)g=e;else if(!g)return this;return 1===l&&(v=g,g=function(b){return j().off(b),v.apply(this,arguments)},g.guid=v.guid||(v.guid=j.guid++)),this.each(function(){j.event.add(this,
b,g,f,d)})},one:function(b,c,d,e){return this.on(b,c,d,e,1)},off:function(b,d,f){var g,l;if(b&&b.preventDefault&&b.handleObj)return g=b.handleObj,j(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof b){for(l in b)this.off(l,d,b[l]);return this}if(!1===d||"function"==typeof d)f=d,d=c;return!1===f&&(f=e),this.each(function(){j.event.remove(this,b,f,d)})},bind:function(b,c,d){return this.on(b,null,c,d)},unbind:function(b,c){return this.off(b,
null,c)},live:function(b,c,d){return j(this.context).on(b,this.selector,c,d),this},die:function(b,c){return j(this.context).off(b,this.selector||"**",c),this},delegate:function(b,c,d,e){return this.on(c,b,d,e)},undelegate:function(b,c,d){return 1===arguments.length?this.off(b,"**"):this.off(c,b||"**",d)},trigger:function(b,c){return this.each(function(){j.event.trigger(b,c,this)})},triggerHandler:function(b,c){if(this[0])return j.event.trigger(b,c,this[0],!0)},toggle:function(b){var c=arguments,d=
b.guid||j.guid++,e=0,f=function(d){var f=(j._data(this,"lastToggle"+b.guid)||0)%e;return j._data(this,"lastToggle"+b.guid,f+1),d.preventDefault(),c[f].apply(this,arguments)||!1};for(f.guid=d;e<c.length;)c[e++].guid=d;return this.click(f)},hover:function(b,c){return this.mouseenter(b).mouseleave(c||b)}});j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,c){j.fn[c]=function(b,d){return null==d&&(d=b,b=null),0<arguments.length?this.on(c,null,b,d):this.trigger(c)};Uc.test(c)&&(j.event.fixHooks[c]=j.event.keyHooks);Vc.test(c)&&(j.event.fixHooks[c]=j.event.mouseHooks)});var Wc=b,F=function(b,c,d,e){d=d||[];c=c||V;var f,j,g,l,m=c.nodeType;if(!b||"string"!=typeof b)return d;if(1!==m&&9!==m)return[];g=Ma(c);if(!g&&!e&&(f=Xc.exec(b)))if(l=f[1])if(9===m){j=c.getElementById(l);if(!j||!j.parentNode)return d;if(j.id===l)return d.push(j),d}else{if(c.ownerDocument&&
(j=c.ownerDocument.getElementById(l))&&Tb(c,j)&&j.id===l)return d.push(j),d}else{if(f[2])return pa.apply(d,qa.call(c.getElementsByTagName(b),0)),d;if((l=f[3])&&Ub&&c.getElementsByClassName)return pa.apply(d,qa.call(c.getElementsByClassName(l),0)),d}return gb(b.replace(Na,"$1"),c,d,e,g)},xa=function(b){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===b}},Vb=function(b){return function(c){var d=c.nodeName.toLowerCase();return("input"===d||"button"===d)&&c.type===b}},ja=function(b){return W(function(c){return c=
+c,W(function(d,e){for(var f,j=b([],d.length,c),g=j.length;g--;)d[f=j[g]]&&(d[f]=!(e[f]=d[f]))})})},Oa=function(b,c,d){if(b===c)return d;for(b=b.nextSibling;b;){if(b===c)return-1;b=b.nextSibling}return 1},Qa=function(b,c){var d,e,f,j,g,l,m;if(g=Wb[M][b])return c?0:g.slice(0);g=b;l=[];for(m=I.preFilter;g;){if(!d||(e=Yc.exec(g)))e&&(g=g.slice(e[0].length)),l.push(f=[]);d=!1;if(e=Zc.exec(g))f.push(d=new Xb(e.shift())),g=g.slice(d.length),d.type=e[0].replace(Na," ");for(j in I.filter)(e=Pa[j].exec(g))&&
(!m[j]||(e=m[j](e,V,!0)))&&(f.push(d=new Xb(e.shift())),g=g.slice(d.length),d.type=j,d.matches=e);if(!d)break}return c?g.length:g?F.error(b):Wb(b,l).slice(0)},ib=function(b,c,d){var e=c.dir,f=d&&"parentNode"===c.dir,j=$c++;return c.first?function(c,d,j){for(;c=c[e];)if(f||1===c.nodeType)return b(c,d,j)}:function(c,d,g){if(g)for(;c=c[e];){if((f||1===c.nodeType)&&b(c,d,g))return c}else for(var C,A=ya+" "+j+" ",l=A+hb;c=c[e];)if(f||1===c.nodeType){if((C=c[M])===l)return c.sizset;if("string"==typeof C&&
0===C.indexOf(A)){if(c.sizset)return c}else{c[M]=l;if(b(c,d,g))return c.sizset=!0,c;c.sizset=!1}}}},jb=function(b){return 1<b.length?function(c,d,e){for(var f=b.length;f--;)if(!b[f](c,d,e))return!1;return!0}:b[0]},Ra=function(b,c,d,e,f){for(var j,g=[],l=0,m=b.length,q=null!=c;l<m;l++)if(j=b[l])if(!d||d(j,e,f))g.push(j),q&&c.push(l);return g},kb=function(b,c,d,e,f,j){return e&&!e[M]&&(e=kb(e)),f&&!f[M]&&(f=kb(f,j)),W(function(j,g,l,m){if(!j||!f){var v,q,p=[],r=[],n=g.length;if(!(q=j)){q=c||"*";var t=
l.nodeType?[l]:l,s=[];v=0;for(var x=t.length;v<x;v++)F(q,t[v],s,j);q=s}t=b&&(j||!c)?Ra(q,p,b,l,m):q;s=d?f||(j?b:n||e)?[]:g:t;d&&d(t,s,l,m);if(e){q=Ra(s,r);e(q,[],l,m);for(l=q.length;l--;)if(v=q[l])s[r[l]]=!(t[r[l]]=v)}if(j)for(l=b&&s.length;l--;){if(v=s[l])j[p[l]]=!(g[p[l]]=v)}else s=Ra(s===g?s.splice(n,s.length):s),f?f(null,g,s,m):pa.apply(g,s)}})},lb=function(b){var c,d,e,f=b.length,j=I.relative[b[0].type];d=j||I.relative[" "];for(var g=j?1:0,l=ib(function(b){return b===c},d,!0),m=ib(function(b){return-1<
Yb.call(c,b)},d,!0),q=[function(b,d,e){return!j&&(e||d!==Sa)||((c=d).nodeType?l(b,d,e):m(b,d,e))}];g<f;g++)if(d=I.relative[b[g].type])q=[ib(jb(q),d)];else{d=I.filter[b[g].type].apply(null,b[g].matches);if(d[M]){for(e=++g;e<f&&!I.relative[b[e].type];e++);return kb(1<g&&jb(q),1<g&&b.slice(0,g-1).join("").replace(Na,"$1"),d,g<e&&lb(b.slice(g,e)),e<f&&lb(b=b.slice(e)),e<f&&b.join(""))}q.push(d)}return jb(q)},gb=function(b,c,d,e,f){var j,g,l,m,q=Qa(b);if(!e&&1===q.length){g=q[0]=q[0].slice(0);if(2<g.length&&
"ID"===(l=g[0]).type&&9===c.nodeType&&!f&&I.relative[g[1].type]){c=I.find.ID(l.matches[0].replace(ka,""),c,f)[0];if(!c)return d;b=b.slice(g.shift().length)}for(j=Pa.POS.test(b)?-1:g.length-1;0<=j;j--){l=g[j];if(I.relative[m=l.type])break;if(m=I.find[m])if(e=m(l.matches[0].replace(ka,""),mb.test(g[0].type)&&c.parentNode||c,f)){g.splice(j,1);b=e.length&&g.join("");if(!b)return pa.apply(d,qa.call(e,0)),d;break}}}return nb(b,q)(e,c,f,d,mb.test(b)),d},Zb=function(){},hb,ob,I,Ta,Ma,Tb,nb,pb,za,Sa,$b=!0,
M=("sizcache"+Math.random()).replace(".",""),Xb=String,V=Wc.document,U=V.documentElement,ya=0,$c=0,ad=[].pop,pa=[].push,qa=[].slice,Yb=[].indexOf||function(b){for(var c=0,d=this.length;c<d;c++)if(this[c]===b)return c;return-1},W=function(b,c){return b[M]=null==c||c,b},qb=function(){var b={},c=[];return W(function(d,e){return c.push(d)>I.cacheLength&&delete b[c.shift()],b[d]=e},b)},ac=qb(),Wb=qb(),bc=qb(),cc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",rb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cc+")|[^:]|\\\\.)*|.*))\\)|)",Na=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,bd=RegExp(rb),Xc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,mb=/[\x20\t\r\n\f]*[+~]/,cd=/h\d/i,dd=/input|select|textarea|button/i,ka=/\\(?!\\)/g,
Pa={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+cc),PSEUDO:RegExp("^"+rb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ca=function(b){var c=V.createElement("div");try{return b(c)}catch(d){return!1}finally{}},ed=ca(function(b){return b.appendChild(V.createComment("")),!b.getElementsByTagName("*").length}),fd=ca(function(b){return b.innerHTML="<a href='#'></a>",b.firstChild&&"undefined"!==typeof b.firstChild.getAttribute&&"#"===b.firstChild.getAttribute("href")}),
gd=ca(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),Ub=ca(function(b){return b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!b.getElementsByClassName||!b.getElementsByClassName("e").length?!1:(b.lastChild.className="e",2===b.getElementsByClassName("e").length)}),hd=ca(function(b){b.id=M+0;b.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>";U.insertBefore(b,U.firstChild);var c=V.getElementsByName&&
V.getElementsByName(M).length===2+V.getElementsByName(M+0).length;return ob=!V.getElementById(M),U.removeChild(b),c});try{qa.call(U.childNodes,0)[0].nodeType}catch(Rd){qa=function(b){for(var c,d=[];c=this[b];b++)d.push(c);return d}}F.matches=function(b,c){return F(b,null,null,c)};F.matchesSelector=function(b,c){return 0<F(c,null,null,[b]).length};Ta=F.getText=function(b){var c,d="",e=0;if(c=b.nodeType)if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=
b.nextSibling)d+=Ta(b)}else{if(3===c||4===c)return b.nodeValue}else for(;c=b[e];e++)d+=Ta(c);return d};Ma=F.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Tb=F.contains=U.contains?function(b,c){var d=9===b.nodeType?b.documentElement:b,e=c&&c.parentNode;return b===e||!(!e||!(1===e.nodeType&&d.contains&&d.contains(e)))}:U.compareDocumentPosition?function(b,c){return c&&!!(b.compareDocumentPosition(c)&16)}:function(b,c){for(;c=c.parentNode;)if(c===b)return!0;
return!1};F.attr=function(b,c){var d,e=Ma(b);return e||(c=c.toLowerCase()),(d=I.attrHandle[c])?d(b):e||gd?b.getAttribute(c):(d=b.getAttributeNode(c),d?"boolean"==typeof b[c]?b[c]?c:null:d.specified?d.value:null:null)};I=F.selectors={cacheLength:50,createPseudo:W,match:Pa,attrHandle:fd?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}},find:{ID:ob?function(b,c,d){if("undefined"!==typeof c.getElementById&&!d)return(b=c.getElementById(b))&&b.parentNode?
[b]:[]}:function(b,c,d){if("undefined"!==typeof c.getElementById&&!d)return(c=c.getElementById(b))?c.id===b||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").value===b?[c]:void 0:[]},TAG:ed?function(b,c){if("undefined"!==typeof c.getElementsByTagName)return c.getElementsByTagName(b)}:function(b,c){var d=c.getElementsByTagName(b);if("*"===b){for(var e,f=[],j=0;e=d[j];j++)1===e.nodeType&&f.push(e);return f}return d},NAME:hd&&function(b,c){if("undefined"!==typeof c.getElementsByName)return c.getElementsByName(name)},
CLASS:Ub&&function(b,c,d){if("undefined"!==typeof c.getElementsByClassName&&!d)return c.getElementsByClassName(b)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ka,""),b[3]=(b[4]||b[5]||"").replace(ka,""),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1]?(b[2]||F.error(b[0]),b[3]=+(b[3]?b[4]+(b[5]||1):
2*("even"===b[2]||"odd"===b[2])),b[4]=+(b[6]+b[7]||"odd"===b[2])):b[2]&&F.error(b[0]),b},PSEUDO:function(b){var c,d;if(Pa.CHILD.test(b[0]))return null;if(b[3])b[2]=b[3];else if(c=b[4])bd.test(c)&&(d=Qa(c,!0))&&(d=c.indexOf(")",c.length-d)-c.length)&&(c=c.slice(0,d),b[0]=b[0].slice(0,d)),b[2]=c;return b.slice(0,3)}},filter:{ID:ob?function(b){return b=b.replace(ka,""),function(c){return c.getAttribute("id")===b}}:function(b){return b=b.replace(ka,""),function(c){return(c="undefined"!==typeof c.getAttributeNode&&
c.getAttributeNode("id"))&&c.value===b}},TAG:function(b){return"*"===b?function(){return!0}:(b=b.replace(ka,"").toLowerCase(),function(c){return c.nodeName&&c.nodeName.toLowerCase()===b})},CLASS:function(b){var c=ac[M][b];return c||(c=ac(b,RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))),function(b){return c.test(b.className||"undefined"!==typeof b.getAttribute&&b.getAttribute("class")||"")}},ATTR:function(b,c,d){return function(e){e=F.attr(e,b);return null==e?"!="===c:c?(e+="","="===
c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.substr(e.length-d.length)===d:"~="===c?-1<(" "+e+" ").indexOf(d):"|="===c?e===d||e.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(b,c,d,e){return"nth"===b?function(b){var c,f;c=b.parentNode;if(1===d&&0===e)return!0;if(c){f=0;for(c=c.firstChild;c&&!(1===c.nodeType&&(f++,b===c));c=c.nextSibling);}return f-=e,f===d||0===f%d&&0<=f/d}:function(c){var d=c;switch(b){case "only":case "first":for(;d=d.previousSibling;)if(1===
d.nodeType)return!1;if("first"===b)return!0;d=c;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0}}},PSEUDO:function(b,c){var d,e=I.pseudos[b]||I.setFilters[b.toLowerCase()]||F.error("unsupported pseudo: "+b);return e[M]?e(c):1<e.length?(d=[b,b,"",c],I.setFilters.hasOwnProperty(b.toLowerCase())?W(function(b,d){for(var f,j=e(b,c),g=j.length;g--;)f=Yb.call(b,j[g]),b[f]=!(d[f]=j[g])}):function(b){return e(b,0,d)}):e}},pseudos:{not:W(function(b){var c=[],d=[],e=nb(b.replace(Na,"$1"));
return e[M]?W(function(b,c,d,f){f=e(b,null,f,[]);for(var j=b.length;j--;)if(d=f[j])b[j]=!(c[j]=d)}):function(b,f,j){return c[0]=b,e(c,null,j,d),!d.pop()}}),has:W(function(b){return function(c){return 0<F(b,c).length}}),contains:W(function(b){return function(c){return-1<(c.textContent||c.innerText||Ta(c)).indexOf(b)}}),enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&!!b.checked||"option"===
c&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},parent:function(b){return!I.pseudos.empty(b)},empty:function(b){var c;for(b=b.firstChild;b;){if("@"<b.nodeName||3===(c=b.nodeType)||4===c)return!1;b=b.nextSibling}return!0},header:function(b){return cd.test(b.nodeName)},text:function(b){var c,d;return"input"===b.nodeName.toLowerCase()&&"text"===(c=b.type)&&(null==(d=b.getAttribute("type"))||d.toLowerCase()===c)},radio:xa("radio"),checkbox:xa("checkbox"),
file:xa("file"),password:xa("password"),image:xa("image"),submit:Vb("submit"),reset:Vb("reset"),button:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&"button"===b.type||"button"===c},input:function(b){return dd.test(b.nodeName)},focus:function(b){var c=b.ownerDocument;return b===c.activeElement&&(!c.hasFocus||c.hasFocus())&&(!!b.type||!!b.href)},active:function(b){return b===b.ownerDocument.activeElement},first:ja(function(){return[0]}),last:ja(function(b,c){return[c-1]}),eq:ja(function(b,
c,d){return[0>d?d+c:d]}),even:ja(function(b,c){for(var d=0;d<c;d+=2)b.push(d);return b}),odd:ja(function(b,c){for(var d=1;d<c;d+=2)b.push(d);return b}),lt:ja(function(b,c,d){for(c=0>d?d+c:d;0<=--c;)b.push(c);return b}),gt:ja(function(b,c,d){for(d=0>d?d+c:d;++d<c;)b.push(d);return b})}};pb=U.compareDocumentPosition?function(b,c){return b===c?(za=!0,0):(!b.compareDocumentPosition||!c.compareDocumentPosition?b.compareDocumentPosition:b.compareDocumentPosition(c)&4)?-1:1}:function(b,c){if(b===c)return za=
!0,0;if(b.sourceIndex&&c.sourceIndex)return b.sourceIndex-c.sourceIndex;var d,e,f=[],j=[];d=b.parentNode;e=c.parentNode;var g=d;if(d===e)return Oa(b,c);if(!d)return-1;if(!e)return 1;for(;g;)f.unshift(g),g=g.parentNode;for(g=e;g;)j.unshift(g),g=g.parentNode;d=f.length;e=j.length;for(g=0;g<d&&g<e;g++)if(f[g]!==j[g])return Oa(f[g],j[g]);return g===d?Oa(b,j[g],-1):Oa(f[g],c,1)};[0,0].sort(pb);$b=!za;F.uniqueSort=function(b){var c,d=1;za=$b;b.sort(pb);if(za)for(;c=b[d];d++)c===b[d-1]&&b.splice(d--,1);
return b};F.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};nb=F.compile=function(b,c){var d,e=[],f=[],j=bc[M][b];if(!j){c||(c=Qa(b));for(d=c.length;d--;)j=lb(c[d]),j[M]?e.push(j):f.push(j);var g=0<e.length,l=0<f.length,m=function(b,c,d,j,B){var C,A,q=[],v=0,p="0",r=b&&[],n=null!=B,t=Sa,s=b||l&&I.find.TAG("*",B&&c.parentNode||c),x=ya+=null==t?1:Math.E;for(n&&(Sa=c!==V&&c,hb=m.el);null!=(B=s[p]);p++){if(l&&B){for(C=0;A=f[C];C++)if(A(B,c,d)){j.push(B);break}n&&(ya=x,hb=
++m.el)}g&&((B=!A&&B)&&v--,b&&r.push(B))}v+=p;if(g&&p!==v){for(C=0;A=e[C];C++)A(r,q,c,d);if(b){if(0<v)for(;p--;)!r[p]&&!q[p]&&(q[p]=ad.call(j));q=Ra(q)}pa.apply(j,q);n&&!b&&0<q.length&&1<v+e.length&&F.uniqueSort(j)}return n&&(ya=x,Sa=t),r};d=(m.el=0,g?W(m):m);j=bc(b,d)}return j};if(V.querySelectorAll){var dc,id=gb,jd=/'|\\/g,kd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,X=[":focus"],Ua=[":active",":focus"],Va=U.matchesSelector||U.mozMatchesSelector||U.webkitMatchesSelector||U.oMatchesSelector||
U.msMatchesSelector;ca(function(b){b.innerHTML="<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||X.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||X.push(":checked")});ca(function(b){b.innerHTML="<p test=''></p>";b.querySelectorAll("[test^='']").length&&X.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.innerHTML="<input type='hidden'/>";b.querySelectorAll(":enabled").length||X.push(":enabled",
":disabled")});X=RegExp(X.join("|"));gb=function(b,c,d,e,f){if(!e&&!f&&(!X||!X.test(b))){var j,g,l=!0,m=M;g=c;j=9===c.nodeType&&b;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){j=Qa(b);(l=c.getAttribute("id"))?m=l.replace(jd,"\\$&"):c.setAttribute("id",m);m="[id='"+m+"'] ";for(g=j.length;g--;)j[g]=m+j[g].join("");g=mb.test(b)&&c.parentNode||c;j=j.join(",")}if(j)try{return pa.apply(d,qa.call(g.querySelectorAll(j),0)),d}catch(q){}finally{l||c.removeAttribute("id")}}return id(b,c,d,e,f)};Va&&
(ca(function(b){dc=Va.call(b,"div");try{Va.call(b,"[test!='']:sizzle"),Ua.push("!=",rb)}catch(c){}}),Ua=RegExp(Ua.join("|")),F.matchesSelector=function(b,c){c=c.replace(kd,"='$1']");if(!Ma(b)&&!Ua.test(c)&&(!X||!X.test(c)))try{var d=Va.call(b,c);if(d||dc||b.document&&11!==b.document.nodeType)return d}catch(e){}return 0<F(c,null,null,[b]).length})}I.pseudos.nth=I.pseudos.eq;I.filters=Zb.prototype=I.pseudos;I.setFilters=new Zb;F.attr=j.attr;j.find=F;j.expr=F.selectors;j.expr[":"]=j.expr.pseudos;j.unique=
F.uniqueSort;j.text=F.getText;j.isXMLDoc=F.isXML;j.contains=F.contains;var ld=/Until$/,md=/^(?:parents|prev(?:Until|All))/,vc=/^.[^:#\[\.,]*$/,ec=j.expr.match.needsContext,nd={children:!0,contents:!0,next:!0,prev:!0};j.fn.extend({find:function(b){var c,d,e,f,g,l,m=this;if("string"!=typeof b)return j(b).filter(function(){c=0;for(d=m.length;c<d;c++)if(j.contains(m[c],this))return!0});l=this.pushStack("","find",b);c=0;for(d=this.length;c<d;c++)if(e=l.length,j.find(b,this[c],l),0<c)for(f=e;f<l.length;f++)for(g=
0;g<e;g++)if(l[g]===l[f]){l.splice(f--,1);break}return l},has:function(b){var c,d=j(b,this),e=d.length;return this.filter(function(){for(c=0;c<e;c++)if(j.contains(this,d[c]))return!0})},not:function(b){return this.pushStack(p(this,b,!1),"not",b)},filter:function(b){return this.pushStack(p(this,b,!0),"filter",b)},is:function(b){return!!b&&("string"==typeof b?ec.test(b)?0<=j(b,this.context).index(this[0]):0<j.filter(b,this).length:0<this.filter(b).length)},closest:function(b,c){for(var d,e=0,f=this.length,
g=[],l=ec.test(b)||"string"!=typeof b?j(b,c||this.context):0;e<f;e++)for(d=this[e];d&&d.ownerDocument&&d!==c&&11!==d.nodeType;){if(l?-1<l.index(d):j.find.matchesSelector(d,b)){g.push(d);break}d=d.parentNode}return g=1<g.length?j.unique(g):g,this.pushStack(g,"closest",b)},index:function(b){return b?"string"==typeof b?j.inArray(this[0],j(b)):j.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(b,c){var d="string"==typeof b?j(b,c):j.makeArray(b&&b.nodeType?
[b]:b),e=j.merge(this.get(),d);return this.pushStack(n(d[0])||n(e[0])?e:j.unique(e))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});j.fn.andSelf=j.fn.addBack;j.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return j.dir(b,"parentNode")},parentsUntil:function(b,c,d){return j.dir(b,"parentNode",d)},next:function(b){return m(b,"nextSibling")},prev:function(b){return m(b,"previousSibling")},nextAll:function(b){return j.dir(b,
"nextSibling")},prevAll:function(b){return j.dir(b,"previousSibling")},nextUntil:function(b,c,d){return j.dir(b,"nextSibling",d)},prevUntil:function(b,c,d){return j.dir(b,"previousSibling",d)},siblings:function(b){return j.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return j.sibling(b.firstChild)},contents:function(b){return j.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:j.merge([],b.childNodes)}},function(b,c){j.fn[b]=function(d,e){var f=j.map(this,c,d);return ld.test(b)||
(e=d),e&&"string"==typeof e&&(f=j.filter(e,f)),f=1<this.length&&!nd[b]?j.unique(f):f,1<this.length&&md.test(b)&&(f=f.reverse()),this.pushStack(f,b,Y.call(arguments).join(","))}});j.extend({filter:function(b,c,d){return d&&(b=":not("+b+")"),1===c.length?j.find.matchesSelector(c[0],b)?[c[0]]:[]:j.find.matches(b,c)},dir:function(b,d,e){var f=[];for(b=b[d];b&&9!==b.nodeType&&(e===c||1!==b.nodeType||!j(b).is(e));)1===b.nodeType&&f.push(b),b=b[d];return f},sibling:function(b,c){for(var d=[];b;b=b.nextSibling)1===
b.nodeType&&b!==c&&d.push(b);return d}});var yb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",od=/ jQuery\d+="(?:null|\d+)"/g,sb=/^\s+/,fc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gc=/<([\w:]+)/,pd=/<tbody/i,qd=/<|&#?\w+;/,rd=/<(?:script|style|link)/i,sd=/<(?:script|object|embed|option|style)/i,tb=RegExp("<(?:"+yb+")[\\s/>]","i"),zb=/^(?:checkbox|radio)$/,
hc=/checked\s*(?:[^=]|=\s*.checked.)/i,td=/\/(java|ecma)script/i,ud=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,T={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ic=s(z),ub=ic.appendChild(z.createElement("div"));T.optgroup=
T.option;T.tbody=T.tfoot=T.colgroup=T.caption=T.thead;T.th=T.td;j.support.htmlSerialize||(T._default=[1,"X<div>","</div>"]);j.fn.extend({text:function(b){return j.access(this,function(b){return b===c?j.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(b))},null,b,arguments.length)},wrapAll:function(b){if(j.isFunction(b))return this.each(function(c){j(this).wrapAll(b.call(this,c))});if(this[0]){var c=j(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);
c.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return j.isFunction(b)?this.each(function(c){j(this).wrapInner(b.call(this,c))}):this.each(function(){var c=j(this),d=c.contents();d.length?d.wrapAll(b):c.append(b)})},wrap:function(b){var c=j.isFunction(b);return this.each(function(d){j(this).wrapAll(c?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,"body")||
j(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(b,this.firstChild)})},before:function(){if(!n(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var b=j.clean(arguments);return this.pushStack(j.merge(b,
this),"before",this.selector)}},after:function(){if(!n(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this.nextSibling)});if(arguments.length){var b=j.clean(arguments);return this.pushStack(j.merge(this,b),"after",this.selector)}},remove:function(b,c){for(var d,e=0;null!=(d=this[e]);e++)if(!b||j.filter(b,[d]).length)!c&&1===d.nodeType&&(j.cleanData(d.getElementsByTagName("*")),j.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var b,
c=0;null!=(b=this[c]);c++)for(1===b.nodeType&&j.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(b,c){return b=null==b?!1:b,c=null==c?b:c,this.map(function(){return j.clone(this,b,c)})},html:function(b){return j.access(this,function(b){var d=this[0]||{},e=0,f=this.length;if(b===c)return 1===d.nodeType?d.innerHTML.replace(od,""):c;if("string"==typeof b&&!rd.test(b)&&(j.support.htmlSerialize||!tb.test(b))&&(j.support.leadingWhitespace||!sb.test(b))&&
!T[(gc.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(fc,"<$1></$2>");try{for(;e<f;e++)d=this[e]||{},1===d.nodeType&&(j.cleanData(d.getElementsByTagName("*")),d.innerHTML=b);d=0}catch(g){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){return n(this[0])?this.length?this.pushStack(j(j.isFunction(b)?b():b),"replaceWith",b):this:j.isFunction(b)?this.each(function(c){var d=j(this),e=d.html();d.replaceWith(b.call(this,c,e))}):("string"!=typeof b&&(b=j(b).detach()),this.each(function(){var c=
this.nextSibling,d=this.parentNode;j(this).remove();c?j(c).before(b):j(d).append(b)}))},detach:function(b){return this.remove(b,!0)},domManip:function(b,d,e){b=[].concat.apply([],b);var f,g,l,m=0,q=b[0],p=[],r=this.length;if(!j.support.checkClone&&1<r&&"string"==typeof q&&hc.test(q))return this.each(function(){j(this).domManip(b,d,e)});if(j.isFunction(q))return this.each(function(f){var g=j(this);b[0]=q.call(this,f,d?g.html():c);g.domManip(b,d,e)});if(this[0]){f=j.buildFragment(b,this,p);l=f.fragment;
g=l.firstChild;1===l.childNodes.length&&(l=g);if(g){d=d&&j.nodeName(g,"tr");for(f=f.cacheable||r-1;m<r;m++)e.call(d&&j.nodeName(this[m],"table")?this[m].getElementsByTagName("tbody")[0]||this[m].appendChild(this[m].ownerDocument.createElement("tbody")):this[m],m===f?l:j.clone(l,!0,!0))}l=g=null;p.length&&j.each(p,function(b,c){c.src?j.ajax?j.ajax({url:c.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):j.error("no ajax"):j.globalEval((c.text||c.textContent||c.innerHTML||"").replace(ud,
""));c.parentNode&&c.parentNode.removeChild(c)})}return this}});j.buildFragment=function(b,d,e){var f,g,l,m=b[0];return d=d||z,d=!d.nodeType&&d[0]||d,d=d.ownerDocument||d,1===b.length&&"string"==typeof m&&512>m.length&&d===z&&"<"===m.charAt(0)&&!sd.test(m)&&(j.support.checkClone||!hc.test(m))&&(j.support.html5Clone||!tb.test(m))&&(g=!0,f=j.fragments[m],l=f!==c),f||(f=d.createDocumentFragment(),j.clean(b,d,f,e),g&&(j.fragments[m]=l&&f)),{fragment:f,cacheable:g}};j.fragments={};j.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){j.fn[b]=function(d){var e,f=0,g=[];d=j(d);var l=d.length;e=1===this.length&&this[0].parentNode;if((null==e||e&&11===e.nodeType&&1===e.childNodes.length)&&1===l)return d[c](this[0]),this;for(;f<l;f++)e=(0<f?this.clone(!0):this).get(),j(d[f])[c](e),g=g.concat(e);return this.pushStack(g,b,d.selector)}});j.extend({clone:function(b,c,d){var e,f,g,l;j.support.html5Clone||j.isXMLDoc(b)||!tb.test("<"+b.nodeName+
">")?l=b.cloneNode(!0):(ub.innerHTML=b.outerHTML,ub.removeChild(l=ub.firstChild));if((!j.support.noCloneEvent||!j.support.noCloneChecked)&&(1===b.nodeType||11===b.nodeType)&&!j.isXMLDoc(b)){x(b,l);e=y(b);f=y(l);for(g=0;e[g];++g)f[g]&&x(e[g],f[g])}if(c&&(r(b,l),d)){e=y(b);f=y(l);for(g=0;e[g];++g)r(e[g],f[g])}return l},clean:function(b,c,d,e){var f,g,l,m,q,p,r,n=c===z&&ic,t=[];if(!c||"undefined"==typeof c.createDocumentFragment)c=z;for(f=0;null!=(l=b[f]);f++)if("number"==typeof l&&(l+=""),l){if("string"==
typeof l)if(qd.test(l)){n=n||s(c);p=c.createElement("div");n.appendChild(p);l=l.replace(fc,"<$1></$2>");g=(gc.exec(l)||["",""])[1].toLowerCase();m=T[g]||T._default;q=m[0];for(p.innerHTML=m[1]+l+m[2];q--;)p=p.lastChild;if(!j.support.tbody){q=pd.test(l);m="table"===g&&!q?p.firstChild&&p.firstChild.childNodes:"<table>"===m[1]&&!q?p.childNodes:[];for(g=m.length-1;0<=g;--g)j.nodeName(m[g],"tbody")&&!m[g].childNodes.length&&m[g].parentNode.removeChild(m[g])}!j.support.leadingWhitespace&&sb.test(l)&&p.insertBefore(c.createTextNode(sb.exec(l)[0]),
p.firstChild);l=p.childNodes;p.parentNode.removeChild(p)}else l=c.createTextNode(l);l.nodeType?t.push(l):j.merge(t,l)}p&&(l=p=n=null);if(!j.support.appendChecked)for(f=0;null!=(l=t[f]);f++)j.nodeName(l,"input")?H(l):"undefined"!=typeof l.getElementsByTagName&&j.grep(l.getElementsByTagName("input"),H);if(d){b=function(b){if(!b.type||td.test(b.type))return e?e.push(b.parentNode?b.parentNode.removeChild(b):b):d.appendChild(b)};for(f=0;null!=(l=t[f]);f++)if(!j.nodeName(l,"script")||!b(l))d.appendChild(l),
"undefined"!=typeof l.getElementsByTagName&&(r=j.grep(j.merge([],l.getElementsByTagName("script")),b),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length)}return t},cleanData:function(b,c){for(var d,e,f,g,l=0,m=j.expando,q=j.cache,p=j.support.deleteExpando,r=j.event.special;null!=(f=b[l]);l++)if(c||j.acceptData(f))if(d=(e=f[m])&&q[e]){if(d.events)for(g in d.events)r[g]?j.event.remove(f,g):j.removeEvent(f,g,d.handle);q[e]&&(delete q[e],p?delete f[m]:f.removeAttribute?f.removeAttribute(m):f[m]=null,j.deletedIds.push(e))}}});
var Wa,da;j.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};Wa=j.uaMatch(Ac.userAgent);da={};Wa.browser&&(da[Wa.browser]=!0,da.version=Wa.version);da.chrome?da.webkit=!0:da.webkit&&(da.safari=!0);j.browser=da;j.sub=function(){function b(c,d){return new b.fn.init(c,
d)}j.extend(!0,b,this);b.superclass=this;b.fn=b.prototype=this();b.fn.constructor=b;b.sub=this.sub;b.fn.init=function(d,e){return e&&e instanceof j&&!(e instanceof b)&&(e=b(e)),j.fn.init.call(this,d,e,c)};b.fn.init.prototype=b.fn;var c=b(z);return b};var O,ma,na,vb=/alpha\([^)]*\)/i,vd=/opacity=([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,wc=RegExp("^("+Ga+")(.*)$","i"),Aa=RegExp("^("+Ga+")(?!px)[a-z%]+$","i"),yd=RegExp("^([-+])=("+Ga+")","i"),Za={},zd={position:"absolute",
visibility:"hidden",display:"block"},kc={letterSpacing:0,fontWeight:400},fa=["Top","Right","Bottom","Left"],Ab=["Webkit","O","Moz","ms"],Ad=j.fn.toggle;j.fn.extend({css:function(b,d){return j.access(this,function(b,d,e){return e!==c?j.style(b,d,e):j.css(b,d)},b,d,1<arguments.length)},show:function(){return t(this,!0)},hide:function(){return t(this)},toggle:function(b,c){var d="boolean"==typeof b;return j.isFunction(b)&&j.isFunction(c)?Ad.apply(this,arguments):this.each(function(){(d?b:q(this))?j(this).show():
j(this).hide()})}});j.extend({cssHooks:{opacity:{get:function(b,c){if(c){var d=O(b,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":j.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,e,f){if(b&&!(3===b.nodeType||8===b.nodeType||!b.style)){var g,m,q,p=j.camelCase(d),r=b.style;d=j.cssProps[p]||(j.cssProps[p]=l(r,p));q=j.cssHooks[d]||j.cssHooks[p];if(e===c)return q&&"get"in q&&(g=q.get(b,
!1,f))!==c?g:r[d];m=typeof e;"string"===m&&(g=yd.exec(e))&&(e=(g[1]+1)*g[2]+parseFloat(j.css(b,d)),m="number");if(!(null==e||"number"===m&&isNaN(e)))if("number"===m&&!j.cssNumber[p]&&(e+="px"),!q||!("set"in q)||(e=q.set(b,e,f))!==c)try{r[d]=e}catch(n){}}},css:function(b,d,e,f){var g,m,q,p=j.camelCase(d);return d=j.cssProps[p]||(j.cssProps[p]=l(b.style,p)),q=j.cssHooks[d]||j.cssHooks[p],q&&"get"in q&&(g=q.get(b,!0,f)),g===c&&(g=O(b,d)),"normal"===g&&d in kc&&(g=kc[d]),e||f!==c?(m=parseFloat(g),e||
j.isNumeric(m)?m||0:g):g},swap:function(b,c,d){var e,f={};for(e in c)f[e]=b.style[e],b.style[e]=c[e];d=d.call(b);for(e in c)b.style[e]=f[e];return d}});b.getComputedStyle?O=function(c,d){var e,f,g,l,m=b.getComputedStyle(c,null),q=c.style;return m&&(e=m[d],""===e&&!j.contains(c.ownerDocument,c)&&(e=j.style(c,d)),Aa.test(e)&&jc.test(d)&&(f=q.width,g=q.minWidth,l=q.maxWidth,q.minWidth=q.maxWidth=q.width=e,e=m.width,q.width=f,q.minWidth=g,q.maxWidth=l)),e}:z.documentElement.currentStyle&&(O=function(b,
c){var d,e,f=b.currentStyle&&b.currentStyle[c],j=b.style;return null==f&&j&&j[c]&&(f=j[c]),Aa.test(f)&&!wd.test(c)&&(d=j.left,e=b.runtimeStyle&&b.runtimeStyle.left,e&&(b.runtimeStyle.left=b.currentStyle.left),j.left="fontSize"===c?"1em":f,f=j.pixelLeft+"px",j.left=d,e&&(b.runtimeStyle.left=e)),""===f?"auto":f});j.each(["height","width"],function(b,c){j.cssHooks[c]={get:function(b,d,e){if(d)return 0===b.offsetWidth&&xd.test(O(b,"display"))?j.swap(b,zd,function(){return P(b,c,e)}):P(b,c,e)},set:function(b,
d,e){return K(b,d,e?L(b,c,e,j.support.boxSizing&&"border-box"===j.css(b,"boxSizing")):0)}}});j.support.opacity||(j.cssHooks.opacity={get:function(b,c){return vd.test((c&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(b,c){var d=b.style,e=b.currentStyle,f=j.isNumeric(c)?"alpha(opacity="+100*c+")":"",g=e&&e.filter||d.filter||"";d.zoom=1;if(!(1<=c&&""===j.trim(g.replace(vb,""))&&d.removeAttribute&&(d.removeAttribute("filter"),e&&!e.filter)))d.filter=
vb.test(g)?g.replace(vb,f):g+" "+f}});j(function(){j.support.reliableMarginRight||(j.cssHooks.marginRight={get:function(b,c){return j.swap(b,{display:"inline-block"},function(){if(c)return O(b,"marginRight")})}});!j.support.pixelPosition&&j.fn.position&&j.each(["top","left"],function(b,c){j.cssHooks[c]={get:function(b,d){if(d){var e=O(b,c);return Aa.test(e)?j(b).position()[c]+"px":e}}}})});j.expr&&j.expr.filters&&(j.expr.filters.hidden=function(b){return 0===b.offsetWidth&&0===b.offsetHeight||!j.support.reliableHiddenOffsets&&
"none"===(b.style&&b.style.display||O(b,"display"))},j.expr.filters.visible=function(b){return!j.expr.filters.hidden(b)});j.each({margin:"",padding:"",border:"Width"},function(b,c){j.cssHooks[b+c]={expand:function(d){var e="string"==typeof d?d.split(" "):[d],f={};for(d=0;4>d;d++)f[b+fa[d]+c]=e[d]||e[d-2]||e[0];return f}};jc.test(b)||(j.cssHooks[b+c].set=K)});var Bd=/%20/g,xc=/\[\]$/,lc=/\r?\n/g,Cd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Dd=/^(?:select|textarea)/i;j.fn.extend({serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?j.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Dd.test(this.nodeName)||Cd.test(this.type))}).map(function(b,c){var d=j(this).val();return null==d?null:j.isArray(d)?j.map(d,function(b){return{name:c.name,value:b.replace(lc,"\r\n")}}):{name:c.name,value:d.replace(lc,"\r\n")}}).get()}});
j.param=function(b,d){var e,f=[],g=function(b,c){c=j.isFunction(c)?c():null==c?"":c;f[f.length]=encodeURIComponent(b)+"="+encodeURIComponent(c)};d===c&&(d=j.ajaxSettings&&j.ajaxSettings.traditional);if(j.isArray(b)||b.jquery&&!j.isPlainObject(b))j.each(b,function(){g(this.name,this.value)});else for(e in b)oa(e,b[e],d,g);return f.join("&").replace(Bd,"+")};var ra,la,Ed=/#.*$/,Fd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Gd=/^(?:GET|HEAD)$/,Hd=/^\/\//,mc=/\?/,Id=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Jd=/([?&])_=[^&]*/,nc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,oc=j.fn.load,$a={},pc={},qc=["*/"]+["*"];try{la=zc.href}catch(Sd){la=z.createElement("a"),la.href="",la=la.href}ra=nc.exec(la.toLowerCase())||[];j.fn.load=function(b,d,e){if("string"!=typeof b&&oc)return oc.apply(this,arguments);if(!this.length)return this;var f,g,l,m=this,q=b.indexOf(" ");return 0<=q&&(f=b.slice(q,b.length),b=b.slice(0,q)),j.isFunction(d)?(e=d,d=c):d&&"object"==typeof d&&(g="POST"),j.ajax({url:b,type:g,dataType:"html",
data:d,complete:function(b,c){e&&m.each(e,l||[b.responseText,c,b])}}).done(function(b){l=arguments;m.html(f?j("<div>").append(b.replace(Id,"")).find(f):b)}),this};j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,c){j.fn[c]=function(b){return this.on(c,b)}});j.each(["get","post"],function(b,d){j[d]=function(b,e,f,g){return j.isFunction(e)&&(g=g||f,f=e,e=c),j.ajax({type:d,url:b,data:e,success:f,dataType:g})}});j.extend({getScript:function(b,d){return j.get(b,
c,d,"script")},getJSON:function(b,c,d){return j.get(b,c,d,"json")},ajaxSetup:function(b,c){return c?Bb(b,j.ajaxSettings):(c=b,b=j.ajaxSettings),Bb(b,c),b},ajaxSettings:{url:la,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ra[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":qc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,"text html":!0,"text json":j.parseJSON,"text xml":j.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:E($a),ajaxTransport:E(pc),ajax:function(b,d){function e(b,d,l,p){var B,n,v,C,A,z=d;if(2!==P){P=2;q&&clearTimeout(q);m=c;g=p||"";G.readyState=0<b?4:0;if(l){C=t;p=G;var L,E,aa,ab,F=C.contents,D=C.dataTypes,I=C.responseFields;for(E in I)E in l&&(p[I[E]]=l[E]);for(;"*"===D[0];)D.shift(),
L===c&&(L=C.mimeType||p.getResponseHeader("content-type"));if(L)for(E in F)if(F[E]&&F[E].test(L)){D.unshift(E);break}if(D[0]in l)aa=D[0];else{for(E in l){if(!D[0]||C.converters[E+" "+D[0]]){aa=E;break}ab||(ab=E)}aa=aa||ab}C=l=aa?(aa!==D[0]&&D.unshift(aa),l[aa]):void 0}if(200<=b&&300>b||304===b)if(t.ifModified&&(A=G.getResponseHeader("Last-Modified"),A&&(j.lastModified[f]=A),A=G.getResponseHeader("Etag"),A&&(j.etag[f]=A)),304===b)z="notmodified",B=!0;else{var J;a:{B=t;n=C;var ea,z=B.dataTypes.slice();
l=z[0];L={};E=0;B.dataFilter&&(n=B.dataFilter(n,B.dataType));if(z[1])for(J in B.converters)L[J.toLowerCase()]=B.converters[J];for(;v=z[++E];)if("*"!==v){if("*"!==l&&l!==v){J=L[l+" "+v]||L["* "+v];if(!J)for(ea in L)if(A=ea.split(" "),A[1]===v&&(J=L[l+" "+A[0]]||L["* "+A[0]])){!0===J?J=L[ea]:!0!==L[ea]&&(v=A[0],z.splice(E--,0,v));break}if(!0!==J)if(J&&B["throws"])n=J(n);else try{n=J(n)}catch(oa){J={state:"parsererror",error:J?oa:"No conversion from "+l+" to "+v};break a}}l=v}J={state:"success",data:n}}B=
J;z=B.state;n=B.data;v=B.error;B=!v}else if(v=z,!z||b)z="error",0>b&&(b=0);G.status=b;G.statusText=(d||z)+"";B?K.resolveWith(s,[n,z,G]):K.rejectWith(s,[G,z,v]);G.statusCode(H);H=c;r&&x.trigger("ajax"+(B?"Success":"Error"),[G,t,B?n:v]);y.fireWith(s,[G,z]);r&&(x.trigger("ajaxComplete",[G,t]),--j.active||j.event.trigger("ajaxStop"))}}"object"==typeof b&&(d=b,b=c);d=d||{};var f,g,l,m,q,p,r,n,t=j.ajaxSetup({},d),s=t.context||t,x=s!==t&&(s.nodeType||s instanceof j)?j(s):j.event,K=j.Deferred(),y=j.Callbacks("once memory"),
H=t.statusCode||{},z={},L={},P=0,E="canceled",G={readyState:0,setRequestHeader:function(b,c){if(!P){var d=b.toLowerCase();b=L[d]=L[d]||b;z[b]=c}return this},getAllResponseHeaders:function(){return 2===P?g:null},getResponseHeader:function(b){var d;if(2===P){if(!l)for(l={};d=Fd.exec(g);)l[d[1].toLowerCase()]=d[2];d=l[b.toLowerCase()]}return d===c?null:d},overrideMimeType:function(b){return P||(t.mimeType=b),this},abort:function(b){return b=b||E,m&&m.abort(b),e(0,b),this}};K.promise(G);G.success=G.done;
G.error=G.fail;G.complete=y.add;G.statusCode=function(b){if(b){var c;if(2>P)for(c in b)H[c]=[H[c],b[c]];else c=b[G.status],G.always(c)}return this};t.url=((b||t.url)+"").replace(Ed,"").replace(Hd,ra[1]+"//");t.dataTypes=j.trim(t.dataType||"*").toLowerCase().split(ga);null==t.crossDomain&&(p=nc.exec(t.url.toLowerCase())||!1,t.crossDomain=p&&p.join(":")+(p[3]?"":"http:"===p[1]?80:443)!==ra.join(":")+(ra[3]?"":"http:"===ra[1]?80:443));t.data&&t.processData&&"string"!=typeof t.data&&(t.data=j.param(t.data,
t.traditional));J($a,t,d,G);if(2===P)return G;r=t.global;t.type=t.type.toUpperCase();t.hasContent=!Gd.test(t.type);r&&0===j.active++&&j.event.trigger("ajaxStart");if(!t.hasContent&&(t.data&&(t.url+=(mc.test(t.url)?"&":"?")+t.data,delete t.data),f=t.url,!1===t.cache)){p=j.now();var F=t.url.replace(Jd,"$1_="+p);t.url=F+(F===t.url?(mc.test(t.url)?"&":"?")+"_="+p:"")}(t.data&&t.hasContent&&!1!==t.contentType||d.contentType)&&G.setRequestHeader("Content-Type",t.contentType);t.ifModified&&(f=f||t.url,j.lastModified[f]&&
G.setRequestHeader("If-Modified-Since",j.lastModified[f]),j.etag[f]&&G.setRequestHeader("If-None-Match",j.etag[f]));G.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+qc+"; q=0.01":""):t.accepts["*"]);for(n in t.headers)G.setRequestHeader(n,t.headers[n]);if(!t.beforeSend||!1!==t.beforeSend.call(s,G,t)&&2!==P){E="abort";for(n in{success:1,error:1,complete:1})G[n](t[n]);if(m=J(pc,t,d,G)){G.readyState=1;r&&x.trigger("ajaxSend",[G,
t]);t.async&&0<t.timeout&&(q=setTimeout(function(){G.abort("timeout")},t.timeout));try{P=1,m.send(z,e)}catch(D){if(2>P)e(-1,D);else throw D;}}else e(-1,"No Transport");return G}return G.abort()},active:0,lastModified:{},etag:{}});var rc=[],Kd=/\?/,Xa=/(=)\?(?=&|$)|\?\?/,Ld=j.now();j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=rc.pop()||j.expando+"_"+Ld++;return this[b]=!0,b}});j.ajaxPrefilter("json jsonp",function(d,e,f){var g,l,m,q=d.data,p=d.url,t=!1!==d.jsonp,r=t&&Xa.test(p),n=t&&
!r&&"string"==typeof q&&!(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xa.test(q);if("jsonp"===d.dataTypes[0]||r||n)return g=d.jsonpCallback=j.isFunction(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,l=b[g],r?d.url=p.replace(Xa,"$1"+g):n?d.data=q.replace(Xa,"$1"+g):t&&(d.url+=(Kd.test(p)?"&":"?")+d.jsonp+"="+g),d.converters["script json"]=function(){return m||j.error(g+" was not called"),m[0]},d.dataTypes[0]="json",b[g]=function(){m=arguments},f.always(function(){b[g]=l;d[g]&&
(d.jsonpCallback=e.jsonpCallback,rc.push(g));m&&j.isFunction(l)&&l(m[0]);m=l=c}),"script"});j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){return j.globalEval(b),b}}});j.ajaxPrefilter("script",function(b){b.cache===c&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});j.ajaxTransport("script",function(b){if(b.crossDomain){var d,e=z.head||
z.getElementsByTagName("head")[0]||z.documentElement;return{send:function(f,j){d=z.createElement("script");d.async="async";b.scriptCharset&&(d.charset=b.scriptCharset);d.src=b.url;d.onload=d.onreadystatechange=function(b,f){if(f||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=c,f||j(200,"success")};e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var sa,wb=b.ActiveXObject?function(){for(var b in sa)sa[b](0,
1)}:!1,Md=0;j.ajaxSettings.xhr=b.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&Ba()))a:{try{c=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}c=void 0}return c}:Ba;var xb=j.ajaxSettings.xhr();j.extend(j.support,{ajax:!!xb,cors:!!xb&&"withCredentials"in xb});j.support.ajax&&j.ajaxTransport(function(d){if(!d.crossDomain||j.support.cors){var e;return{send:function(f,g){var l,m,q=d.xhr();d.username?q.open(d.type,d.url,d.async,d.username,d.password):q.open(d.type,d.url,d.async);if(d.xhrFields)for(m in d.xhrFields)q[m]=
d.xhrFields[m];d.mimeType&&q.overrideMimeType&&q.overrideMimeType(d.mimeType);!d.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)q.setRequestHeader(m,f[m])}catch(p){}q.send(d.hasContent&&d.data||null);e=function(b,f){var m,p,t,r,n;try{if(e&&(f||4===q.readyState))if(e=c,l&&(q.onreadystatechange=j.noop,wb&&delete sa[l]),f)4!==q.readyState&&q.abort();else{m=q.status;t=q.getAllResponseHeaders();r={};(n=q.responseXML)&&n.documentElement&&(r.xml=n);try{r.text=
q.responseText}catch(s){}try{p=q.statusText}catch(v){p=""}!m&&d.isLocal&&!d.crossDomain?m=r.text?200:404:1223===m&&(m=204)}}catch(x){f||g(-1,x)}r&&g(m,p,r,t)};d.async?4===q.readyState?setTimeout(e,0):(l=++Md,wb&&(sa||(sa={},j(b).unload(wb)),sa[l]=e),q.onreadystatechange=e):e()},abort:function(){e&&e(0,1)}}}});var Ca,Ya,Nd=/^(?:toggle|show|hide)$/,Od=RegExp("^(?:([-+])=|)("+Ga+")([a-z%]*)$","i"),Pd=/queueHooks$/,Da=[function(b,c,d){var e,f,g,l,m,p,t=this,r=b.style,n={},s=[],x=b.nodeType&&q(b);d.queue||
(m=j._queueHooks(b,"fx"),null==m.unqueued&&(m.unqueued=0,p=m.empty.fire,m.empty.fire=function(){m.unqueued||p()}),m.unqueued++,t.always(function(){t.always(function(){m.unqueued--;j.queue(b,"fx").length||m.empty.fire()})}));1===b.nodeType&&("height"in c||"width"in c)&&(d.overflow=[r.overflow,r.overflowX,r.overflowY],"inline"===j.css(b,"display")&&"none"===j.css(b,"float")&&(!j.support.inlineBlockNeedsLayout||"inline"===ea(b.nodeName)?r.display="inline-block":r.zoom=1));d.overflow&&(r.overflow="hidden",
j.support.shrinkWrapBlocks||t.done(function(){r.overflow=d.overflow[0];r.overflowX=d.overflow[1];r.overflowY=d.overflow[2]}));for(e in c)f=c[e],Nd.exec(f)&&(delete c[e],f!==(x?"hide":"show")&&s.push(e));if(f=s.length){g=j._data(b,"fxshow")||j._data(b,"fxshow",{});x?j(b).show():t.done(function(){j(b).hide()});t.done(function(){var c;j.removeData(b,"fxshow",!0);for(c in n)j.style(b,c,n[c])});for(e=0;e<f;e++)c=s[e],l=t.createTween(c,x?g[c]:0),n[c]=g[c]||j.style(b,c),c in g||(g[c]=l.start,x&&(l.end=l.start,
l.start="width"===c||"height"===c?1:0))}}],va={"*":[function(b,c){var d,e,f=this.createTween(b,c),g=Od.exec(c),l=f.cur(),m=+l||0,q=1,p=20;if(g){d=+g[2];e=g[3]||(j.cssNumber[b]?"":"px");if("px"!==e&&m){m=j.css(f.elem,b,!0)||d||1;do q=q||".5",m/=q,j.style(f.elem,b,m+e);while(q!==(q=f.cur()/l)&&1!==q&&--p)}f.unit=e;f.start=m;f.end=g[1]?m+(g[1]+1)*d:d}return f}]};j.Animation=j.extend(Cb,{tweener:function(b,c){j.isFunction(b)?(c=b,b=["*"]):b=b.split(" ");for(var d,e=0,f=b.length;e<f;e++)d=b[e],va[d]=va[d]||
[],va[d].unshift(c)},prefilter:function(b,c){c?Da.unshift(b):Da.push(b)}});j.Tween=R;R.prototype={constructor:R,init:function(b,c,d,e,f,g){this.elem=b;this.prop=d;this.easing=f||"swing";this.options=c;this.start=this.now=this.cur();this.end=e;this.unit=g||(j.cssNumber[d]?"":"px")},cur:function(){var b=R.propHooks[this.prop];return b&&b.get?b.get(this):R.propHooks._default.get(this)},run:function(b){var c,d=R.propHooks[this.prop];return this.options.duration?this.pos=c=j.easing[this.easing](b,this.options.duration*
b,0,1,this.options.duration):this.pos=c=b,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):R.propHooks._default.set(this),this}};R.prototype.init.prototype=R.prototype;R.propHooks={_default:{get:function(b){var c;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(c=j.css(b.elem,b.prop,!1,""),!c||"auto"===c?0:c):b.elem[b.prop]},set:function(b){j.fx.step[b.prop]?j.fx.step[b.prop](b):b.elem.style&&
(null!=b.elem.style[j.cssProps[b.prop]]||j.cssHooks[b.prop])?j.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};j.each(["toggle","show","hide"],function(b,c){var d=j.fn[c];j.fn[c]=function(e,f,g){return null==e||"boolean"==typeof e||!b&&j.isFunction(e)&&j.isFunction(f)?d.apply(this,arguments):this.animate(Ea(c,!0),e,f,g)}});j.fn.extend({fadeTo:function(b,c,d,e){return this.filter(q).css("opacity",
0).show().end().animate({opacity:c},b,d,e)},animate:function(b,c,d,e){var f=j.isEmptyObject(b),g=j.speed(c,d,e);c=function(){var c=Cb(this,j.extend({},b),g);f&&c.stop(!0)};return f||!1===g.queue?this.each(c):this.queue(g.queue,c)},stop:function(b,d,e){var f=function(b){var c=b.stop;delete b.stop;c(e)};return"string"!=typeof b&&(e=d,d=b,b=c),d&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var c=!0,d=null!=b&&b+"queueHooks",g=j.timers,l=j._data(this);if(d)l[d]&&l[d].stop&&f(l[d]);else for(d in l)l[d]&&
l[d].stop&&Pd.test(d)&&f(l[d]);for(d=g.length;d--;)g[d].elem===this&&(null==b||g[d].queue===b)&&(g[d].anim.stop(e),c=!1,g.splice(d,1));(c||!e)&&j.dequeue(this,b)})}});j.each({slideDown:Ea("show"),slideUp:Ea("hide"),slideToggle:Ea("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,c){j.fn[b]=function(b,d,e){return this.animate(c,b,d,e)}});j.speed=function(b,c,d){var e=b&&"object"==typeof b?j.extend({},b):{complete:d||!d&&c||j.isFunction(b)&&b,duration:b,
easing:d&&c||c&&!j.isFunction(c)&&c};e.duration=j.fx.off?0:"number"==typeof e.duration?e.duration:e.duration in j.fx.speeds?j.fx.speeds[e.duration]:j.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";return e.old=e.complete,e.complete=function(){j.isFunction(e.old)&&e.old.call(this);e.queue&&j.dequeue(this,e.queue)},e};j.easing={linear:function(b){return b},swing:function(b){return 0.5-Math.cos(b*Math.PI)/2}};j.timers=[];j.fx=R.prototype.init;j.fx.tick=function(){for(var b,c=j.timers,
d=0;d<c.length;d++)b=c[d],!b()&&c[d]===b&&c.splice(d--,1);c.length||j.fx.stop()};j.fx.timer=function(b){b()&&j.timers.push(b)&&!Ya&&(Ya=setInterval(j.fx.tick,j.fx.interval))};j.fx.interval=13;j.fx.stop=function(){clearInterval(Ya);Ya=null};j.fx.speeds={slow:600,fast:200,_default:400};j.fx.step={};j.expr&&j.expr.filters&&(j.expr.filters.animated=function(b){return j.grep(j.timers,function(c){return b===c.elem}).length});var sc=/^(?:body|html)$/i;j.fn.offset=function(b){if(arguments.length)return b===
c?this:this.each(function(c){j.offset.setOffset(this,b,c)});var d,e,f,g,l,m,q,p={top:0,left:0},t=this[0],r=t&&t.ownerDocument;if(r)return(e=r.body)===t?j.offset.bodyOffset(t):(d=r.documentElement,j.contains(d,t)?("undefined"!=typeof t.getBoundingClientRect&&(p=t.getBoundingClientRect()),f=Db(r),g=d.clientTop||e.clientTop||0,l=d.clientLeft||e.clientLeft||0,m=f.pageYOffset||d.scrollTop,q=f.pageXOffset||d.scrollLeft,{top:p.top+m-g,left:p.left+q-l}):p)};j.offset={bodyOffset:function(b){var c=b.offsetTop,
d=b.offsetLeft;return j.support.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(j.css(b,"marginTop"))||0,d+=parseFloat(j.css(b,"marginLeft"))||0),{top:c,left:d}},setOffset:function(b,c,d){var e=j.css(b,"position");"static"===e&&(b.style.position="relative");var f=j(b),g=f.offset(),l=j.css(b,"top"),m=j.css(b,"left"),q={},p={},t,r;("absolute"===e||"fixed"===e)&&-1<j.inArray("auto",[l,m])?(p=f.position(),t=p.top,r=p.left):(t=parseFloat(l)||0,r=parseFloat(m)||0);j.isFunction(c)&&(c=c.call(b,d,g));null!=
c.top&&(q.top=c.top-g.top+t);null!=c.left&&(q.left=c.left-g.left+r);"using"in c?c.using.call(b,q):f.css(q)}};j.fn.extend({position:function(){if(this[0]){var b=this[0],c=this.offsetParent(),d=this.offset(),e=sc.test(c[0].nodeName)?{top:0,left:0}:c.offset();return d.top-=parseFloat(j.css(b,"marginTop"))||0,d.left-=parseFloat(j.css(b,"marginLeft"))||0,e.top+=parseFloat(j.css(c[0],"borderTopWidth"))||0,e.left+=parseFloat(j.css(c[0],"borderLeftWidth"))||0,{top:d.top-e.top,left:d.left-e.left}}},offsetParent:function(){return this.map(function(){for(var b=
this.offsetParent||z.body;b&&!sc.test(b.nodeName)&&"static"===j.css(b,"position");)b=b.offsetParent;return b||z.body})}});j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var e=/Y/.test(d);j.fn[b]=function(f){return j.access(this,function(b,f,g){var l=Db(b);if(g===c)return l?d in l?l[d]:l.document.documentElement[f]:b[f];l?l.scrollTo(e?j(l).scrollLeft():g,e?g:j(l).scrollTop()):b[f]=g},b,f,arguments.length,null)}});j.each({Height:"height",Width:"width"},function(b,d){j.each({padding:"inner"+
b,content:d,"":"outer"+b},function(e,f){j.fn[f]=function(f,g){var l=arguments.length&&(e||"boolean"!=typeof f),m=e||(!0===f||!0===g?"margin":"border");return j.access(this,function(d,e,f){var g;return j.isWindow(d)?d.document.documentElement["client"+b]:9===d.nodeType?(g=d.documentElement,Math.max(d.body["scroll"+b],g["scroll"+b],d.body["offset"+b],g["offset"+b],g["client"+b])):f===c?j.css(d,e,f,m):j.style(d,e,f,m)},d,l?f:c,l,null)}})});b.jQuery=b.$=j;"function"==typeof define&&define.amd&&define.amd.jQuery&&
define("jquery",[],function(){return j})})(window);function getInternetExplorerVersion(){var b=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));return b}var ie=getInternetExplorerVersion();function getQueryVariable(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(decodeURIComponent(f[0])==b)return decodeURIComponent(f[1])}}this.jukebox={};
jukebox.Player=function(b,c){this.id=++jukebox.__jukeboxId;this.origin=c||null;this.settings={};for(var d in this.defaults)this.settings[d]=this.defaults[d];if("[object Object]"===Object.prototype.toString.call(b))for(var f in b)this.settings[f]=b[f];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):
this.settings.resources[0]||null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var b=this,c=this.settings,d={},f;jukebox.Manager&&void 0!==jukebox.Manager.features&&(d=jukebox.Manager.features);if(!0===d.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var e=function(c){b.__addToManager(c)};
this.context.addEventListener("canplaythrough",e,!0);window.setTimeout(function(){b.context.removeEventListener("canplaythrough",e,!0);e("timeout")},c.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(f in this.HTML5API)this[f]=this.HTML5API[f];1<d.channels?!0===c.autoplay?this.context.autoplay=!0:void 0!==c.spritemap[c.autoplay]&&this.play(c.autoplay):1===d.channels&&void 0!==c.spritemap[c.autoplay]&&(this.backgroundMusic=c.spritemap[c.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(c.autoplay));1==d.channels&&!0!==c.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==b.isPlaying&&(b.pause(),b.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){b.__wasAutoPaused&&(b.resume(),delete b._wasAutoPaused)}))}else if(!0===d.flashaudio){for(f in this.FLASHAPI)this[f]=this.FLASHAPI[f];d=["id=jukebox-flashstream-"+this.id,"autoplay="+c.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(d);
!0===c.autoplay?this.play(0):c.spritemap[c.autoplay]&&this.play(c.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(b){var c,d=this.settings.flashMediaElement,f,e={flashvars:b.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){c=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(c);var g=document.createElement("object");
g.id="jukebox-flashstream-"+this.id;g.setAttribute("type","application/x-shockwave-flash");g.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");g.setAttribute("width","0");g.setAttribute("height","0");e.movie=d+"?x="+(Date.now?Date.now():+new Date);e.flashvars=b.join("&amp;");for(f in e)b=document.createElement("param"),b.setAttribute("name",f),b.setAttribute("value",e[f]),g.appendChild(b);c.outerHTML=g.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{c=
document.createElement("embed");c.id="jukebox-flashstream-"+this.id;c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("width","100");c.setAttribute("height","100");e.play=!1;e.loop=!1;e.src=d+"?x="+(Date.now?Date.now():+new Date);for(f in e)c.setAttribute(f,e[f]);document.getElementsByTagName("body")[0].appendChild(c);this.context=c}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var b=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
b,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(b-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(b,c){if(null!==this.isPlaying&&!0!==c)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(b,this.id);else{var d=this.settings.spritemap,f;if(void 0!==d[b])f=d[b].start;else if("number"===typeof b){f=b;for(var e in d)if(f>=d[e].start&&f<=
d[e].end){b=e;break}}void 0!==f&&"[object Object]"===Object.prototype.toString.call(d[b])&&(this.isPlaying=this.settings.spritemap[b],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(f))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(b){b="number"===
typeof b?b:this.__lastPosition;if(null!==b)return this.play(b),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(b){this.context.volume=b;return 1E-4>Math.abs(this.context.volume-b)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(b){try{return this.context.currentTime=b,!0}catch(c){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(b){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(b),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(b){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(b):!1}}};
if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(b){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(b))for(var d in b)this.settings[d]=b[d];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var b=window.Audio&&new Audio;if(b&&b.canPlayType&&!1===this.settings.useFlash){for(var c=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
d,f,e=0,g=c.length;e<g;e++)if(f=c[e].e,c[e].m.length&&"object"===typeof c[e].m)for(var n=0,m=c[e].m.length;n<m;n++)if(d=c[e].m[n],""!==b.canPlayType(d)){this.codecs[f]=d;break}else this.codecs[f]||(this.codecs[f]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;b.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(b.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(p){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(b){return this.__players&&void 0!==this.__players[b]?this.__players[b]:null},__getClone:function(b,c){for(var d in this.__clones){var f=this.__clones[d];if(null===f.isPlaying&&f.origin===b)return f}if("[object Object]"===Object.prototype.toString.call(c)){d={};for(var e in c)d[e]=c[e];d.autoplay=!1;e=new jukebox.Player(d,b);e.isClone=!0;e.wasReady=!1;return this.__clones[e.id]=e}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var b=this.__queue[0],c=this.__getPlayerById(b.origin);if(null!==c){var d=this.__getClone(b.origin,c.settings);null!==d&&(!0===this.features.volume&&(c=this.__players[b.origin])&&d.setVolume(c.getVolume()),this.add(d),d.play(b.pointer,!0))}this.__queue.splice(0,1)}else for(d in this.__queue.length&&1===this.features.channels&&(b=this.__queue[0],c=this.__getPlayerById(b.origin),null!==c&&c.play(b.pointer,!0),this.__queue.splice(0,1)),this.__players)b=this.__players[d],
c=b.getCurrentTime()||0,b.isPlaying&&!1===b.wasReady?b.wasReady=b.setCurrentTime(b.isPlaying.start):b.isPlaying&&!0===b.wasReady?c>b.isPlaying.end&&(!0===b.isPlaying.loop?b.play(b.isPlaying.start,!0):b.stop()):b.isClone&&null===b.isPlaying?this.remove(b):void 0!==b.backgroundMusic&&null===b.isPlaying&&c>b.backgroundMusic.end&&b.backgroundHackForiOS()},getPlayableResource:function(b){"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);for(var c=0,d=b.length;c<d;c++){var f=b[c],e=f.match(/\.([^\.]*)$/)[1];
if(e&&this.codecs[e])return f}return null},add:function(b){return b instanceof jukebox.Player&&void 0===this.__players[b.id]?(this.__playersLength++,this.__players[b.id]=b,!0):!1},remove:function(b){return b instanceof jukebox.Player&&void 0!==this.__players[b.id]?(this.__playersLength--,delete this.__players[b.id],!0):!1},addToQueue:function(b,c){return("string"===typeof b||"number"===typeof b)&&void 0!==this.__players[c]?(this.__queue.push({pointer:b,origin:c}),!0):!1}};
(function(){var b={},c=null,d=!0,f=!1;try{"undefined"!==typeof AudioContext?c=new AudioContext:"undefined"!==typeof webkitAudioContext?c=new webkitAudioContext:d=!1}catch(e){d=!1}if(!d)if("undefined"!==typeof Audio)try{new Audio}catch(g){f=!0}else f=!0;if(d){var n="undefined"===typeof c.createGain?c.createGainNode():c.createGain();n.gain.value=1;n.connect(c.destination)}var m=function(b){this._volume=1;this._muted=!1;this.usingWebAudio=d;this.ctx=c;this.noAudio=f;this._howls=[];this._codecs=b;this.iOSAutoEnable=
!0};m.prototype={volume:function(b){b=parseFloat(b);if(0<=b&&1>=b){this._volume=b;d&&(n.gain.value=b);for(var c in this._howls)if(this._howls.hasOwnProperty(c)&&!1===this._howls[c]._webAudio)for(b=0;b<this._howls[c]._audioNode.length;b++)this._howls[c]._audioNode[b].volume=this._howls[c]._volume*this._volume;return this}return d?n.gain.value:this._volume},mute:function(){this._setMuted(!0);return this},unmute:function(){this._setMuted(!1);return this},_setMuted:function(b){this._muted=b;d&&(n.gain.value=
b?0:this._volume);for(var c in this._howls)if(this._howls.hasOwnProperty(c)&&!1===this._howls[c]._webAudio)for(var e=0;e<this._howls[c]._audioNode.length;e++)this._howls[c]._audioNode[e].muted=b},codecs:function(b){return this._codecs[b]},_enableiOSAudio:function(){var b=this;if(!c||!b._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){b._iOSEnabled=!1;var d=function(){var e=c.createBuffer(1,1,22050),f=c.createBufferSource();f.buffer=e;f.connect(c.destination);"undefined"===typeof f.start?
f.noteOn(0):f.start(0);setTimeout(function(){if(f.playbackState===f.PLAYING_STATE||f.playbackState===f.FINISHED_STATE)b._iOSEnabled=!0,b.iOSAutoEnable=!1,window.removeEventListener("touchend",d,!1)},0)};window.addEventListener("touchend",d,!1);return b}}};var p=null,s={};f||(p=new Audio,s={mp3:!!p.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!p.canPlayType('audio/wav; codecs="1"').replace(/^no$/,
""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var r=new m(s),x=function(b){this._autoplay=b.autoplay||!1;this._buffer=b.buffer||!1;this._duration=b.duration||0;this._format=b.format||null;
this._loop=b.loop||!1;this._loaded=!1;this._sprite=b.sprite||{};this._src=b.src||"";this._pos3d=b.pos3d||[0,0,-0.5];this._volume=void 0!==b.volume?b.volume:1;this._urls=b.urls||[];this._rate=b.rate||1;this._model=b.model||null;this._onload=[b.onload||function(){}];this._onloaderror=[b.onloaderror||function(){}];this._onend=[b.onend||function(){}];this._onpause=[b.onpause||function(){}];this._onplay=[b.onplay||function(){}];this._onendTimer=[];this._webAudio=d&&!this._buffer;this._audioNode=[];this._webAudio&&
this._setupAudioNode();"undefined"!==typeof c&&c&&r.iOSAutoEnable&&r._enableiOSAudio();r._howls.push(this);this.load()};x.prototype={load:function(){var c=this,d=null;if(f)c.on("loaderror",Error("No audio support."));else{for(var e=0;e<c._urls.length;e++){var g,p;if(c._format)g=c._format;else if(p=c._urls[e],(g=/^data:audio\/([^;,]+);/i.exec(p))||(g=/\.([^.]+)$/.exec(p.split("?",1)[0])),g)g=g[1].toLowerCase();else{c.on("loaderror",Error("Could not extract format from passed URLs, please add format parameter."));
return}if(s[g]){d=c._urls[e];break}}if(d){c._src=d;if(c._webAudio){var n=d;if(n in b)c._duration=b[n].duration,H(c);else if(/^data:[^;]+;base64,/.test(n)){d=atob(n.split(",")[1]);e=new Uint8Array(d.length);for(g=0;g<d.length;++g)e[g]=d.charCodeAt(g);y(e.buffer,c,n)}else{var x=new XMLHttpRequest;x.open("GET",n,!0);x.responseType="arraybuffer";x.onload=function(){y(x.response,c,n)};x.onerror=function(){c._webAudio&&(c._buffer=!0,c._webAudio=!1,c._audioNode=[],delete c._gainNode,delete b[n],c.load())};
try{x.send()}catch(oa){x.onerror()}}}else{var E=new Audio;E.addEventListener("error",function(){E.error&&4===E.error.code&&(m.noAudio=!0);c.on("loaderror",{type:E.error?E.error.code:0})},!1);c._audioNode.push(E);E.src=d;E._pos=0;E.preload="auto";E.volume=r._muted?0:c._volume*r.volume();var J=function(){c._duration=Math.ceil(10*E.duration)/10;0===Object.getOwnPropertyNames(c._sprite).length&&(c._sprite={_default:[0,1E3*c._duration]});c._loaded||(c._loaded=!0,c.on("load"));c._autoplay&&c.play();E.removeEventListener("canplaythrough",
J,!1)};E.addEventListener("canplaythrough",J,!1);E.load()}return c}c.on("loaderror",Error("No codec support for selected audio sources."))}},urls:function(b){return b?(this.stop(),this._urls="string"===typeof b?[b]:b,this._loaded=!1,this.load(),this):this._urls},play:function(d,e){var f=this;"function"===typeof d&&(e=d);if(!d||"function"===typeof d)d="_default";if(!f._loaded)return f.on("load",function(){f.play(d,e)}),f;if(!f._sprite[d])return"function"===typeof e&&e(),f;f._inactiveNode(function(g){g._sprite=
d;var m=0<g._pos?g._pos:f._sprite[d][0]/1E3,p=0;f._webAudio?(p=f._sprite[d][1]/1E3-g._pos,0<g._pos&&(m=f._sprite[d][0]/1E3+m)):p=f._sprite[d][1]/1E3-(m-f._sprite[d][0]/1E3);var n=!(!f._loop&&!f._sprite[d][2]),s="string"===typeof e?e:Math.round(Date.now()*Math.random())+"",x;x=setTimeout(function(){!f._webAudio&&n&&f.stop(s).play(d,s);f._webAudio&&!n&&(f._nodeById(s).paused=!0,f._nodeById(s)._pos=0,f._clearEndTimer(s));!f._webAudio&&!n&&f.stop(s);f.on("end",s)},1E3*(p/f._rate));f._onendTimer.push({timer:x,
id:s});if(f._webAudio){x=f._sprite[d][0]/1E3;var y=f._sprite[d][1]/1E3;g.id=s;g.paused=!1;x=[n,x,y];y=f._nodeById(s);y.bufferSource=c.createBufferSource();y.bufferSource.buffer=b[f._src];y.bufferSource.connect(y.panner);y.bufferSource.loop=x[0];x[0]&&(y.bufferSource.loopStart=x[1],y.bufferSource.loopEnd=x[1]+x[2]);y.bufferSource.playbackRate.value=f._rate;f._playStart=c.currentTime;g.gain.value=f._volume;"undefined"===typeof g.bufferSource.start?n?g.bufferSource.noteGrainOn(0,m,86400):g.bufferSource.noteGrainOn(0,
m,p):n?g.bufferSource.start(0,m,86400):g.bufferSource.start(0,m,p)}else if(4===g.readyState||!g.readyState&&navigator.isCocoonJS)g.readyState=4,g.id=s,g.currentTime=m,g.muted=r._muted||g.muted,g.volume=f._volume*r.volume(),setTimeout(function(){g.play()},0);else{f._clearEndTimer(s);var H=d,Ba=e,ua=function(){f.play(H,Ba);g.removeEventListener("canplaythrough",ua,!1)};g.addEventListener("canplaythrough",ua,!1);return f}f.on("play");"function"===typeof e&&e(s);return f});return f},pause:function(b){var c=
this;if(!c._loaded)return c.on("play",function(){c.pause(b)}),c;c._clearEndTimer(b);var d=b?c._nodeById(b):c._activeNode();if(d)if(d._pos=c.pos(null,b),c._webAudio){if(!d.bufferSource||d.paused)return c;d.paused=!0;"undefined"===typeof d.bufferSource.stop?d.bufferSource.noteOff(0):d.bufferSource.stop(0)}else d.pause();c.on("pause");return c},stop:function(b){var c=this;if(!c._loaded)return c.on("play",function(){c.stop(b)}),c;c._clearEndTimer(b);var d=b?c._nodeById(b):c._activeNode();if(d)if(d._pos=
0,c._webAudio){if(!d.bufferSource||d.paused)return c;d.paused=!0;"undefined"===typeof d.bufferSource.stop?d.bufferSource.noteOff(0):d.bufferSource.stop(0)}else isNaN(d.duration)||(d.pause(),d.currentTime=0);return c},mute:function(b){var c=this;if(!c._loaded)return c.on("play",function(){c.mute(b)}),c;var d=b?c._nodeById(b):c._activeNode();d&&(c._webAudio?d.gain.value=0:d.muted=!0);return c},unmute:function(b){var c=this;if(!c._loaded)return c.on("play",function(){c.unmute(b)}),c;var d=b?c._nodeById(b):
c._activeNode();d&&(c._webAudio?d.gain.value=c._volume:d.muted=!1);return c},volume:function(b,c){var d=this;b=parseFloat(b);if(0<=b&&1>=b){d._volume=b;if(!d._loaded)return d.on("play",function(){d.volume(b,c)}),d;var e=c?d._nodeById(c):d._activeNode();e&&(d._webAudio?e.gain.value=b:e.volume=b*r.volume());return d}return d._volume},loop:function(b){return"boolean"===typeof b?(this._loop=b,this):this._loop},sprite:function(b){return"object"===typeof b?(this._sprite=b,this):this._sprite},pos:function(b,
d){var e=this;if(!e._loaded)return e.on("load",function(){e.pos(b)}),"number"===typeof b?e:e._pos||0;b=parseFloat(b);var f=d?e._nodeById(d):e._activeNode();if(f)return 0<=b?(e.pause(d),f._pos=b,e.play(f._sprite,d),e):e._webAudio?f._pos+(c.currentTime-e._playStart):f.currentTime;if(0<=b)return e;for(f=0;f<e._audioNode.length;f++)if(e._audioNode[f].paused&&4===e._audioNode[f].readyState)return e._webAudio?e._audioNode[f]._pos:e._audioNode[f].currentTime},pos3d:function(b,c,d,e){var f=this;c="undefined"===
typeof c||!c?0:c;d="undefined"===typeof d||!d?-0.5:d;if(!f._loaded)return f.on("play",function(){f.pos3d(b,c,d,e)}),f;if(0<=b||0>b){if(f._webAudio){var g=e?f._nodeById(e):f._activeNode();g&&(f._pos3d=[b,c,d],g.panner.setPosition(b,c,d),g.panner.panningModel=f._model||"HRTF")}}else return f._pos3d;return f},fade:function(b,c,d,e,f){var g=this,m=Math.abs(b-c),p=b>c?"down":"up",m=m/0.01,r=d/m;if(!g._loaded)return g.on("load",function(){g.fade(b,c,d,e,f)}),g;g.volume(b,f);for(var n=1;n<=m;n++)(function(){var b=
Math.round(1E3*(g._volume+("up"===p?0.01:-0.01)*n))/1E3;setTimeout(function(){g.volume(b,f);b===c&&e&&e()},r*n)})()},fadeIn:function(b,c,d){return this.volume(0).play().fade(0,b,c,d)},fadeOut:function(b,c,d,e){var f=this;return f.fade(f._volume,b,c,function(){d&&d();f.pause(e);f.on("end")},e)},_nodeById:function(b){for(var c=this._audioNode[0],d=0;d<this._audioNode.length;d++)if(this._audioNode[d].id===b){c=this._audioNode[d];break}return c},_activeNode:function(){for(var b=null,c=0;c<this._audioNode.length;c++)if(!this._audioNode[c].paused){b=
this._audioNode[c];break}this._drainPool();return b},_inactiveNode:function(b){for(var c=null,d=0;d<this._audioNode.length;d++)if(this._audioNode[d].paused&&4===this._audioNode[d].readyState){b(this._audioNode[d]);c=!0;break}this._drainPool();if(!c){var e;if(this._webAudio)e=this._setupAudioNode(),b(e);else{this.load();e=this._audioNode[this._audioNode.length-1];var f=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",g=function(){e.removeEventListener(f,g,!1);b(e)};e.addEventListener(f,g,!1)}}},
_drainPool:function(){var b=0,c;for(c=0;c<this._audioNode.length;c++)this._audioNode[c].paused&&b++;for(c=this._audioNode.length-1;0<=c&&!(5>=b);c--)this._audioNode[c].paused&&(this._webAudio&&this._audioNode[c].disconnect(0),b--,this._audioNode.splice(c,1))},_clearEndTimer:function(b){for(var c=-1,d=0;d<this._onendTimer.length;d++)if(this._onendTimer[d].id===b){c=d;break}if(b=this._onendTimer[c])clearTimeout(b.timer),this._onendTimer.splice(c,1)},_setupAudioNode:function(){var b=this._audioNode,
d=this._audioNode.length;b[d]="undefined"===typeof c.createGain?c.createGainNode():c.createGain();b[d].gain.value=this._volume;b[d].paused=!0;b[d]._pos=0;b[d].readyState=4;b[d].connect(n);b[d].panner=c.createPanner();b[d].panner.panningModel=this._model||"equalpower";b[d].panner.setPosition(this._pos3d[0],this._pos3d[1],this._pos3d[2]);b[d].panner.connect(b[d]);return b[d]},on:function(b,c){var d=this["_on"+b];if("function"===typeof c)d.push(c);else for(var e=0;e<d.length;e++)c?d[e].call(this,c):
d[e].call(this);return this},off:function(b,c){var d=this["_on"+b];if(c)for(var e=0;e<d.length;e++){if(c===d[e]){d.splice(e,1);break}}else this["_on"+b]=[];return this},unload:function(){for(var c=this._audioNode,d=0;d<this._audioNode.length;d++)c[d].paused||(this.stop(c[d].id),this.on("end",c[d].id)),this._webAudio?c[d].disconnect(0):c[d].src="";for(d=0;d<this._onendTimer.length;d++)clearTimeout(this._onendTimer[d].timer);c=r._howls.indexOf(this);null!==c&&0<=c&&r._howls.splice(c,1);delete b[this._src]}};
if(d)var y=function(d,e,f){c.decodeAudioData(d,function(c){c&&(b[f]=c,H(e,c))},function(b){e.on("loaderror",b)})},H=function(b,c){b._duration=c?c.duration:b._duration;0===Object.getOwnPropertyNames(b._sprite).length&&(b._sprite={_default:[0,1E3*b._duration]});b._loaded||(b._loaded=!0,b.on("load"));b._autoplay&&b.play()};"function"===typeof define&&define.amd&&define(function(){return{Howler:r,Howl:x}});"undefined"!==typeof exports&&(exports.Howler=r,exports.Howl=x);"undefined"!==typeof window&&(window.Howler=
r,window.Howl=x)})();
(function(b){Number.prototype.map=function(b,c,d,e){return d+(e-d)*((this-b)/(c-b))};Number.prototype.limit=function(b,c){return Math.min(c,Math.max(b,this))};Number.prototype.round=function(b){b=Math.pow(10,b||0);return Math.round(this*b)/b};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(b){for(var c=this.length;c--;)this[c]===b&&this.splice(c,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e&&b?
this:b,c.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f};b.ig={game:null,debug:null,version:"1.23",global:b,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:b.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(b){return"#"==b.charAt(0)?document.getElementById(b.substr(1)):document.getElementsByTagName(b)},$new:function(b){return document.createElement(b)},copy:function(b){if(!b||"object"!=typeof b||
b instanceof HTMLElement||b instanceof ig.Class)return b;if(b instanceof Array)for(var c=[],d=0,e=b.length;d<e;d++)c[d]=ig.copy(b[d]);else for(d in c={},b)c[d]=ig.copy(b[d]);return c},merge:function(b,c){for(var d in c){var e=c[d];if("object"!=typeof e||e instanceof HTMLElement||e instanceof ig.Class||null===e)b[d]=e;else{if(!b[d]||"object"!=typeof b[d])b[d]=e instanceof Array?[]:{};ig.merge(b[d],e)}}return b},ksort:function(b){if(!b||"object"!=typeof b)return[];var c=[],d=[],e;for(e in b)c.push(e);
c.sort();for(e=0;e<c.length;e++)d.push(b[c[e]]);return d},setVendorAttribute:function(b,c,d){var e=c.charAt(0).toUpperCase()+c.substr(1);b[c]="undefined"!==typeof b.imageSmoothingEnabled?b["ms"+e]=b["moz"+e]=b["o"+e]=d:b["ms"+e]=b["moz"+e]=b["webkit"+e]=b["o"+e]=d},getVendorAttribute:function(b,c){var d=c.charAt(0).toUpperCase()+c.substr(1);return"undefined"!==typeof b.imageSmoothingEnabled?b[c]||b["ms"+d]||b["moz"+d]||b["o"+d]:b[c]||b["ms"+d]||b["moz"+d]||b["webkit"+d]||b["o"+d]},normalizeVendorAttribute:function(b,
c){var d=ig.getVendorAttribute(b,c);!b[c]&&d&&(b[c]=d)},getImagePixels:function(b,c,d,e,f){var g=ig.$new("canvas");g.width=b.width;g.height=b.height;var n=g.getContext("2d");ig.System.SCALE.CRISP(g,n);var l=ig.getVendorAttribute(n,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(n,"getImageDataHD");var q=b.width/l,t=b.height/l;g.width=Math.ceil(q);g.height=Math.ceil(t);n.drawImage(b,0,0,q,t);return 1===l?n.getImageData(c,d,e,f):n.getImageDataHD(c,d,e,f)},module:function(b){if(ig._current)throw"Module '"+
ig._current.name+"' defines nothing";if(ig.modules[b]&&ig.modules[b].body)throw"Module '"+b+"' is already defined";ig._current={name:b,requires:[],loaded:!1,body:null};ig.modules[b]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(b){ig._current.body=b;ig._current=null;ig._initDOMReady()},addResource:function(b){ig.resources.push(b)},setNocache:function(b){ig.nocache=b?"?"+Date.now():""},
log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(b,c){ig.modules[b]={name:b,requires:[],loaded:!1,body:null};ig._waitForOnload++;var d=ig.prefix+ig.lib+b.replace(/\./g,"/")+".js"+ig.nocache,e=ig.$new("script");e.type="text/javascript";e.src=d;e.onload=function(){ig._waitForOnload--;ig._execModules()};e.onerror=function(){throw"Failed to load module "+b+" at "+d+" required from "+c;};ig.$("head")[0].appendChild(e)},_execModules:function(){for(var b=!1,c=
0;c<ig._loadQueue.length;c++){for(var d=ig._loadQueue[c],e=!0,f=0;f<d.requires.length;f++){var g=d.requires[f];ig.modules[g]?ig.modules[g].loaded||(e=!1):(e=!1,ig._loadScript(g,d.name))}e&&d.body&&(ig._loadQueue.splice(c,1),d.loaded=!0,d.body(),b=!0,c--)}if(b)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){b=[];for(c=0;c<ig._loadQueue.length;c++){e=[];g=ig._loadQueue[c].requires;for(f=0;f<g.length;f++)d=ig.modules[g[f]],(!d||!d.loaded)&&e.push(g[f]);b.push(ig._loadQueue[c].name+
" (requires: "+e.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+b.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=
b.devicePixelRatio||1;ig.ua.viewport={width:b.innerWidth,height:b.innerHeight};ig.ua.screen={width:b.screen.availWidth*ig.ua.pixelRatio,height:b.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);
ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);ig.ua.HTCONE=/HTC_One/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.Kindle=/Silk/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in
b||b.navigator.msMaxTouchPoints;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6||ig.ua.winPhone||ig.ua.Kindle||/mobile/i.test(navigator.userAgent)},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),b.addEventListener("load",ig._DOMReady,!1)))}};ig.normalizeVendorAttribute(b,"requestAnimationFrame");
if(b.requestAnimationFrame){var c=1,d={};b.ig.setAnimation=function(e,f){var g=c++;d[g]=!0;var n=function(){d[g]&&(b.requestAnimationFrame(n,f),e())};b.requestAnimationFrame(n,f);return g};b.ig.clearAnimation=function(b){delete d[b]}}else b.ig.setAnimation=function(c){return b.setInterval(c,1E3/60)},b.ig.clearAnimation=function(c){b.clearInterval(c)};var f=!1,e=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,g=0;b.ig.Class=function(){};var n=function(b){var c=this.prototype,d={},f;for(f in b)"function"==
typeof b[f]&&"function"==typeof c[f]&&e.test(b[f])?(d[f]=c[f],c[f]=function(b,c){return function(){var e=this.parent;this.parent=d[b];var f=c.apply(this,arguments);this.parent=e;return f}}(f,b[f])):c[f]=b[f]};b.ig.Class.extend=function(c){function d(){if(!f){if(this.staticInstantiate){var b=this.staticInstantiate.apply(this,arguments);if(b)return b}for(var c in this)"object"==typeof this[c]&&(this[c]=ig.copy(this[c]));this.init&&this.init.apply(this,arguments)}return this}var s=this.prototype;f=!0;
var r=new this;f=!1;for(var x in c)r[x]="function"==typeof c[x]&&"function"==typeof s[x]&&e.test(c[x])?function(b,c){return function(){var d=this.parent;this.parent=s[b];var e=c.apply(this,arguments);this.parent=d;return e}}(x,c[x]):c[x];d.prototype=r;d.prototype.constructor=d;d.extend=b.ig.Class.extend;d.inject=n;d.classId=r.classId=++g;return d};b.ImpactMixin&&ig.merge(ig,b.ImpactMixin)})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return ig.Image.cache[b]||null},init:function(b){this.path=b;this.load()},load:function(b){this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(b){var c=ig.getImagePixels(this.data,0,0,this.width,
this.height),d=this.width*b,f=this.height*b,e=ig.$new("canvas");e.width=d;e.height=f;for(var g=e.getContext("2d"),n=g.getImageData(0,0,d,f),m=0;m<f;m++)for(var p=0;p<d;p++){var s=4*(Math.floor(m/b)*this.width+Math.floor(p/b)),r=4*(m*d+p);n.data[r]=c.data[s];n.data[r+1]=c.data[s+1];n.data[r+2]=c.data[s+2];n.data[r+3]=c.data[s+3]}g.putImageData(n,0,0);this.data=e},draw:function(b,c,d,f,e,g){if(this.loaded){var n=ig.system.scale;e=(e?e:this.width)*n;g=(g?g:this.height)*n;ig.system.context.drawImage(this.data,
d?d*n:0,f?f*n:0,e,g,ig.system.getDrawPos(b),ig.system.getDrawPos(c),e,g);ig.Image.drawCount++}},drawTile:function(b,c,d,f,e,g,n){e=e?e:f;if(this.loaded&&!(f>this.width||e>this.height)){var m=ig.system.scale,p=Math.floor(f*m),s=Math.floor(e*m),r=g?-1:1,x=n?-1:1;if(g||n)ig.system.context.save(),ig.system.context.scale(r,x);ig.system.context.drawImage(this.data,Math.floor(d*f)%this.width*m,Math.floor(d*f/this.width)*e*m,p,s,ig.system.getDrawPos(b)*r-(g?p:0),ig.system.getDrawPos(c)*x-(n?s:0),p,s);(g||
n)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var b in ig.Image.cache)ig.Image.cache[b].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(b){this._loadMetrics(this.data);this.parent(b)},widthForString:function(b){if(-1!==b.indexOf("\n")){b=b.split("\n");for(var c=0,d=0;d<b.length;d++)c=Math.max(c,this._widthForLine(b[d]));return c}return this._widthForLine(b)},_widthForLine:function(b){for(var c=0,d=0;d<b.length;d++)c+=this.widthMap[b.charCodeAt(d)-this.firstChar]+
this.letterSpacing;return c},heightForString:function(b){return b.split("\n").length*(this.height+this.lineSpacing)},draw:function(b,c,d,f){"string"!=typeof b&&(b=b.toString());if(-1!==b.indexOf("\n")){b=b.split("\n");for(var e=this.height+this.lineSpacing,g=0;g<b.length;g++)this.draw(b[g],c,d+g*e,f)}else{if(f==ig.Font.ALIGN.RIGHT||f==ig.Font.ALIGN.CENTER)g=this._widthForLine(b),c-=f==ig.Font.ALIGN.CENTER?g/2:g;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(g=0;g<b.length;g++)f=b.charCodeAt(g),
c+=this._drawChar(f-this.firstChar,c,d);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=b.length}},_drawChar:function(b,c,d){if(!this.loaded||0>b||b>=this.indices.length)return 0;var f=ig.system.scale,e=this.widthMap[b]*f,g=(this.height-2)*f;ig.system.context.drawImage(this.data,this.indices[b]*f,0,e,g,ig.system.getDrawPos(c),ig.system.getDrawPos(d),e,g);return this.widthMap[b]+this.letterSpacing},_loadMetrics:function(b){this.height=b.height-1;this.widthMap=[];this.indices=
[];for(var c=ig.getImagePixels(b,0,b.height-1,b.width,1),d=0,f=0,e=0;e<b.width;e++){var g=4*e+3;127<c.data[g]?f++:128>c.data[g]&&f&&(this.widthMap.push(f),this.indices.push(e-f),d++,f=0)}this.widthMap.push(f);this.indices.push(e-f)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)ig.Sound.enabled=!1;else{for(var b=new Audio,c=0;c<ig.Sound.use.length;c++){var d=ig.Sound.use[c];if(b.canPlayType(d.mime)){this.format=d;break}}this.format||(ig.Sound.enabled=!1)}},load:function(b,c,d){var f=ig.prefix+b.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[b]){if(c&&this.clips[b].length<ig.Sound.channels)for(c=this.clips[b].length;c<
ig.Sound.channels;c++){var e=new Audio(f);e.load();this.clips[b].push(e)}return this.clips[b][0]}var g=new Audio(f);d&&(g.addEventListener("canplaythrough",function m(c){g.removeEventListener("canplaythrough",m,!1);d(b,!0,c)},!1),g.addEventListener("error",function(c){d(b,!1,c)},!1));g.preload="auto";g.load();this.clips[b]=[g];if(c)for(c=1;c<ig.Sound.channels;c++)e=new Audio(f),e.load(),this.clips[b].push(e);return g},get:function(b){b=this.clips[b];for(var c=0,d;d=b[c++];)if(d.paused||d.ended)return d.ended&&
(d.currentTime=0),d;b[0].pause();b[0].currentTime=0;return b[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):
this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(b,c){if(ig.Sound.enabled){var d=ig.soundManager.load(b instanceof ig.Sound?b.path:b,!1);d.loop=this._loop;d.volume=this._volume;d.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(d);c&&(this.namedTracks[c]=d);this.currentTrack||
(this.currentTrack=d)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(b){if(b&&this.namedTracks[b])b=this.namedTracks[b],b!=this.currentTrack&&(this.stop(),
this.currentTrack=b);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(b){this._loop=b;for(var c in this.tracks)this.tracks[c].loop=b},getVolume:function(){return this._volume},setVolume:function(b){this._volume=b.limit(0,1);for(var c in this.tracks)this.tracks[c].volume=this._volume},fadeOut:function(b){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(b),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var b=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=b?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=b},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(b,c){this.path=b;this.multiChannel=!1!==c;this.load()},load:function(b){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,b):ig.addResource(this):b&&b(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(b,c){this.gameClass=b;this.resources=c;this._loadCallbackBound=this._loadCallback.bind(this);for(var d=0;d<this.resources.length;d++)this._unloaded.push(this.resources[d].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var b=
0;b<this.resources.length;b++)this.loadResource(this.resources[b]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(b){b.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(b,c){if(c)this._unloaded.erase(b);else throw"Failed to load resource: "+b;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(b){this.last=this.base=ig.Timer.time;this.target=b||0},set:function(b){this.target=b||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var b=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:b},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var b=Date.now();ig.Timer.time+=Math.min((b-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=b}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(b,c,d,f,e){this.fps=c;this.clock=new ig.Timer;this.canvas=ig.$(b);this.resize(d,f,e);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode;1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP);
ig.System.scaleMode(this.canvas,this.context)},resize:function(b,c,d){this.width=b;this.height=c;this.scale=d||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(b){this.running?this.newGameClass=b:this.setGameNow(b)},setGameNow:function(b){ig.game=new b;ig.system.setDelegate(ig.game)},setDelegate:function(b){if("function"==typeof b.run)this.delegate=b,this.startRunLoop();else throw"System.setDelegate: No run() function in object";
},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(b){this.context.fillStyle=b;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});
ig.System.DRAW={AUTHENTIC:function(b){return Math.round(b)*this.scale},SMOOTH:function(b){return Math.round(b*this.scale)},SUBPIXEL:function(b){return b*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!1);b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},
SMOOTH:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!0);b.style.imageRendering="";b.style.msInterpolationMode=""}};ig.System.scaleMode=ig.System.SCALE.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var b=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",b,!1);ig.system.canvas.addEventListener("DOMMouseScroll",b,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",
this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=
!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(b){var c=this.bindings[0<(b.wheelDelta?b.wheelDelta:-1*b.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];c&&(this.actions[c]=!0,this.presses[c]=!0,this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault())},mousemove:function(b){var c=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;ig.ua.mobile&&(c=ig.system.realWidth);var c=ig.system.scale*(c/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());b=b.touches?b.touches[0]:b;this.mouse.x=(b.clientX-d.left)/c;this.mouse.y=(b.clientY-d.top)/c},contextmenu:function(b){this.bindings[ig.KEY.MOUSE2]&&(b.stopPropagation(),b.preventDefault())},keydown:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==
c))if(c="keydown"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,("touchstart"==b.type||"mousedown"==b.type)&&this.mousemove(b),c=this.bindings[c])this.actions[c]=!0,this.locks[c]||(this.presses[c]=!0,this.locks[c]=!0),b.stopPropagation(),b.preventDefault()},keyup:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==c))if(c=this.bindings["keyup"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1])this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault()},devicemotion:function(b){this.accel=
b.accelerationIncludingGravity},bind:function(b,c){0>b?this.initMouse():0<b&&this.initKeyboard();this.bindings[b]=c},bindTouch:function(b,c){var d=ig.$(b),f=this;d.addEventListener("touchstart",function(b){f.touchStart(b,c)},!1);d.addEventListener("touchend",function(b){f.touchEnd(b,c)},!1);d.addEventListener("MSPointerDown",function(b){f.touchStart(b,c)},!1);d.addEventListener("MSPointerUp",function(b){f.touchEnd(b,c)},!1)},unbind:function(b){this.delayedKeyup[this.bindings[b]]=!0;this.bindings[b]=
null},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(b){return this.actions[b]},pressed:function(b){return this.presses[b]},released:function(b){return!!this.delayedKeyup[b]},clearPressed:function(){for(var b in this.delayedKeyup)this.actions[b]=!1,this.locks[b]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(b,c){this.actions[c]=!0;this.presses[c]=!0;b.stopPropagation();b.preventDefault();return!1},touchEnd:function(b,
c){this.delayedKeyup[c]=!0;b.stopPropagation();b.preventDefault();return!1}})});ig.baked=!0;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(b,c,d,f,e,g,n){ig.system=new ig.System(b,d,f,e,g||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (n||ig.Loader)(c,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(b,c,d){this.width=c;this.height=d;this.image=new ig.Image(b)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(b,c,d,f){this.sheet=b;this.pivot={x:b.width/2,y:b.height/2};this.timer=new ig.Timer;this.frameTime=c;this.sequence=d;
this.stop=!!f;this.tile=this.sequence[0]},rewind:function(){this.timer.set();this.frame=this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(b){this.timer.set(this.frameTime*-b-1E-4);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var b=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(b/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:b%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(b,c){var d=Math.max(this.sheet.width,this.sheet.height);b>ig.system.width||c>ig.system.height||(0>b+d||0>c+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(b,c,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(b+this.pivot.x),ig.system.getDrawPos(c+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),max:(136).toRad()},init:function(b,
c,d){this.id=++ig.Entity._lastId;this.pos.x=this.last.x=b;this.pos.y=this.last.y=c;ig.merge(this,d)},reset:function(b,c,d){var f=this.constructor.prototype;this.pos.x=b;this.pos.y=c;this.last.x=b;this.last.y=c;this.vel.x=f.vel.x;this.vel.y=f.vel.y;this.accel.x=f.accel.x;this.accel.y=f.accel.y;this.health=f.health;this._killed=f._killed;this.standing=f.standing;this.type=f.type;this.checkAgainst=f.checkAgainst;this.collides=f.collides;ig.merge(this,d)},addAnim:function(b,c,d,f){if(!this.animSheet)throw"No animSheet to add the animation "+
b+" to.";c=new ig.Animation(this.animSheet,c,d,f);this.anims[b]=c;this.currentAnim||(this.currentAnim=c);return c},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var b=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*
ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(b);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(b,c,d,f){return c?(b+c*ig.system.tick).limit(-f,f):d?(c=d*ig.system.tick,0<b-c?b-c:0>b+c?b+c:0):b.limit(-f,f)},handleMovementTrace:function(b){this.standing=!1;b.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>
this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos=b.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-
this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(b){this.health-=b;0>=this.health&&this.kill()},touches:function(b){return!(this.pos.x>=b.pos.x+b.size.x||this.pos.x+this.size.x<=b.pos.x||this.pos.y>=b.pos.y+b.size.y||this.pos.y+this.size.y<=b.pos.y)},distanceTo:function(b){var c=this.pos.x+this.size.x/2-(b.pos.x+b.size.x/2);b=this.pos.y+this.size.y/2-(b.pos.y+b.size.y/2);return Math.sqrt(c*c+b*b)},angleTo:function(b){return Math.atan2(b.pos.y+
b.size.y/2-(this.pos.y+this.size.y/2),b.pos.x+b.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){},erase:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(b,c){b.checkAgainst&c.type&&b.check(c);c.checkAgainst&b.type&&c.check(b);b.collides&&c.collides&&b.collides+c.collides>ig.Entity.COLLIDES.ACTIVE&&ig.Entity.solveCollision(b,c)};ig.Entity.solveCollision=
function(b,c){var d=null;if(b.collides==ig.Entity.COLLIDES.LITE||c.collides==ig.Entity.COLLIDES.FIXED)d=b;else if(c.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)d=c;b.last.x+b.size.x>c.last.x&&b.last.x<c.last.x+c.size.x?(b.last.y<c.last.y?ig.Entity.seperateOnYAxis(b,c,d):ig.Entity.seperateOnYAxis(c,b,d),b.collideWith(c,"y"),c.collideWith(b,"y")):b.last.y+b.size.y>c.last.y&&b.last.y<c.last.y+c.size.y&&(b.last.x<c.last.x?ig.Entity.seperateOnXAxis(b,c,d):ig.Entity.seperateOnXAxis(c,
b,d),b.collideWith(c,"x"),c.collideWith(b,"x"))};ig.Entity.seperateOnXAxis=function(b,c,d){var f=b.pos.x+b.size.x-c.pos.x;d?(d.vel.x=-d.vel.x*d.bounciness+(b===d?c:b).vel.x,c=ig.game.collisionMap.trace(d.pos.x,d.pos.y,d==b?-f:f,0,d.size.x,d.size.y),d.pos.x=c.pos.x):(d=(b.vel.x-c.vel.x)/2,b.vel.x=-d,c.vel.x=d,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,-f/2,0,b.size.x,b.size.y),b.pos.x=Math.floor(d.pos.x),b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,f/2,0,c.size.x,c.size.y),c.pos.x=Math.ceil(b.pos.x))};
ig.Entity.seperateOnYAxis=function(b,c,d){var f=b.pos.y+b.size.y-c.pos.y;if(d){c=b===d?c:b;d.vel.y=-d.vel.y*d.bounciness+c.vel.y;var e=0;d==b&&Math.abs(d.vel.y-c.vel.y)<d.minBounceVelocity&&(d.standing=!0,e=c.vel.x*ig.system.tick);b=ig.game.collisionMap.trace(d.pos.x,d.pos.y,e,d==b?-f:f,d.size.x,d.size.y);d.pos.y=b.pos.y;d.pos.x=b.pos.x}else ig.game.gravity&&(c.standing||0<b.vel.y)?(d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,-(b.pos.y+b.size.y-c.pos.y),b.size.x,b.size.y),b.pos.y=d.pos.y,0<b.bounciness&&
b.vel.y>b.minBounceVelocity?b.vel.y*=-b.bounciness:(b.standing=!0,b.vel.y=0)):(d=(b.vel.y-c.vel.y)/2,b.vel.y=-d,c.vel.y=d,e=c.vel.x*ig.system.tick,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,e,-f/2,b.size.x,b.size.y),b.pos.y=d.pos.y,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,0,f/2,c.size.x,c.size.y),c.pos.y=b.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(b,c){this.tilesize=b;this.data=c;this.height=c.length;this.width=c[0].length;this.pxWidth=this.width*this.tilesize;this.pxHeight=this.height*this.tilesize},getTile:function(b,c){var d=Math.floor(b/this.tilesize),f=Math.floor(c/this.tilesize);return 0<=d&&d<this.width&&0<=f&&f<this.height?this.data[f][d]:0},setTile:function(b,c,d){b=Math.floor(b/this.tilesize);c=Math.floor(c/
this.tilesize);0<=b&&b<this.width&&0<=c&&c<this.height&&(this.data[c][b]=d)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(b,c,e){this.parent(b,c);this.tiledef=e||ig.CollisionMap.defaultTileDef;for(var g in this.tiledef)g|0>this.lastSlope&&(this.lastSlope=g|0)},trace:function(b,c,e,g,n,m){var p={collision:{x:!1,y:!1,slope:!1},pos:{x:b,y:c},tile:{x:0,y:0}},s=Math.ceil(Math.max(Math.abs(e),Math.abs(g))/this.tilesize);if(1<s)for(var r=e/s,x=g/s,y=0;y<s&&(r||x)&&!(this._traceStep(p,
b,c,r,x,n,m,e,g,y),b=p.pos.x,c=p.pos.y,p.collision.x&&(e=r=0),p.collision.y&&(g=x=0),p.collision.slope);y++);else this._traceStep(p,b,c,e,g,n,m,e,g,0);return p},_traceStep:function(b,c,e,g,n,m,p,s,r,x){b.pos.x+=g;b.pos.y+=n;var y=0;if(g){var H=0<g?m:0,l=0>g?this.tilesize:0,y=Math.max(Math.floor(e/this.tilesize),0),q=Math.min(Math.ceil((e+p)/this.tilesize),this.height);g=Math.floor((b.pos.x+H)/this.tilesize);var t=Math.floor((c+H)/this.tilesize);if(0<x||g==t||0>t||t>=this.width)t=-1;if(0<=g&&g<this.width)for(var K=
y;K<q&&!(-1!=t&&(y=this.data[K][t],1<y&&y<=this.lastSlope&&this._checkTileDef(b,y,c,e,s,r,m,p,t,K)));K++)if(y=this.data[K][g],1==y||y>this.lastSlope||1<y&&this._checkTileDef(b,y,c,e,s,r,m,p,g,K)){if(1<y&&y<=this.lastSlope&&b.collision.slope)break;b.collision.x=!0;b.tile.x=y;c=b.pos.x=g*this.tilesize-H+l;s=0;break}}if(n){H=0<n?p:0;n=0>n?this.tilesize:0;y=Math.max(Math.floor(b.pos.x/this.tilesize),0);l=Math.min(Math.ceil((b.pos.x+m)/this.tilesize),this.width);K=Math.floor((b.pos.y+H)/this.tilesize);
q=Math.floor((e+H)/this.tilesize);if(0<x||K==q||0>q||q>=this.height)q=-1;if(0<=K&&K<this.height)for(g=y;g<l&&!(-1!=q&&(y=this.data[q][g],1<y&&y<=this.lastSlope&&this._checkTileDef(b,y,c,e,s,r,m,p,g,q)));g++)if(y=this.data[K][g],1==y||y>this.lastSlope||1<y&&this._checkTileDef(b,y,c,e,s,r,m,p,g,K)){if(1<y&&y<=this.lastSlope&&b.collision.slope)break;b.collision.y=!0;b.tile.y=y;b.pos.y=K*this.tilesize-H+n;break}}},_checkTileDef:function(b,c,e,g,n,m,p,s,r,x){var y=this.tiledef[c];if(!y)return!1;c=(y[2]-
y[0])*this.tilesize;var H=(y[3]-y[1])*this.tilesize,l=y[4];p=e+n+(0>H?p:0)-(r+y[0])*this.tilesize;s=g+m+(0<c?s:0)-(x+y[1])*this.tilesize;if(0<c*s-H*p){if(0>n*-H+m*c)return l;r=Math.sqrt(c*c+H*H);x=H/r;r=-c/r;var q=p*x+s*r,y=x*q,q=r*q;if(y*y+q*q>=n*n+m*m)return l||0.5>c*(s-m)-H*(p-n);b.pos.x=e+n-y;b.pos.y=g+m-q;b.collision.slope={x:c,y:H,nx:x,ny:r};return!0}return!1}});var b=1/3,c=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,c,!0],6:[0,c,1,b,!0],7:[0,b,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[c,1,1,0,!0],43:[b,1,c,0,!0],54:[0,1,b,0,!0],27:[0,0,1,b,!0],28:[0,b,1,c,!0],29:[0,c,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,b,1,!0],44:[b,0,c,1,!0],55:[c,0,1,1,!0],16:[1,b,0,0,!0],17:[1,c,0,b,!0],18:[1,1,0,c,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[b,1,0,0,!0],41:[c,1,b,0,!0],52:[1,1,c,0,!0],38:[1,c,0,1,!0],39:[1,b,0,c,!0],40:[1,0,
0,b,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,c,1,!0],42:[c,0,b,1,!0],53:[b,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(b,c,e,g){return{collision:{x:!1,y:!1,slope:!1},pos:{x:b+e,y:c+g},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(b,c,d){this.parent(b,c);this.setTileset(d)},setTileset:function(b){this.tilesetName=b instanceof ig.Image?b.path:b;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(b,
c){this.scroll.x=b/this.distance;this.scroll.y=c/this.distance},preRenderMapToChunks:function(){var b=this.width*this.tilesize*ig.system.scale,c=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(b,c),this.chunkSize);var d=Math.ceil(b/this.chunkSize),f=Math.ceil(c/this.chunkSize);this.preRenderedChunks=[];for(var e=0;e<f;e++){this.preRenderedChunks[e]=[];for(var g=0;g<d;g++)this.preRenderedChunks[e][g]=this.preRenderChunk(g,e,g==d-1?b-g*this.chunkSize:this.chunkSize,e==f-1?
c-e*this.chunkSize:this.chunkSize)}},preRenderChunk:function(b,c,d,f){var e=d/this.tilesize/ig.system.scale+1,g=f/this.tilesize/ig.system.scale+1,n=b*this.chunkSize/ig.system.scale%this.tilesize,m=c*this.chunkSize/ig.system.scale%this.tilesize;b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);c=Math.floor(c*this.chunkSize/this.tilesize/ig.system.scale);var p=ig.$new("canvas");p.width=d;p.height=f;p.retinaResolutionEnabled=!1;f=p.getContext("2d");ig.System.scaleMode(p,f);d=ig.system.context;
ig.system.context=f;for(f=0;f<e;f++)for(var s=0;s<g;s++)if(f+b<this.width&&s+c<this.height){var r=this.data[s+c][f+b];r&&this.tiles.drawTile(f*this.tilesize-n,s*this.tilesize-m,r-1,this.tilesize)}ig.system.context=d;return p},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var b=ig.system.getDrawPos(this.scroll.x),c=ig.system.getDrawPos(this.scroll.y);if(this.repeat)var d=
this.width*this.tilesize*ig.system.scale,b=(b%d+d)%d,d=this.height*this.tilesize*ig.system.scale,c=(c%d+d)%d;var d=Math.max(Math.floor(b/this.chunkSize),0),f=Math.max(Math.floor(c/this.chunkSize),0),e=Math.ceil((b+ig.system.realWidth)/this.chunkSize),g=Math.ceil((c+ig.system.realHeight)/this.chunkSize),n=this.preRenderedChunks[0].length,m=this.preRenderedChunks.length;this.repeat||(e=Math.min(e,n),g=Math.min(g,m));for(var p=0;f<g;f++){for(var s=0,r=d;r<e;r++){var x=this.preRenderedChunks[f%m][r%n],
y=-b+r*this.chunkSize-s,H=-c+f*this.chunkSize-p;ig.system.context.drawImage(x,y,H);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(y,H,this.chunkSize,this.chunkSize));this.repeat&&x.width<this.chunkSize&&y+x.width<ig.system.realWidth&&(s+=this.chunkSize-x.width,e++)}this.repeat&&x.height<this.chunkSize&&H+x.height<ig.system.realHeight&&(p+=this.chunkSize-x.height,g++)}},drawTiled:function(){for(var b=0,c=null,d=(this.scroll.x/this.tilesize).toInt(),
f=(this.scroll.y/this.tilesize).toInt(),e=this.scroll.x%this.tilesize,g=this.scroll.y%this.tilesize,n=-e-this.tilesize,e=ig.system.width+this.tilesize-e,m=ig.system.height+this.tilesize-g,p=-1,g=-g-this.tilesize;g<m;p++,g+=this.tilesize){var s=p+f;if(s>=this.height||0>s){if(!this.repeat)continue;s=(s%this.height+this.height)%this.height}for(var r=-1,x=n;x<e;r++,x+=this.tilesize){b=r+d;if(b>=this.width||0>b){if(!this.repeat)continue;b=(b%this.width+this.width)%this.width}if(b=this.data[s][b])(c=this.anims[b-
1])?c.draw(x,g):this.tiles.drawTile(x,g,b-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevel:function(b){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var c=0;c<b.entities.length;c++){var d=b.entities[c];this.spawnEntity(d.type,d.x,d.y,d.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(c=0;c<b.layer.length;c++)if(d=b.layer[c],"collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var f=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);f.anims=this.backgroundAnims[d.tilesetName]||
{};f.repeat=d.repeat;f.distance=d.distance;f.foreground=!!d.foreground;f.preRender=!!d.preRender;f.name=d.name;this.backgroundMaps.push(f)}for(c=0;c<this.entities.length;c++)this.entities[c].ready()},loadLevelDeferred:function(b){this._levelToLoad=b},getMapByName:function(b){if("collision"==b)return this.collisionMap;for(var c=0;c<this.backgroundMaps.length;c++)if(this.backgroundMaps[c].name==b)return this.backgroundMaps[c];return null},getEntityByName:function(b){return this.namedEntities[b]},getEntitiesByType:function(b){b=
"string"===typeof b?ig.global[b]:b;for(var c=[],d=0;d<this.entities.length;d++){var f=this.entities[d];f instanceof b&&!f._killed&&c.push(f)}return c},spawnEntity:function(b,c,d,f){var e="string"===typeof b?ig.global[b]:b;if(!e)throw"Can't spawn entity of type "+b;b=new e(c,d,f||{});this.entities.push(b);b.name&&(this.namedEntities[b.name]=b);return b},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(b){b.name&&
delete this.namedEntities[b.name];b._killed=!0;b.type=ig.Entity.TYPE.NONE;b.checkAgainst=ig.Entity.TYPE.NONE;b.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(b)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);this.updateEntities();this.checkEntities();for(var b=0;b<this._deferredKill.length;b++)this._deferredKill[b].erase(),this.entities.erase(this._deferredKill[b]);this._deferredKill=[];if(this._doSortEntities||
this.autoSort)this.sortEntities(),this._doSortEntities=!1;for(var c in this.backgroundAnims){var b=this.backgroundAnims[c],d;for(d in b)b[d].update()}},updateEntities:function(){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c._killed||c.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var b;for(b=0;b<this.backgroundMaps.length;b++){var c=
this.backgroundMaps[b];if(c.foreground)break;c.setScreenPos(this.screen.x,this.screen.y);c.draw()}this.drawEntities();for(b;b<this.backgroundMaps.length;b++)c=this.backgroundMaps[b],c.setScreenPos(this.screen.x,this.screen.y),c.draw()},drawEntities:function(){for(var b=0;b<this.entities.length;b++)this.entities[b].draw()},checkEntities:function(){for(var b={},c=0;c<this.entities.length;c++){var d=this.entities[c];if(!(d.type==ig.Entity.TYPE.NONE&&d.checkAgainst==ig.Entity.TYPE.NONE&&d.collides==ig.Entity.COLLIDES.NEVER))for(var f=
{},e=Math.floor(d.pos.y/this.cellSize),g=Math.floor((d.pos.x+d.size.x)/this.cellSize)+1,n=Math.floor((d.pos.y+d.size.y)/this.cellSize)+1,m=Math.floor(d.pos.x/this.cellSize);m<g;m++)for(var p=e;p<n;p++)if(b[m])if(b[m][p]){for(var s=b[m][p],r=0;r<s.length;r++)d.touches(s[r])&&!f[s[r].id]&&(f[s[r].id]=!0,ig.Entity.checkPair(d,s[r]));s.push(d)}else b[m][p]=[d];else b[m]={},b[m][p]=[d]}}});ig.Game.SORT={Z_INDEX:function(b,c){return b.zIndex-c.zIndex},POS_X:function(b,c){return b.pos.x+b.size.x-(c.pos.x+
c.size.x)},POS_Y:function(b,c){return b.pos.y+b.size.y-(c.pos.y+c.size.y)}}});ig.baked=!0;
ig.module("plugins.patches.webkit-image-smoothing-patch").defines(function(){ig.System&&(ig.System.SCALE={CRISP:function(b,c){c.imageSmoothingEnabled=c.msImageSmoothingEnabled=c.mozImageSmoothingEnabled=c.oImageSmoothingEnabled=!1;b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(b,c){c.imageSmoothingEnabled=c.msImageSmoothingEnabled=
c.mozImageSmoothingEnabled=c.oImageSmoothingEnabled=!0;b.style.imageRendering="";b.style.msInterpolationMode=""}},ig.System.scaleMode=ig.System.SCALE.SMOOTH)});ig.baked=!0;
ig.module("plugins.patches.windowfocus-onMouseDown-patch").defines(function(){var b=!1;try{b=window.self!==window.top,!1===b&&(b=0<window.frames.length)}catch(c){b=!0}ig.Input.inject({keydown:function(c){var f=c.target.tagName;if(!("INPUT"==f||"TEXTAREA"==f))if(f="keydown"==c.type?c.keyCode:2==c.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,b&&0>f&&window.focus(),("touchstart"==c.type||"mousedown"==c.type)&&this.mousemove(c),f=this.bindings[f])this.actions[f]=!0,this.locks[f]||(this.presses[f]=!0,this.locks[f]=
!0),c.stopPropagation(),c.preventDefault()}})});ig.baked=!0;
ig.module("plugins.handlers.dom-handler").defines(function(){ig.DomHandler=ig.Class.extend({JQUERYAVAILABLE:!1,init:function(){this.JQUERYAVAILABLE=this._jqueryAvailable()},_jqueryAvailable:function(){return"undefined"!==typeof jQuery},addEvent:function(b,c,d,f){if(this.JQUERYAVAILABLE)b.on(c,d);else b.addEventListener(c,d,f)},create:function(b){return this.JQUERYAVAILABLE?$("<"+b+">"):ig.$new(b)},getElementByClass:function(b){return this.JQUERYAVAILABLE?$("."+b):document.getElementsByClassName(b)},
getElementById:function(b){return this.JQUERYAVAILABLE?0<$(b).length?$(b):null:ig.$(b)},appendChild:function(b,c){this.JQUERYAVAILABLE?b.append(c):b.appendChild(c)},appendToBody:function(b){this.JQUERYAVAILABLE?$("body").append(b):document.body.appendChild(b)},resize:function(b,c,d){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2));else{var f=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=f}},resizeOffsetLeft:function(b,
c,d,f){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2)),b.css("left",f);else{var e=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px; left: "+f.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=e}},css:function(b,c){if(this.JQUERYAVAILABLE)b.css(c);else{var d="",f;for(f in c)d+=f+":"+c[f]+";";this.attr(b,"style",d)}},getOffsets:function(b){return this.JQUERYAVAILABLE?(b=b.offset(),{left:b.left,top:b.top}):{left:b.offsetLeft,top:b.offsetTop}},attr:function(b,
c,d){if("undefined"===typeof d)return this.JQUERYAVAILABLE?b.attr(c):b.getAttribute(c);this.JQUERYAVAILABLE?b.attr(c,d):b.setAttribute(c,d)},show:function(b){this.JQUERYAVAILABLE?(b.show(),b.css("visibility","visible")):b&&(b.style?b.style.visibility="visible":b[0]&&(b[0].style.visibility="visible"))},hide:function(b){this.JQUERYAVAILABLE?(b.hide(),b.css("visibility","hidden")):b&&(b.style?b.style.visibility="hidden":b[0]&&(b[0].style.visibility="hidden"))},getQueryVariable:function(b){for(var c=
window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(decodeURIComponent(f[0])==b)return decodeURIComponent(f[1])}},forcedDeviceDetection:function(){var b=this.getQueryVariable("device");if(b)switch(b){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...")},
forcedDeviceRotation:function(){var b=this.getQueryVariable("force-rotate");if(b)switch(b){case "portrait":console.log("force rotate to portrait");window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}}})});ig.baked=!0;
ig.module("plugins.data.vector").defines(function(){Vector2=ig.Class.extend({x:null,y:null,valType:"number",init:function(b,c){typeof b===this.valType&&typeof c===this.valType&&(this.x=b,this.y=c)},row:function(b){typeof b===this.valType&&(this.y=b);return this.y},col:function(b){typeof b===this.valType&&(this.x=b);return this.x}})});ig.baked=!0;
ig.module("plugins.handlers.size-handler").requires("plugins.data.vector").defines(function(){ig.SizeHandler=ig.Class.extend({portraitMode:!1,desktop:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(640,480)},mobile:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(640,480)},windowSize:new Vector2(window.innerWidth,window.innerHeight),scaleRatioMultiplier:new Vector2(1,1),sizeRatio:new Vector2(1,1),scale:1,domHandler:null,
dynamicClickableEntityDivs:{},coreDivsToResize:["#canvas","#play","#orientate"],adsToResize:{MobileAdInGamePreroll:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll2:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd2:{"box-width":_SETTINGS.Ad.Mobile.End.Width+
2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll3:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd3:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20}},init:function(b){this.domHandler=b;if("undefined"===typeof b)throw"undefined Dom Handler for Size Handler";this.sizeCalcs();this.eventListenerSetup();this.samsungFix()},sizeCalcs:function(){this.windowSize=new Vector2(window.innerWidth,
window.innerHeight);if(ig.ua.mobile){this.mobile.actualSize=new Vector2(window.innerWidth,window.innerHeight);var b=new Vector2(this.mobile.actualResolution.x,this.mobile.actualResolution.y);this.scaleRatioMultiplier=new Vector2(this.mobile.actualSize.x/b.x,this.mobile.actualSize.y/b.y);var c=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y);this.mobile.actualSize.x=b.x*this.scaleRatioMultiplier.x;this.mobile.actualSize.y=b.y*this.scaleRatioMultiplier.y}else this.desktop.actualSize=
new Vector2(window.innerWidth,window.innerHeight),b=new Vector2(this.desktop.actualResolution.x,this.desktop.actualResolution.y),this.scaleRatioMultiplier=new Vector2(this.desktop.actualSize.x/b.x,this.desktop.actualSize.y/b.y),c=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y),this.desktop.actualSize.x=b.x*c,this.desktop.actualSize.y=b.y*c;this.sizeRatio.x=window.innerWidth/this.mobile.actualResolution.x;this.sizeRatio.y=window.innerHeight/this.mobile.actualResolution.y},resizeLayers:function(){for(var b=
0;b<this.coreDivsToResize.length;b++){var c=ig.domHandler.getElementById(this.coreDivsToResize[b]);ig.ua.mobile?ig.domHandler.resize(c,Math.floor(ig.sizeHandler.mobile.actualSize.x),Math.floor(ig.sizeHandler.mobile.actualSize.y)):ig.domHandler.resizeOffsetLeft(c,Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y),Math.floor(ig.sizeHandler.windowSize.x/2-ig.sizeHandler.desktop.actualSize.x/2))}for(var d in this.adsToResize){var b=ig.domHandler.getElementById("#"+
d),c=ig.domHandler.getElementById("#"+d+"-Box"),f=(window.innerWidth-this.adsToResize[d]["box-width"])/2+"px",e=(window.innerHeight-this.adsToResize[d]["box-height"])/2+"px";b&&ig.domHandler.css(b,{width:window.innerWidth,height:window.innerHeight});c&&ig.domHandler.css(c,{left:f,top:e})}for(d in this.dynamicClickableEntityDivs){c=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);b=ig.domHandler.getElementById("#"+d);if(ig.ua.mobile)var g=this.dynamicClickableEntityDivs[d].entity_pos_x,
n=this.dynamicClickableEntityDivs[d].entity_pos_y,e=this.dynamicClickableEntityDivs[d].width,f=this.dynamicClickableEntityDivs[d].height,m=Math.floor(g*this.scaleRatioMultiplier.x)+"px",n=Math.floor(n*this.scaleRatioMultiplier.y)+"px",e=Math.floor(e*this.scaleRatioMultiplier.x)+"px",c=Math.floor(f*this.scaleRatioMultiplier.y)+"px";else var f=ig.domHandler.getElementById("#canvas"),f=ig.domHandler.getOffsets(f),m=f.left,p=f.top,g=this.dynamicClickableEntityDivs[d].entity_pos_x,n=this.dynamicClickableEntityDivs[d].entity_pos_y,
e=this.dynamicClickableEntityDivs[d].width,f=this.dynamicClickableEntityDivs[d].height,m=Math.floor(m+g*c)+"px",n=Math.floor(p+n*c)+"px",e=Math.floor(e*c)+"px",c=Math.floor(f*c)+"px";ig.domHandler.css(b,{"float":"left",position:"absolute",left:m,top:n,width:e,height:c,"z-index":3})}},resize:function(){this.sizeCalcs();this.resizeLayers()},reorient:function(){if(ig.ua.mobile){var b=this.portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth,c=this.domHandler.getElementById("#orientate"),
d=this.domHandler.getElementById("#game");b?(this.domHandler.show(c),this.domHandler.hide(d)):(this.domHandler.show(d),this.domHandler.hide(c))}ig.ua.mobile?(this.resize(),this.resizeAds()):this.resize()},resizeAds:function(){for(var b in this.adsToResize){var c=ig.domHandler.getElementById("#"+b),d=ig.domHandler.getElementById("#"+b+"-Box"),f=(window.innerWidth-this.adsToResize[b]["box-width"])/2+"px",e=(window.innerHeight-this.adsToResize[b]["box-height"])/2+"px";c&&ig.domHandler.css(c,{width:window.innerWidth,
height:window.innerHeight});d&&ig.domHandler.css(d,{left:f,top:e})}},samsungFix:function(){ig.ua.android&&!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&(!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchmove",function(b){b.preventDefault();
return!1},!1),document.addEventListener("touchend",function(b){b.preventDefault();return!1},!1))},eventListenerSetup:function(){window.addEventListener("resize",function(){this.reorient()}.bind(this),!1);window.addEventListener("orientationchange",function(){this.reorient()}.bind(this),!1);document.ontouchmove=function(b){window.scrollTo(0,1);b.preventDefault()}}})});ig.baked=!0;
ig.module("plugins.handlers.api-handler").defines(function(){ig.ApiHandler=ig.Class.extend({apiAvailable:{MJSPreroll:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS&&_SETTINGS.Ad.Mobile.Preroll.Enabled&&MobileAdInGamePreroll.Initialize()},MJSHeader:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Header.Enabled&&MobileAdInGameHeader.Initialize()},MJSFooter:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Footer.Enabled&&MobileAdInGameFooter.Initialize()},
MJSEnd:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.End.Enabled&&MobileAdInGameEnd.Initialize()}},run:function(b,c){if(this.apiAvailable[b])this.apiAvailable[b](c)}})});ig.baked=!0;
ig.module("plugins.audio.sound-player").defines(function(){SoundPlayer=ig.Class.extend({tagName:"SoundPlayer",stayMuteFlag:!1,debug:!1,init:function(){this.debug&&console.log(this.tagName)},play:function(b){this.debug&&console.log("play sound ",b)},stop:function(){this.debug&&console.log("stop sound ")},volume:function(){this.debug&&console.log("set volume")},mute:function(b){this.debug&&console.log("mute");"undefined"===typeof b?this.stayMuteFlag=!0:b&&(this.stayMuteFlag=!0)},unmute:function(b){this.debug&&
console.log("unmute");"undefined"===typeof b?this.stayMuteFlag=!1:b&&(this.stayMuteFlag=!1)}})});ig.baked=!0;
ig.module("plugins.audio.impact-music-player").requires("plugins.audio.sound-player").defines(function(){ImpactMusicPlayer=SoundPlayer.extend({tagName:"ImpactMusicPlayer",bgmPlaying:!1,soundList:{},init:function(b,c){this.parent(b,c);for(var d in b)this.soundList[d]=d,ig.music.add(b[d].path+".*",d);c&&c.loop&&(ig.music.loop=c.loop)},play:function(b){this.stayMuteFlag||(this.bgmPlaying=!0,"undefined"===typeof b?ig.music.play(b):ig.music.play())},stop:function(){this.bgmPlaying=!1;ig.music.pause()},
volume:function(b){console.log("impactmusic:",b);ig.music.volume=0>b?0:isNaN(b)?1:1<b?1:b},getVolume:function(){return ig.music.volume},mute:function(b){this.parent(b);this.bgmPlaying&&this.stop()},unmute:function(b){this.parent(b);this.play()}})});ig.baked=!0;
ig.module("plugins.audio.impact-sound-player").requires("plugins.audio.sound-player").defines(function(){ImpactSoundPlayer=SoundPlayer.extend({tagName:"ImpactSoundPlayer",soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var f=new ig.Sound(b[d].path+".*");this.soundList[d]=f}},play:function(b){this.stayMuteFlag||("object"===typeof b?(console.log(b+" exists"),b.play()):"string"===typeof b&&this.soundList[b].play())},stop:function(b){this.parent(b);b.stop()},volume:function(b){ig.soundManager.volume=
0>b?0:isNaN(b)?1:1<b?1:b},getVolume:function(){return ig.soundManager.volume},mute:function(b){this.parent(b);ig.Sound.enabled=!1},unmute:function(b){this.parent(b);ig.Sound.enabled=!0}})});ig.baked=!0;
ig.module("plugins.audio.howler-player").requires("plugins.audio.sound-player").defines(function(){HowlerPlayer=SoundPlayer.extend({tagName:"HowlerPlayer",soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var f=b[d].path,f=new Howl({urls:[f+"."+ig.Sound.FORMAT.OGG.ext,f+"."+ig.Sound.FORMAT.MP3.ext]});this.soundList[d]=f}},play:function(b){this.stayMuteFlag||("object"===typeof b?b.play():"string"===typeof b&&this.soundList[b].play())},stop:function(b){this.parent(b);b.stop()},volume:function(b){for(var c in this.soundList){if(0>
b){this.soundList[c].volume(0);break}isNaN(b)?this.soundList[c].volume(1):1<b?this.soundList[c].volume(1):this.soundList[c].volume(b)}},getVolume:function(){for(var b in this.soundList)return this.soundList[b].volume()},mute:function(b){this.parent(b);Howler.mute()},unmute:function(b){this.parent(b);Howler.unmute()}})});ig.baked=!0;
ig.module("plugins.audio.howler-music-player").requires("plugins.audio.sound-player").defines(function(){HowlerMusicPlayer=SoundPlayer.extend({tagName:"HowlerMusicPlayer",bgmPlaying:!1,soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var f=b[d].path,f=new Howl({urls:[f+"."+ig.Sound.FORMAT.OGG.ext,f+"."+ig.Sound.FORMAT.MP3.ext],loop:!0,autoplay:!1,onend:function(){}.bind(this)});this.soundList[d]=f}},play:function(b){if(!this.stayMuteFlag&&!this.bgmPlaying)if("object"===typeof b)this.bgmPlaying=
!0,b.play();else if("string"===typeof b)this.bgmPlaying=!0,this.soundList[b].play();else for(var c in this.soundList){this.soundList[c].play();this.bgmPlaying=!0;break}},stop:function(b){this.parent(b);if(this.bgmPlaying){for(var c in this.soundList)this.soundList[c].stop();this.bgmPlaying=!1}},volume:function(b){for(var c in this.soundList){if(0>b){this.soundList[c].volume(0);break}isNaN(b)?this.soundList[c].volume(1):1<b?this.soundList[c].volume(1):this.soundList[c].volume(b)}},getVolume:function(){for(var b in this.soundList)return this.soundList[b].volume()},
mute:function(b){this.parent(b);Howler.mute()},unmute:function(b){this.parent(b);Howler.unmute()}})});ig.baked=!0;
ig.module("plugins.audio.jukebox-player").requires("plugins.audio.sound-player").defines(function(){JukeboxPlayer=SoundPlayer.extend({tagName:"JukeboxPlayer",bgmPlaying:!1,soundList:{},jukeboxPlayer:null,pausePosition:0,premuteVolume:0,minVolume:0.0010,init:function(b,c){this.parent(b,c);for(var d in b){this.soundList[d]=d;var f=b[d].path;this.jukeboxPlayer=new jukebox.Player({resources:[f+"."+ig.Sound.FORMAT.OGG.ext,f+"."+ig.Sound.FORMAT.MP3.ext],autoplay:!1,spritemap:{music:{start:b[d].startMp3,
end:b[d].endMp3,loop:!0}}})}},play:function(){this.stayMuteFlag||(this.bgmPlaying=!0,this.pausePosition?(console.log("resume"),this.jukeboxPlayer.resume(this.pausePosition)):(console.log("play"),this.jukeboxPlayer.play(this.jukeboxPlayer.settings.spritemap.music.start,!0)),this.premuteVolume=this.getVolume())},stop:function(){this.bgmPlaying=!1;this.pausePosition=this.jukeboxPlayer.pause()},volume:function(b){console.log("jukebox:",b);0>=b?this.jukeboxPlayer.setVolume(this.minVolume):isNaN(b)?this.jukeboxPlayer.setVolume(1):
1<b?this.jukeboxPlayer.setVolume(1):this.jukeboxPlayer.setVolume(b)},getVolume:function(){return this.jukeboxPlayer.getVolume()},mute:function(b){this.parent(b);this.bgmPlaying&&(console.log("jukebox",this.premuteVolume),this.stayMuteFlag||(this.premuteVolume=this.getVolume()),this.jukeboxPlayer.pause(),this.jukeboxPlayer.setVolume(this.minVolume))},unmute:function(b){this.parent(b);this.stayMuteFlag||(console.log("jukebox",this.premuteVolume),this.jukeboxPlayer.setVolume(this.premuteVolume),this.jukeboxPlayer.resume())}})});
ig.baked=!0;
ig.module("plugins.audio.webaudio-music-player").requires("plugins.audio.sound-player").defines(function(){WebaudioMusicPlayer=SoundPlayer.extend({bgmPlaying:!1,isSupported:!1,muteFlag:!1,pausedTime:0,webaudio:null,useHTML5Audio:!1,audio:null,inactiveAudio:null,codecs:null,_volume:1,soundList:{},init:function(b){this.webaudio={compatibility:{},gainNode:null,buffer:null,source_loop:{},source_once:{}};try{this.AudioContext=window.AudioContext||window.webkitAudioContext,this.webaudio.context=new this.AudioContext,
this.isSupported=!0}catch(c){console.log("Web Audio API not supported in this browser."),this.webaudio=null,this.useHTML5Audio=!0}if(this.useHTML5Audio)if("undefined"!==typeof Audio)try{new Audio}catch(d){this.useHTML5Audio=!1}else this.useHTML5Audio=!1;this.useHTML5Audio&&(this.audio=new Audio,this.isSupported=!0,this.initHTML5Audio(b));if(!this.isSupported)return null;this.webaudio&&this.initWebAudio(b)},initWebAudio:function(b){ig.ua.iOS&&this.initIOSWebAudioUnlock();this.webaudio.gainNode=this.webaudio.context.createGain();
this.webaudio.gainNode.connect(this.webaudio.context.destination);this.webaudio.gainNode.gain.value=this._volume;var c="start",d="stop",f=this.webaudio.context.createBufferSource();"function"!==typeof f.start&&(c="noteOn");this.webaudio.compatibility.start=c;"function"!==typeof f.stop&&(d="noteOff");this.webaudio.compatibility.stop=d;for(var e in b){this.soundList[e]=e;c=b[e].path;b=c+"."+ig.Sound.FORMAT.MP3.ext;var g=c+"."+ig.Sound.FORMAT.OGG.ext;ig.ua.mobile?ig.ua.iOS&&(g=b):(c=navigator.userAgent.toLowerCase(),
-1!=c.indexOf("safari")&&-1>=c.indexOf("chrome")&&(g=b));var n=new XMLHttpRequest;n.open("GET",g,!0);n.responseType="arraybuffer";n.onload=function(){this.webaudio.context.decodeAudioData(n.response,function(b){this.webaudio.buffer=b;this.webaudio.source_loop={};this.bgmPlaying?this.play():this.stop()}.bind(this),function(){console.log('Error decoding audio "'+g+'".')})}.bind(this);n.send();break}},initIOSWebAudioUnlock:function(){if(this.webaudio){webaudio=this.webaudio;var b=function(){var c=webaudio.context,
d=c.createBuffer(1,1,22050),f=c.createBufferSource();f.buffer=d;f.connect(c.destination);"undefined"===typeof f.start?f.noteOn(0):f.start(0);setTimeout(function(){(f.playbackState===f.PLAYING_STATE||f.playbackState===f.FINISHED_STATE)&&window.removeEventListener("touchend",b,!1)},0)};window.addEventListener("touchend",b,!1)}},initHTML5Audio:function(b){if(this.useHTML5Audio&&this.audio){var c=this.audio;this.codecs={};this.codecs={mp3:!!c.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,
""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!c.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")};this.is={ff:Boolean(null!=
window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase())),ie:Boolean(document.all&&!window.opera),opera:Boolean(window.opera),chrome:Boolean(window.chrome),safari:Boolean(!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase())&&window.getComputedStyle&&!window.globalStorage&&!window.opera)};this.playDelay=-60;this.stopDelay=30;this.is.chrome&&(this.playDelay=-25);this.is.chrome&&(this.stopDelay=25);this.is.ff&&(this.playDelay=-25);this.is.ff&&(this.stopDelay=85);this.is.opera&&
(this.playDelay=5);this.is.opera&&(this.stopDelay=0);for(var d in b){this.soundList[d]=d;var f=b[d].path,c=f+"."+ig.Sound.FORMAT.OGG.ext,f=f+"."+ig.Sound.FORMAT.MP3.ext,e=null;this.codecs[ig.Sound.FORMAT.OGG.ext.toLowerCase()]?e=c:this.codecs[ig.Sound.FORMAT.MP3.ext.toLowerCase()]&&(e=f);if(e){ig.ua.mobile?ig.ua.iOS&&(e=f):(b=navigator.userAgent.toLowerCase(),-1!=b.indexOf("safari")&&-1>=b.indexOf("chrome")&&(e=f));this.audio.addEventListener("error",function(){this.audio.error&&4===this.audio.error.code&&
(this.isSupported=!1)},!1);this.audio.src=e;this.audio._pos=0;this.audio.preload="auto";this.audio.volume=this._volume;this.inactiveAudio=new Audio;this.inactiveAudio.src=e;this.inactiveAudio._pos=0;this.inactiveAudio.preload="auto";this.inactiveAudio.volume=this._volume;this.inactiveAudio.load();var g=function(){this._duration=this.audio.duration;this._loaded||(this._loaded=!0);this.bgmPlaying?this.play():this.stop();this.audio.removeEventListener("canplaythrough",g,!1)}.bind(this);this.audio.addEventListener("canplaythrough",
g,!1);this.audio.load();break}}}},play:function(b){if(this.isSupported)if(this.bgmPlaying=!0,this.webaudio)if(this.webaudio.buffer){if(!this.muteFlag&&(this.bgmPlaying=!0,!this.webaudio.source_loop._playing)){this.webaudio.source_loop=this.webaudio.context.createBufferSource();this.webaudio.source_loop.buffer=this.webaudio.buffer;this.webaudio.source_loop.loop=!0;this.webaudio.source_loop.connect(this.webaudio.gainNode);isNaN(b)&&(b=0,this.pausedTime&&(b=this.pausedTime));this.webaudio.source_loop._startTime=
this.webaudio.context.currentTime;if("noteOn"===this.webaudio.compatibility.start)this.webaudio.source_once=this.webaudio.context.createBufferSource(),this.webaudio.source_once.buffer=this.webaudio.buffer,this.webaudio.source_once.connect(this.webaudio.gainNode),this.webaudio.source_once.noteGrainOn(0,b,this.webaudio.buffer.duration-b),this.webaudio.source_loop[this.webaudio.compatibility.start](this.webaudio.context.currentTime+(this.webaudio.buffer.duration-b));else this.webaudio.source_loop[this.webaudio.compatibility.start](0,
b);this.webaudio.source_loop._playing=!0}}else this.bgmPlaying=!0;else if(this.audio){var c=this.audio;if(!this.muteFlag){this.bgmPlaying=!0;isNaN(b)&&(b=0,this.pausedTime&&(b=this.pausedTime));var d=this._duration-b;this._onEndTimer&&(clearTimeout(this._onEndTimer),this._onEndTimer=null);this._onEndTimer=setTimeout(function(){this.audio.currentTime=0;this.audio.pause();this.pausedTime=0;if(this.inactiveAudio){var b=this.audio;this.audio=this.inactiveAudio;this.inactiveAudio=b}this.play()}.bind(this),
1E3*d+this.playDelay);4===c.readyState||!c.readyState&&navigator.isCocoonJS?(c.readyState=4,c.currentTime=b,c.muted=this.muteFlag||c.muted,c.volume=this._volume,setTimeout(function(){c.play()},0)):(clearTimeout(this._onEndTimer),this._onEndTimer=null,function(){var b=function(){this.play();c.removeEventListener("canplaythrough",b,!1)}.bind(this);c.addEventListener("canplaythrough",b,!1)}())}}},stop:function(){this.bgmPlaying=!1;if(this.isSupported)if(this.webaudio){if(this.webaudio.source_loop._playing&&
(this.webaudio.source_loop[this.webaudio.compatibility.stop](0),this.webaudio.source_loop._playing=!1,this.pausedTime+=this.webaudio.context.currentTime-this.webaudio.source_loop._startTime,this.pausedTime%=this.webaudio.source_loop.buffer.duration,this.webaudio.source_loop._startTime=0,"noteOn"===this.webaudio.compatibility.start))this.webaudio.source_once[this.webaudio.compatibility.stop](0)}else if(this.audio){var b=this.audio;this.pausedTime=b.currentTime;b.currentTime=0;b.pause();clearTimeout(this._onEndTimer);
this._onEndTimer=null}},volume:function(b){this.isSupported&&(this._volume=b,0>this._volume?this._volume=0:1<this._volume&&(this._volume=1),this.webaudio?this.webaudio.gainNode&&(this.webaudio.gainNode.gain.value=this._volume):this.audio&&(this.audio.volume=this._volume,this.inactiveAudio&&(this.inactiveAudio.volume=this._volume)))},getVolume:function(){return!this.isSupported?0:this._volume},mute:function(b){this.parent(b);!1==this.muteFlag&&(this.muteFlag=!0,this.bgmPlaying&&(this.stop(),this.bgmPlaying=
!0))},unmute:function(b){this.parent(b);!this.stayMuteFlag&&!0==this.muteFlag&&(this.muteFlag=!1,this.bgmPlaying&&this.play())}})});ig.baked=!0;
ig.module("plugins.audio.sound-info").defines(function(){SoundInfo=ig.Class.extend({FORMATS:{OGG:".ogg",MP3:".mp3"},sfx:{kittyopeningSound:{path:"media/audio/opening/kittyopening"},staticSound:{path:"media/audio/play/static"},openingSound:{path:"media/audio/opening/opening"},emptyShot:{path:"media/audio/game/empty_shot"},femaleHostageHurt:{path:"media/audio/game/female_hostage_hurt"},femaleHostageRescue:{path:"media/audio/game/female_hostage_rescue"},maleHostageHurt:{path:"media/audio/game/male_hostage_hurt"},
maleHostageRescue:{path:"media/audio/game/male_hostage_rescue"},gunshot1:{path:"media/audio/game/gunshot1"},gunshot2:{path:"media/audio/game/gunshot2"},gunshot3:{path:"media/audio/game/gunshot3"},gunshot4:{path:"media/audio/game/gunshot4"},healthPackCollection:{path:"media/audio/game/health_pack_collection"},recoverHealth:{path:"media/audio/game/recover_health"},maleGrunt1:{path:"media/audio/game/male_grunt1"},maleGrunt2:{path:"media/audio/game/male_grunt2"},maleGrunt3:{path:"media/audio/game/male_grunt3"},
maleGrunt4:{path:"media/audio/game/male_grunt4"},maleGrunt5:{path:"media/audio/game/male_grunt5"},playerGrunt1:{path:"media/audio/game/player_grunt1"},playerGrunt2:{path:"media/audio/game/player_grunt2"},reload:{path:"media/audio/game/reload"},transition:{path:"media/audio/game/transition"}},bgm:{background:{path:"media/audio/game/bgm3",startOgg:0,endOgg:11.636,startMp3:0,endMp3:11.636}}})});ig.baked=!0;
ig.module("plugins.audio.sound-handler").requires("plugins.audio.impact-music-player","plugins.audio.impact-sound-player","plugins.audio.howler-player","plugins.audio.howler-music-player","plugins.audio.jukebox-player","plugins.audio.webaudio-music-player","plugins.audio.sound-info").defines(function(){ig.SoundHandler=ig.Class.extend({bgmPlayer:null,sfxPlayer:null,focusBlurMute:!1,soundInfo:new SoundInfo,init:function(){console.log("Initiating sound handler");this.initWindowHandler();ig.ua.mobile?
(this.initPowerButtonFix(),this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.bgmPlayer.isSupported||(this.bgmPlayer=new JukeboxPlayer(this.soundInfo.bgm,{loop:!0}))):(this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.bgmPlayer.isSupported||(this.bgmPlayer=new ImpactMusicPlayer(this.soundInfo.bgm,{loop:!0})));this.sfxPlayer=new HowlerPlayer(this.soundInfo.sfx)},checkBGM:function(){return this.bgmPlayer.stayMuteFlag},checkSFX:function(){return this.sfxPlayer.stayMuteFlag},
muteSFX:function(b){this.sfxPlayer&&this.sfxPlayer.mute(b)},muteBGM:function(b){this.bgmPlayer&&this.bgmPlayer.mute(b)},unmuteSFX:function(b){this.sfxPlayer&&this.sfxPlayer.unmute(b)},unmuteBGM:function(b){this.bgmPlayer&&this.bgmPlayer.unmute(b)},muteAll:function(b){this.muteSFX(b);this.muteBGM(b)},unmuteAll:function(b){this.unmuteSFX(b);this.unmuteBGM(b)},forceMuteAll:function(){this.focusBlurMute||this.muteAll(!1);this.focusBlurMute=!0},forceUnMuteAll:function(){this.focusBlurMute&&(this.unmuteAll(!1),
this.focusBlurMute=!1)},initWindowHandler:function(){"true"===ig.domHandler.getQueryVariable("webview")?($(window).focus(function(){ig.soundHandler&&ig.soundHandler.forceUnMuteAll()}),$(window).blur(function(){ig.soundHandler&&ig.soundHandler.forceMuteAll()})):(window.onfocus=function(){ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},window.onblur=function(){ig.soundHandler&&ig.soundHandler.forceMuteAll()})},initPowerButtonFix:function(){var b=this.getHiddenProp();b&&(b=b.replace(/[H|h]idden/,
"")+"visibilitychange",document.addEventListener(b,this.visChange));window.addEventListener("pagehide",function(){ig.soundHandler&&ig.soundHandler.forceMuteAll()},!1);window.addEventListener("pageshow",function(){ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},!1)},getHiddenProp:function(){var b=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var c=0;c<b.length;c++)if(b[c]+"Hidden"in document)return b[c]+"Hidden";return null},isHidden:function(){var b=this.getHiddenProp();return!b?
!1:document[b]},visChange:function(){ig.soundHandler.isHidden()?ig.soundHandler&&ig.soundHandler.forceMuteAll():ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},saveVolume:function(){this.sfxPlayer&&ig.game.io.storageSet("soundVolume",this.sfxPlayer.getVolume());this.bgmPlayer&&ig.game.io.storageSet("musicVolume",this.bgmPlayer.getVolume())},forceLoopBGM:function(){var b;if(!this.focusBlurMute&&this.bgmPlayer.bgmPlaying&&this.bgmPlayer){var c=this.bgmPlayer.jukeboxPlayer;if(c){null!=window.mozInnerScreenX&&
/firefox/.test(navigator.userAgent.toLowerCase());b=Boolean(window.chrome);!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase());var d=0.1;ig.ua.mobile&&(d=0.115,ig.ua.android&&(d=0.45,b&&(d=0.3)));c.settings.spritemap.music&&(b=c.settings.spritemap.music.end-d,c.getCurrentTime()>=b&&(b=c.settings.spritemap.music.start,ig.ua.android?this.forcelooped||(c.play(b,!0),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},d)):c.setCurrentTime(b)))}else"ImpactMusicPlayer"==
this.bgmPlayer.tagName&&(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase()),b=Boolean(window.chrome),!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase()),d=0.1,ig.ua.mobile&&(d=0.115,ig.ua.android&&(d=0.45,b&&(d=0.3))),c=0,"mp3"==ig.soundManager.format.ext&&(c=0.05),ig.music.currentTrack&&(b=ig.music.currentTrack.duration-d,ig.music.currentTrack.currentTime>=b&&(ig.ua.android?this.forcelooped||(ig.music.currentTrack.pause(),ig.music.currentTrack.currentTime=
c,ig.music.currentTrack.play(),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},d)):ig.music.currentTrack.currentTime=c)))}}})});ig.baked=!0;
ig.module("plugins.io.storage").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;ig.module("plugins.io.mouse").defines(function(){Mouse=ig.Class.extend({bindings:{click:[ig.KEY.MOUSE1]},init:function(){ig.input.initMouse();for(var b in this.bindings){this[b]=b;for(var c=0;c<this.bindings[b].length;c++)ig.input.bind(this.bindings[b][c],b)}},getPos:function(){if(ig.ua.mobile)var b=ig.input.mouse.x/ig.sizeHandler.sizeRatio.x,c=ig.input.mouse.y/ig.sizeHandler.sizeRatio.y;else b=ig.input.mouse.x,c=ig.input.mouse.y;return new Vector2(b,c)}})});
ig.baked=!0;ig.module("plugins.io.keyboard").defines(function(){Keyboard=ig.Class.extend({bindings:{jump:[ig.KEY.W,ig.KEY.UP_ARROW],moveright:[ig.KEY.D,ig.KEY.RIGHT_ARROW],moveleft:[ig.KEY.A,ig.KEY.LEFT_ARROW],submit:[ig.KEY.ENTER],shoot:[ig.KEY.S,ig.KEY.DOWN_ARROW,ig.KEY.SPACE],kill:[ig.KEY.A]},init:function(){for(var b in this.bindings){this[b]=b;for(var c=0;c<this.bindings[b].length;c++)ig.input.bind(this.bindings[b][c],b)}}})});ig.baked=!0;
ig.module("plugins.io.gamepad-input").defines(function(){ig.PADKEY={BUTTON_0:0,PADBUTTON_1:1,BUTTON_2:2,BUTTON_3:3,BUTTON_LEFT_BUMPER:4,BUTTON_RIGHT_BUMPER:5,BUTTON_LEFT_TRIGGER:6,BUTTON_RIGHT_TRIGGER:7,BUTTON_LEFT_JOYSTICK:10,BUTTON_RIGHT_JOYSTICK:11,BUTTON_DPAD_UP:12,BUTTON_DPAD_DOWN:13,BUTTON_DPAD_LEFT:14,BUTTON_DPAD_RIGHT:15,BUTTON_MENU:16,AXIS_LEFT_JOYSTICK_X:0,AXIS_LEFT_JOYSTICK_Y:1,AXIS_RIGHT_JOYSTICK_X:2,AXIS_RIGHT_JOYSTICK_Y:3};ig.GamepadInput=ig.Class.extend({isInit:!1,isSupported:!1,list:[],
bindings:{},states:{},presses:{},releases:{},downLocks:{},upLocks:{},leftStick:{x:0,y:0},rightStick:{x:0,y:0},start:function(){if(!this.isInit){this.isInit=!0;var b=navigator.getGamepads||navigator.webkitGetGamepads;b&&(!navigator.getGamepads&&navigator.webkitGetGamepads&&(navigator.getGamepads=navigator.webkitGetGamepads),this.list=navigator.getGamepads());this.isSupported=b}},isAvailable:function(){return this.isInit&&this.isSupported},buttonPressed:function(b){return"object"==typeof b?b.pressed:
1==b},buttonDown:function(b){if(b=this.bindings[b])this.states[b]=!0,this.downLocks[b]||(this.presses[b]=!0,this.downLocks[b]=!0)},buttonUp:function(b){if((b=this.bindings[b])&&this.downLocks[b]&&!this.upLocks[b])this.states[b]=!1,this.releases[b]=!0,this.upLocks[b]=!0},clearPressed:function(){for(var b in this.releases)this.states[b]=!1,this.downLocks[b]=!1;this.releases={};this.presses={};this.upLocks={}},bind:function(b,c){this.bindings[b]=c},unbind:function(b){this.releases[this.bindings[b]]=
!0;this.bindings[b]=null},unbindAll:function(){this.bindings={};this.states={};this.presses={};this.releases={};this.downLocks={};this.upLocks={}},state:function(b){return this.states[b]},pressed:function(b){return this.presses[b]},released:function(b){return this.releases[b]},clamp:function(b,c,d){return b<c?c:b>d?d:b},pollGamepads:function(){if(this.isSupported){this.leftStick.x=0;this.leftStick.y=0;this.rightStick.x=0;this.rightStick.y=0;this.list=navigator.getGamepads();for(var b in this.bindings){for(var c=
!1,d=0;d<this.list.length;d++){var f=this.list[d];if(f&&f.buttons&&this.buttonPressed(f.buttons[b])){c=!0;break}}c?this.buttonDown(b):this.buttonUp(b)}for(d=0;d<this.list.length;d++)if((f=this.list[d])&&f.axes){b=f.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_X];var c=f.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_Y],e=f.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_X],f=f.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_Y];this.leftStick.x+=isNaN(b)?0:b;this.leftStick.y+=isNaN(c)?0:c;this.rightStick.x+=isNaN(e)?0:e;this.rightStick.y+=
isNaN(f)?0:f}0<this.list.length&&(this.leftStick.x=this.clamp(this.leftStick.x,-1,1),this.leftStick.y=this.clamp(this.leftStick.y,-1,1),this.rightStick.x=this.clamp(this.rightStick.x,-1,1),this.rightStick.y=this.clamp(this.rightStick.y,-1,1))}}})});ig.baked=!0;
ig.module("plugins.io.gamepad").requires("plugins.io.gamepad-input").defines(function(){Gamepad=ig.Class.extend({bindings:{padJump:[ig.PADKEY.BUTTON_0]},init:function(){ig.gamepadInput.start();for(var b in this.bindings)for(var c=0;c<this.bindings[b].length;c++)ig.gamepadInput.bind(this.bindings[b][c],b)},press:function(){},held:function(){},release:function(){}})});ig.baked=!0;
ig.module("plugins.io.multitouch").defines(function(){Multitouch=ig.Class.extend({init:function(){ig.multitouchInput.start()},getTouchesPos:function(){if(ig.ua.mobile){if(0<ig.multitouchInput.touches.length){for(var b=[],c=0;c<ig.multitouchInput.touches.length;c++){var d=ig.multitouchInput.touches[c];b.push({x:d.x,y:d.y})}return b}return null}}})});ig.baked=!0;
ig.module("plugins.io.multitouch-input").defines(function(){ig.MultitouchInput=ig.Class.extend({isStart:!1,touches:[],multitouchCapable:!1,lastEventUp:null,start:function(){this.isStart||(this.isStart=!0,navigator.maxTouchPoints&&1<navigator.maxTouchPoints&&(this.multitouchCapable=!0),ig.ua.touchDevice&&(window.navigator.msPointerEnabled&&(ig.system.canvas.addEventListener("MSPointerDown",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",
this.touchmove.bind(this),!1),ig.system.canvas.style.msContentZooming="none",ig.system.canvas.style.msTouchAction="none"),ig.system.canvas.addEventListener("touchstart",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.touchmove.bind(this),!1)))},touchmove:function(b){if(ig.ua.touchDevice){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||
ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(b.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<b.touches.length&&(this.multitouchCapable=!0);var f={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(f=ig.system.canvas.getBoundingClientRect());for(var e=0;e<b.touches.length;e++){var g=b.touches[e];g&&this.touches.push({x:(g.clientX-f.left)/c,y:(g.clientY-f.top)/d})}}else this.windowMove(b)}},touchdown:function(b){var c=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(window.navigator.msPointerEnabled)this.windowKeyDown(b);else if(ig.ua.touchDevice&&b.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<b.touches.length&&(this.multitouchCapable=!0);var f={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(f=ig.system.canvas.getBoundingClientRect());
for(var e=0;e<b.touches.length;e++){var g=b.touches[e];g&&this.touches.push({x:(g.clientX-f.left)/c,y:(g.clientY-f.top)/d})}}},touchup:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;parseInt(ig.system.canvas.offsetHeight);c=ig.system.scale*(c/ig.system.realWidth);if(window.navigator.msPointerEnabled)this.windowKeyUp(b);else{this.lastEventUp=b;var d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());if(ig.ua.touchDevice){b=
(b.changedTouches[0].clientX-d.left)/c;for(c=0;c<this.touches.length;c++)this.touches[c].x>=b-40&&this.touches[c].x<=b+40&&this.touches.splice(c,1)}}},windowKeyDown:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(window.navigator.msPointerEnabled){var f={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(f=ig.system.canvas.getBoundingClientRect());
b=b.changedTouches?b.changedTouches:[b];for(var e=0;e<b.length;++e){for(var g=b[e],n="undefined"!=typeof g.identifier?g.identifier:"undefined"!=typeof g.pointerId?g.pointerId:1,m=(g.clientX-f.left)/c,g=(g.clientY-f.top)/d,p=0;p<this.touches.length;++p)this.touches[p].identifier==n&&this.touches.splice(p,1);this.touches.push({x:m,y:g,identifier:n})}for(c=0;c<this.touches.length;c++);}},windowKeyUp:function(b){b="undefined"!=typeof b.identifier?b.identifier:"undefined"!=typeof b.pointerId?b.pointerId:
1;for(var c=0;c<this.touches.length;++c)this.touches[c].identifier==b&&this.touches.splice(c,1);for(;0<this.touches.length;)this.touches.pop()},windowMove:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight),f={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(f=ig.system.canvas.getBoundingClientRect());if(window.navigator.msPointerEnabled)for(var e=
"undefined"!=typeof b.identifier?b.identifier:"undefined"!=typeof b.pointerId?b.pointerId:1,g=0;g<this.touches.length;++g)if(this.touches[g].identifier==e){var n=(b.clientY-f.top)/d;this.touches[g].x=(b.clientX-f.left)/c;this.touches[g].y=n}}})});ig.baked=!0;
ig.module("plugins.io.io-manager").requires("plugins.io.storage","plugins.io.mouse","plugins.io.keyboard","plugins.io.gamepad","plugins.io.multitouch","plugins.io.multitouch-input","plugins.io.gamepad-input").defines(function(){IoManager=ig.Class.extend({storage:null,localStorageSupport:!1,gamekey:"TeamKaboom",mouse:null,keyboard:null,multitouch:null,gamepad:null,init:function(){ig.multitouchInput=new ig.MultitouchInput;ig.gamepadInput=new ig.GamepadInput;this.unbindAll();this.initStorage();this.initMouse();
this.initKeyboard()},unbindAll:function(){ig.input.unbindAll();ig.gamepadInput.unbindAll()},initStorage:function(){this._supportsLocalStorage()&&(this.storage=new ig.Storage)},initMouse:function(){this.mouse=new Mouse},initKeyboard:function(){this.keyboard=new Keyboard},initMultitouch:function(){this.multitouch=new Multitouch},initGamepad:function(){this.gamepad=new Gamepad},press:function(b){return ig.input.pressed(b)||this.gamepad.press(b)?!0:!1},held:function(b){return ig.input.state(b)||this.gamepad.state(b)?
!0:!1},release:function(b){return ig.input.released(b)||this.gamepad.released(b)?!0:!1},getClickPos:function(){return this.mouse.getPos()},getTouchesPos:function(){return this.multitouch.getTouchesPos()},checkOverlap:function(b,c,d,f,e){return b.x>c+f||b.x<c||b.y>d+e||b.y<d?!1:!0},_supportsLocalStorage:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),this.localStorageSupport="localStorage"in window&&null!==window.localStorage}catch(b){return this.localStorageSupport}},
storageIsSet:function(b){return!this.localStorageSupport?null:this.storage.isSet(b)},storageGet:function(b){return!this.localStorageSupport?null:this.storage.get(b)},storageSet:function(b,c){if(!this.localStorageSupport)return null;this.storage.set(b,c)},assert:function(b,c,d){if(c!==d)throw"actualValue:"+c+" not equal to testValue:"+d+" at "+b;}})});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({imgTitle:new ig.Image("media/graphics/game/misc/title.png"),imgBackground:new ig.Image("media/graphics/game/misc/backdrop.png"),imgChar:new ig.Image("media/graphics/game/misc/main_menu_char.png"),init:function(b,c){this.parent(b,c);ig.apiHandler.run("MJSPreroll");this.ctx=ig.system.context},end:function(){this.parent();if(ig.ua.mobile){var b=ig.domHandler.getElementById("#play");
ig.domHandler.show(b)}b=0<=document.URL.indexOf("localhost")?500:3E3;window.setTimeout("ig.system.setGame(MyGame)",b)},setupCustomAnimation:function(){this.customAnim=new ig.Animation(this.customAnim,0.05,[0,1,2,3,4,5]);this.customAnim.currentFrame=0;ig.loadingScreen=this;ig.loadingScreen.animationTimer=window.setInterval("ig.loadingScreen.animate()",100)},animate:function(){this.customAnim.currentFrame<this.customAnim.sequence.length?this.customAnim.currentFrame++:this.customAnim.currentFrame=0;
this.customAnim.gotoFrame(this.customAnim.currentFrame)},valMin:function(b,c){return b<=c?c:b},valMax:function(b,c){return b>=c?c:b},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;ig.system.context.fillStyle="#000";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);var b=this.valMax(this._drawStatus+0.1,1),c=(this._drawStatus-0.2).limit(0.1,1),d=this.valMax(this._drawStatus+0.01,1);this.ctx.save();this.ctx.globalAlpha=c;this.imgBackground.draw(0,0);this.imgTitle.draw(320-
0.5*this.imgTitle.width,96-0.5*this.imgTitle.height);this.ctx.restore();this.ctx.save();c=Math.floor(480*(0.3775+0.6225*(1-d)));this.imgChar.draw(0,c,0,c,640,480-c);this.ctx.restore();this.imgTitle.draw(320-0.5*this.imgTitle.width,96-0.5*this.imgTitle.height,0,0,this.imgTitle.width*b,this.imgTitle.height);this.ctx.save();this.ctx.beginPath();this.ctx.strokeStyle="rgba(255,255,255,0.65)";this.ctx.rect(243.2,312,153.6,48);this.ctx.stroke();this.ctx.restore();this.ctx.save();this.ctx.beginPath();this.ctx.fillStyle=
"rgba(255,255,255,0.65)";this.ctx.rect(248,316.8,144*d,38.4);this.ctx.fill();this.ctx.restore();this.ctx.save();this.ctx.font="25pt bebas";this.ctx.fillStyle="rgba(77,77,77,0.65)";this.ctx.textAlign="center";this.ctx.fillText(Math.floor(100*d)+"%",320,348);this.ctx.restore();text="a";xpos=-1E3;ypos=380;ig.system.context.fillStyle="#000000";ig.system.context.font="bold 12px bebas";ig.system.context.fillText(text,xpos,ypos)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var b=[],c=0;c<this.tweens.length;c++)this.tweens[c].update(),this.tweens[c].complete||b.push(this.tweens[c]);this.tweens=
b}};ig.Entity.prototype.tween=function(b,c,d){b=new ig.Tween(this,b,c,d);this.tweens.push(b);return b};ig.Entity.prototype.pauseTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].pause()};ig.Entity.prototype.resumeTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].resume()};ig.Entity.prototype.stopTweens=function(b){for(var c=0;c<this.tweens.length;c++)this.tweens[c].stop(b)};ig.Tween=function(b,c,d,f){var e={},g={},n={},m=0,p=!1,s=!1,r=!1;this.duration=d;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,f);this.loopNum=this.loopCount;this.chain=function(b){r=b};this.initEnd=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.initEnd(subprop,c[b],d[b])};this.initStart=function(b,c,d,e){if("object"!==typeof d[b])"undefined"!==typeof c[b]&&(e[b]=d[b]);else for(subprop in d[b])e[b]||(e[b]={}),"undefined"!==typeof c[b]&&this.initStart(subprop,
c[b],d[b],e[b])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;m=0;-1==b.tweens.indexOf(this)&&b.tweens.push(this);s=!0;p=new ig.Timer;for(var d in c)this.initEnd(d,c,g);for(d in g)this.initStart(d,g,b,e),this.initDelta(d,n,b,g)};this.initDelta=function(b,c,d,e){if("object"!==typeof e[b])c[b]=e[b]-d[b];else for(subprop in e[b])c[b]||(c[b]={}),this.initDelta(subprop,c[b],d[b],e[b])};this.propUpdate=function(b,c,d,e,f){if("object"!==typeof d[b])c[b]="undefined"!=typeof d[b]?
d[b]+e[b]*f:c[b];else for(subprop in d[b])this.propUpdate(subprop,c[b],d[b],e[b],f)};this.propSet=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.propSet(subprop,c[b],d[b])};this.update=function(){if(!s)return!1;if(this.delay){if(p.delta()<this.delay)return;this.delay=0;p.reset()}if(this.paused||this.complete)return!1;var c=(p.delta()+m)/this.duration,c=1<c?1:c,d=this.easing(c);for(property in n)this.propUpdate(property,b,e,n,d);if(1<=c){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();r&&r.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in e)this.propSet(property,e,b);m=0;p.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){c={};d={};ig.merge(c,g);ig.merge(d,e);ig.merge(e,c);ig.merge(g,d);for(property in g)this.initDelta(property,n,b,g);m=0;p.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;m+=p.delta()};this.resume=function(){this.paused=
!1;p.reset()};this.stop=function(b){b&&(this.loop=this.complete=this.paused=!1,m+=d,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(b){return b};ig.Tween.Easing.Quadratic.EaseIn=function(b){return b*b};ig.Tween.Easing.Quadratic.EaseOut=function(b){return-b*(b-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(b){return 1>(b*=2)?0.5*b*b:-0.5*(--b*(b-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(b){return b*b*b};ig.Tween.Easing.Cubic.EaseOut=function(b){return--b*b*b+1};ig.Tween.Easing.Cubic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b:0.5*((b-=2)*b*b+2)};ig.Tween.Easing.Quartic.EaseIn=function(b){return b*b*b*b};ig.Tween.Easing.Quartic.EaseOut=function(b){return-(--b*b*b*b-1)};ig.Tween.Easing.Quartic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)};ig.Tween.Easing.Quintic.EaseIn=
function(b){return b*b*b*b*b};ig.Tween.Easing.Quintic.EaseOut=function(b){return(b-=1)*b*b*b*b+1};ig.Tween.Easing.Quintic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(b){return-Math.cos(b*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(b){return Math.sin(b*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(b){return-0.5*(Math.cos(Math.PI*b)-1)};ig.Tween.Easing.Exponential.EaseIn=function(b){return 0==b?0:Math.pow(2,
10*(b-1))};ig.Tween.Easing.Exponential.EaseOut=function(b){return 1==b?1:-Math.pow(2,-10*b)+1};ig.Tween.Easing.Exponential.EaseInOut=function(b){return 0==b?0:1==b?1:1>(b*=2)?0.5*Math.pow(2,10*(b-1)):0.5*(-Math.pow(2,-10*(b-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(b){return-(Math.sqrt(1-b*b)-1)};ig.Tween.Easing.Circular.EaseOut=function(b){return Math.sqrt(1- --b*b)};ig.Tween.Easing.Circular.EaseInOut=function(b){return 1>(b/=0.5)?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(b){var c,d=0.1,f=0.4;if(0==b)return 0;if(1==b)return 1;f||(f=0.3);!d||1>d?(d=1,c=f/4):c=f/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/f))};ig.Tween.Easing.Elastic.EaseOut=function(b){var c,d=0.1,f=0.4;if(0==b)return 0;if(1==b)return 1;f||(f=0.3);!d||1>d?(d=1,c=f/4):c=f/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*b)*Math.sin(2*(b-c)*Math.PI/f)+1};ig.Tween.Easing.Elastic.EaseInOut=function(b){var c,d=0.1,f=0.4;if(0==b)return 0;if(1==b)return 1;
f||(f=0.3);!d||1>d?(d=1,c=f/4):c=f/(2*Math.PI)*Math.asin(1/d);return 1>(b*=2)?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/f):0.5*d*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-c)*Math.PI/f)+1};ig.Tween.Easing.Back.EaseIn=function(b){return b*b*(2.70158*b-1.70158)};ig.Tween.Easing.Back.EaseOut=function(b){return(b-=1)*b*(2.70158*b+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*(3.5949095*b-2.5949095):0.5*((b-=2)*b*(3.5949095*b+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(b){return 1-ig.Tween.Easing.Bounce.EaseOut(1-b)};ig.Tween.Easing.Bounce.EaseOut=function(b){return(b/=1)<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(b){return 0.5>b?0.5*ig.Tween.Easing.Bounce.EaseIn(2*b):0.5*ig.Tween.Easing.Bounce.EaseOut(2*b-1)+0.5}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var b=getQueryVariable("webview");if(b)switch(b){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(b=getQueryVariable("debug"))switch(b){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(b,c){this.game=b;this.levels=[];this.currentLevel=0;this.append(c)},loadLevel:function(b){for(var c in ig.sizeHandler.dynamicClickableEntityDivs){var d=ig.domHandler.getElementById("#"+c);ig.domHandler.hide(d)}this.currentLevel=b;this.game.loadLevel(this.levels[b]);return!0},loadLevelWithoutEntities:function(b){this.currentLevel=b;this.game.loadLevelWithoutEntities(this.levels[b]);return!0},
append:function(b){newLevels=[];return"object"===typeof b?(b.constructor===[].constructor?newLevels=b:newLevels[0]=b,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(b){var c=null;for(i=0;i<this.levels.length;i++)this.levels[i]==b&&(c=i);return 0<=c?this.loadLevel(c):!1},firstLevel:function(){return this.loadLevel(0)},
lastLevel:function(){return this.loadLevel(this.levels.length-1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.scale").requires("impact.entity").defines(function(){ig.Entity.inject({scale:{x:1,y:1},_offset:{x:0,y:0},_scale:{x:1,y:1},_size:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this._offset.x=this.offset.x;this._offset.y=this.offset.y;this._size.x=this.size.x;this._size.y=this.size.y;this.setScale(this.scale.x,this.scale.y)},draw:function(){var b=ig.system.context;b.save();b.translate(ig.system.getDrawPos(this.pos.x.round()-this.offset.x-ig.game.screen.x),ig.system.getDrawPos(this.pos.y.round()-
this.offset.y-ig.game.screen.y));b.scale(this._scale.x,this._scale.y);null!=this.currentAnim&&this.currentAnim.draw(0,0);b.restore()},setScale:function(b,c){var d=this.size.x,f=this.size.y;this.scale.x=b||this.scale.x;this.scale.y=c||this.scale.y;this._scale.x=this.scale.x/ig.system.scale;this._scale.y=this.scale.y/ig.system.scale;this.offset.x=this._offset.x*this._scale.x;this.offset.y=this._offset.y*this._scale.y;this.size.x=this._size.x*this._scale.x;this.size.y=this._size.y*this._scale.y;this.pos.x+=
(d-this.size.x)/2;this.pos.y+=(f-this.size.y)/2}})});this.START_BRANDING_SPLASH;ig.baked=!0;
ig.module("plugins.branding.splash").requires("impact.impact","impact.entity").defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0);console.log("spawn branding")}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splash:new ig.Image("branding/splash1.png"),init:function(b,c,d){this.parent(b,c,d);320>=ig.system.width?(this.size.x=320,this.size.y=200):(this.size.x=480,this.size.y=240);this.pos.x=(ig.system.width-this.size.x)/
2;this.pos.y=-this.size.y-200;this.endPosY=(ig.system.height-this.size.y)/2;b=this.tween({pos:{y:this.endPosY}},0.5,{easing:ig.Tween.Easing.Bounce.EaseIn});c=this.tween({},2.5,{onComplete:function(){ig.game.director.loadLevel(ig.game.director.currentLevel)}});b.chain(c);b.start();this.currentAnim=this.anims.idle},createClickableLayer:function(){console.log("Build clickable layer");this.checkClickableLayer("branding-splash",_SETTINGS.Branding.Logo.Link,_SETTINGS.Branding.Logo.NewWindow)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==
b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,f){var e=ig.$new("div");e.id=b;document.body.appendChild(e);e=$("#"+e.id);e.css("float","left");e.css("position","absolute");if(ig.ua.mobile){var g=window.innerHeight/mobileHeight,n=window.innerWidth/
mobileWidth;e.css("left",this.pos.x*n);e.css("top",this.pos.y*g);e.css("width",this.size.x*n);e.css("height",this.size.y*g)}else g=w/2-destW/2,n=h/2-destH/2,console.log(g,n),e.css("left",g+this.pos.x*multiplier),e.css("top",n+this.pos.y*multiplier),e.css("width",this.size.x*multiplier),e.css("height",this.size.y*multiplier);f?e.html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):e.html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");
dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},draw:function(){ig.system.context.fillStyle="#ffffff";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);ig.system.context.fillStyle="#000";ig.system.context.font="12px Arial";ig.system.context.textAlign="left";320>=ig.system.width?
ig.system.context.fillText("powered by MarketJS.com",ig.system.width-150,ig.system.height-15):ig.system.context.fillText("powered by MarketJS.com",ig.system.width-160,ig.system.height-15);this.parent();this.splash&&ig.system.context.drawImage(this.splash.data,0,0,this.splash.data.width,this.splash.data.height,this.pos.x,this.pos.y,this.size.x,this.size.y)}})});this.END_BRANDING_SPLASH;ig.baked=!0;
ig.module("game.entities.buttons.button").requires("impact.entity","plugins.data.vector").defines(function(){EntityButton=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,size:new Vector2(48,48),fillColor:null,zIndex:95E3,init:function(b,c,d){this.parent(b,c,d);!ig.global.wm&&!isNaN(d.zIndex)&&(this.zIndex=d.zIndex);b=Math.floor(256*Math.random());c=Math.floor(256*Math.random());d=Math.floor(256*Math.random());this.fillColor="rgba("+b+","+d+","+c+",1)"},clicked:function(){throw"no implementation on clicked()";
},clicking:function(){throw"no implementation on clicking()";},released:function(){throw"no implementation on released()";}})});ig.baked=!0;
ig.module("plugins.clickable-div-layer").requires("plugins.data.vector").defines(function(){ClickableDivLayer=ig.Class.extend({pos:new Vector2(0,0),size:new Vector2(0,0),identifier:null,invisImagePath:"media/graphics/misc/invisible.png",init:function(b){this.pos=new Vector2(b.pos.x,b.pos.y);this.size=new Vector2(b.size.x,b.size.y);var c="more-games",d="www.google.com",f=!1;b.div_layer_name&&(c=b.div_layer_name);b.link&&(d=b.link);b.newWindow&&(f=b.newWindow);this.createClickableLayer(c,d,f)},createClickableLayer:function(b,
c,d){this.identifier=b;var f=ig.domHandler.getElementById("#"+b);f?(ig.domHandler.show(f),ig.domHandler.attr(f,"href",c)):this.createClickableOutboundLayer(b,c,this.invisImagePath,d)},update:function(b,c){this.pos.x===b&&this.pos.y===c||(ig.sizeHandler.dynamicClickableEntityDivs[this.identifier]={},ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].width=this.size.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].height=this.size.y,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_x=
this.pos.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_y=this.pos.y)},createClickableOutboundLayer:function(b,c,d,f){var e=ig.domHandler.create("div");ig.domHandler.attr(e,"id",b);var g=ig.domHandler.create("a");f?(ig.domHandler.attr(g,"href",c),ig.domHandler.attr(g,"target","_blank")):ig.domHandler.attr(g,"href",c);c=ig.domHandler.create("img");ig.domHandler.css(c,{width:"100%",height:"100%"});ig.domHandler.attr(c,"src",d);d=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,
ig.sizeHandler.scaleRatioMultiplier.y);if(ig.ua.mobile){f=Math.floor(this.pos.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px";var n=Math.floor(this.pos.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px",m=Math.floor(this.size.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px";d=Math.floor(this.size.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px"}else f=ig.domHandler.getElementById("#canvas"),f=ig.domHandler.getOffsets(f),n=f.top,f=Math.floor(f.left+this.pos.x*d)+"px",n=Math.floor(n+this.pos.y*d)+"px",m=Math.floor(this.size.x*
d)+"px",d=Math.floor(this.size.y*d)+"px";ig.domHandler.css(e,{"float":"left",position:"absolute",left:f,top:n,width:m,height:d,"z-index":3});ig.domHandler.addEvent(e,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(g,c);ig.domHandler.appendChild(e,g);ig.domHandler.appendToBody(e);ig.sizeHandler.dynamicClickableEntityDivs[b]={};ig.sizeHandler.dynamicClickableEntityDivs[b].width=this.size.x;ig.sizeHandler.dynamicClickableEntityDivs[b].height=this.size.y;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_x=
this.pos.x;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("game.entities.buttons.button-branding-logo").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonBrandingLogo=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("branding/logo.png",_SETTINGS.Branding.Logo.Width,_SETTINGS.Branding.Logo.Height),zIndex:10001,size:{x:64,y:66},clickableLayer:null,link:null,newWindow:!1,div_layer_name:"branding-logo",name:"brandinglogo",init:function(b,c,d){this.parent(b,c,d);
if(!ig.global.wm){if("undefined"==typeof wm)if(_SETTINGS.Branding.Logo.Enabled)this.size.x=_SETTINGS.Branding.Logo.Width,this.size.y=_SETTINGS.Branding.Logo.Height,this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.currentAnim=this.anims.idle,d&&d.centralize&&(this.pos.x=ig.system.width/2-this.size.x/2,console.log("centralize true ... centering branded logo ...")),_SETTINGS.Branding.Logo.LinkEnabled&&(this.link=_SETTINGS.Branding.Logo.Link,this.newWindow=_SETTINGS.Branding.Logo.NewWindow,this.clickableLayer=
new ClickableDivLayer(this));else{this.kill();return}this.div_layer_name=d.div_layer_name?d.div_layer_name:"branding-logo"}},show:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.show(b)},hide:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.hide(b)},clicked:function(){},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity","game.entities.buttons.button-branding-logo").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(b,c,d){this.parent(b,c,d);if(d)switch(console.log("settings found ... using that div layer name"),b=d.div_layer_name,console.log("settings.centralize:",d.centralize),d.centralize){case "true":console.log("centralize true");
centralize=!0;break;case "false":console.log("centralize false");centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else b="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityButtonBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:b,centralize:centralize})}catch(f){console.log(f)}this.kill()}}})});ig.baked=!0;
ig.module("game.entities.buttons.button-more-games").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonMoreGames=EntityButton.extend({gravityFactor:0,size:{x:64,y:66},zIndex:200,clickableLayer:null,link:null,newWindow:!1,div_layer_name:"more-games",name:"moregames",init:function(b,c,d){this.parent(b,c,d);this.btnAlpha=0;this.size.x=153.6;this.size.y=48;this.pointer=ig.game.getEntitiesByType(EntityPointer)[0];ig.global.wm||(this.div_layer_name=d.div_layer_name?
d.div_layer_name:"more-games",_SETTINGS.MoreGames.Enabled?(_SETTINGS.MoreGames.Link&&(this.link=_SETTINGS.MoreGames.Link),_SETTINGS.MoreGames.NewWindow&&(this.newWindow=_SETTINGS.MoreGames.NewWindow),this.clickableLayer=new ClickableDivLayer(this)):this.kill())},show:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.show(b)},hide:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.hide(b)},clicked:function(){},clicking:function(){},
released:function(){},button:function(b,c,d,f,e,g,n){f*=640;e*=480;var m=640*c-0.5*f,p=480*d-0.5*e,s=ig.system.context,r=!1;this.pointer.pos.x>m&&this.pointer.pos.x<m+f&&(this.pointer.pos.y>p&&this.pointer.pos.y<p+e)&&(r=!0);s.save();s.beginPath();s.strokeStyle="rgba(255,255,255,"+n+")";s.fillStyle="rgba(255,255,255,"+n+")";s.rect(m,p,f,e);r?s.fill():s.stroke();s.restore();s.save();s.font=g+"pt bebas";s.textAlign="center";s.fillStyle=r?"rgba(0,0,0,"+n+")":"rgba(255,255,255,"+n+")";s.fillText(b,640*
c,480*(d+0.025));s.restore()},ready:function(){this.home=ig.game.getEntitiesByType(EntityHomeControl)[0]},draw:function(){this.parent();_SETTINGS.MoreGames.Enabled&&this.button(_STRINGS.Game.MoreGames,0.5,0.7,0.24,0.1,25,this.btnAlpha)}})});ig.baked=!0;
ig.module("game.entities.opening-shield").requires("impact.entity").defines(function(){EntityOpeningShield=ig.Entity.extend({size:{x:48,y:48},move:0,mIconAnim:0,shieldAnim:0,titleAnim:0,shieldImage:new ig.Image("media/graphics/opening/shield.png"),mIconImage:new ig.Image("media/graphics/opening/m_icon.png"),titleImage:new ig.Image("media/graphics/opening/title.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);
try{ig.soundHandler.playSound(ig.soundHandler.SOUNDID.openingSound)}catch(b){console.log(b)}}else ig.game.director.nextLevel(),ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateOriginalShieldOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawOriginalShieldOpening())},updateOriginalShieldOpening:function(){this.initTimer&&0<this.initTimer.delta()&&
(this.initTimer=null,this.sheildTimer=new ig.Timer(0.05));this.sheildTimer&&0<this.sheildTimer.delta()&&(3>this.shieldAnim?(this.shieldAnim++,this.sheildTimer.reset()):(this.sheildTimer=null,this.moveTimer=new ig.Timer(0.0010),this.mIconTimer=new ig.Timer(0.05),this.titleTimer=new ig.Timer(0.15)));this.moveTimer&&0<this.moveTimer.delta()&&(this.move+=0.3,this.moveTimer.reset());this.mIconTimer&&0<this.mIconTimer.delta()&&(12>this.mIconAnim?(this.mIconAnim++,this.moveTimer.reset()):this.mIconTimer=
null);this.titleTimer&&0<this.titleTimer.delta()&&(11>this.titleAnim?(this.titleAnim++,this.titleTimer.reset()):(this.titleTimer=null,this.nextLevelTimer=new ig.Timer(1)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawOriginalShieldOpening:function(){if(this.moveTimer){var b=ig.system.context;b.save();var c=ig.system.width/2,d=ig.system.height/2;b.translate(c,d);b.rotate(this.move*Math.PI/180);b.beginPath();
b.moveTo(0,0);for(var f=0,e=1;48>=e;e+=1)b.lineTo(0+800*Math.cos(2*e*Math.PI/48),0+800*Math.sin(2*e*Math.PI/48)),f++,2==f&&(f=0,b.lineTo(0,0));b.translate(-c,-d);c=b.createRadialGradient(c,d,100,c,d,250);c.addColorStop(0,"rgba(255,255,255,0.1)");c.addColorStop(1,"rgba(0,0,0,0)");b.fillStyle=c;b.fill();b.restore()}this.shieldImage.drawTile(ig.system.width/2-91,0-(768-ig.system.height)/2,this.shieldAnim,182,768);this.moveTimer&&(this.mIconImage.drawTile(ig.system.width/2-96,ig.system.height/2-70,this.mIconAnim,
166,160),this.titleImage.drawTile(ig.system.width/2-204,ig.system.height/2+100,this.titleAnim,409,76));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.opening-kitty").requires("impact.entity").defines(function(){EntityOpeningKitty=ig.Entity.extend({size:{x:48,y:48},kittyAnim:-1,kittyImage:new ig.Image("media/graphics/opening/kitty.png"),kittyTitleImage:new ig.Image("media/graphics/opening/kittytitle.png"),soundKey:"kittyopeningSound",init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);try{ig.soundHandler.sfxPlayer.play(this.soundKey)}catch(b){console.log(b)}}else ig.game.director.nextLevel(),
ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateKittyOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawKittyOpening())},updateKittyOpening:function(){this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.kittyTimer=new ig.Timer(0.15));this.kittyTimer&&0<this.kittyTimer.delta()&&(7>this.kittyAnim?(this.kittyAnim++,this.kittyTimer.reset()):
(this.kittyTimer=null,this.nextLevelTimer=new ig.Timer(2)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawKittyOpening:function(){var b=ig.system.context.createLinearGradient(0,0,0,ig.system.height);b.addColorStop(0,"#ffed94");b.addColorStop(1,"#ffcd85");ig.system.context.fillStyle=b;ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);0<=this.kittyAnim&&(this.kittyImage.drawTile(ig.system.width/
2-this.kittyImage.width/8,ig.system.height/2-this.kittyImage.height/4,this.kittyAnim,218,325),this.kittyTitleImage.drawTile(ig.system.width/2-this.kittyTitleImage.width/2,ig.system.height/2+this.kittyImage.height/4+10,this.kittyAnim,380,37));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({checkAgainst:ig.Entity.TYPE.BOTH,isFirstPressed:!1,isPressed:!1,isReleased:!1,isHovering:!1,hoveringItem:null,objectArray:[],clickedObjectList:[],ignorePause:!0,zIndex:5E3,size:{x:1,y:1},check:function(b){this.objectArray.push(b)},clickObject:function(b){this.isFirstPressed&&"function"==typeof b.clicked&&(b.clicked(),this.addToClickedObjectList(b));this.isPressed&&!this.isReleased&&"function"==
typeof b.clicking&&b.clicking();this.isReleased&&"function"==typeof b.released&&(b.released(),this.removeFromClickedObjectList(b))},refreshPos:function(){this.pos=ig.game.io.getClickPos()},update:function(){this.parent();this.refreshPos();var b=null,c=-1;for(a=this.objectArray.length-1;-1<a;a--)this.objectArray[a].zIndex>c&&(c=this.objectArray[a].zIndex,b=this.objectArray[a]);if(null!=b)null!=this.hoveringItem?this.hoveringItem!=b&&("function"==typeof this.hoveringItem.leave&&this.hoveringItem.leave(),
"function"==typeof b.over&&b.over()):"function"==typeof b.over&&b.over(),this.hoveringItem=b,this.clickObject(b),this.objectArray=[];else if(null!=this.hoveringItem&&"function"==typeof this.hoveringItem.leave&&(this.hoveringItem.leave(),this.hoveringItem=null),this.isReleased){for(b=0;b<this.clickedObjectList.length;b++)c=this.clickedObjectList[b],"function"==typeof c.releasedOutside&&c.releasedOutside();this.clickedObjectList=[]}this.isFirstPressed=ig.input.pressed("click");this.isReleased=ig.input.released("click");
this.isPressed=ig.input.state("click")},addToClickedObjectList:function(b){this.clickedObjectList.push(b)},removeFromClickedObjectList:function(b){for(var c=[],d=0;d<this.clickedObjectList.length;d++){var f=this.clickedObjectList[d];f!=b&&c.push(f)}this.clickedObjectList=c}})});ig.baked=!0;
ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:1,y:1},init:function(b,c,d){this.parent(b,c,d)}})});ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(b,c,d){this.parent(b,c,d);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,
c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,f){var e=ig.$new("div");e.id=b;document.body.appendChild(e);$("#"+e.id).css("float","left");$("#"+e.id).css("width",this.size.x*multiplier);$("#"+e.id).css("height",this.size.y*multiplier);$("#"+e.id).css("position","absolute");var g=w/2-destW/2,n=h/
2-destH/2;w==mobileWidth?($("#"+e.id).css("left",this.pos.x),$("#"+e.id).css("top",this.pos.y)):($("#"+e.id).css("left",g+this.pos.x*multiplier),$("#"+e.id).css("top",n+this.pos.y*multiplier));f?$("#"+e.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+e.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=$("#"+e.id).width();dynamicClickableEntityDivs[b].height=
$("#"+e.id).height();dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isHovering=!1)},deselectOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;
ig.module("game.entities.gameplay.background").requires("impact.entity").defines(function(){EntityBackground=ig.Entity.extend({zIndex:1,size:{x:1,y:1},offset:{x:0,y:0},ashMachineRoom:new ig.AnimationSheet("media/graphics/game/room/machine_room.png",1280,640),ashRoom:new ig.AnimationSheet("media/graphics/game/room/room.png",1280,640),ashHallway1:new ig.AnimationSheet("media/graphics/game/room/hallway1.png",1280,640),ashHallway2:new ig.AnimationSheet("media/graphics/game/room/hallway2.png",1280,640),
ashHostageRoom:new ig.AnimationSheet("media/graphics/game/room/hostage_room.png",1280,640),roomType:0,actionY:[5,5,5,-5,-5,-5],actionX:[0,0,0,0,0,0],name:"background",init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.room1=new ig.Animation(this.ashMachineRoom,0.1,[0]),this.anims.room2=new ig.Animation(this.ashRoom,0.1,[0]),this.anims.room3=new ig.Animation(this.ashHallway1,0.1,[0]),this.anims.room4=new ig.Animation(this.ashHallway2,0.1,[0]),this.anims.room5=new ig.Animation(this.ashHostageRoom,
0.1,[0]),b=ig.game.roomRatio.random(),this.resetVal(b),this.roomSizeX=this.currentAnim.sheet.width,this.roomSizeY=this.currentAnim.sheet.height,this.offset.x=this.currentAnim.sheet.width/2,this.offset.y=this.currentAnim.sheet.height/2,ig.ua.mobile&&(this.pos.x+=320))},resetVal:function(b){this.roomType=b;this.actionCounter=0;this.currentScale=1;this.exitingRoom=!1;switch(this.roomType){case 0:this.currentAnim=this.anims.room1;break;case 1:this.currentAnim=this.anims.room2;break;case 2:this.currentAnim=
this.anims.room3;break;case 3:this.currentAnim=this.anims.room4;break;case 4:this.currentAnim=this.anims.room5}},updateOffset:function(){this.offset.x=(this.size.x-1280)/2;this.offset.y=(this.size.y-640)/2},exitRoom:function(){this.exitingRoom=!0},recoil:function(){this.gameplay.recoiling=!0;this.actionCounter=this.actionY.length},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},ready:function(){this.gameplay=ig.game.getEntitiesByType(EntityGameplayControl)[0];
this.crosshair=ig.game.getEntitiesByType(EntityCrosshair)[0];this.crosshairLast={x:this.crosshair.pos.x,y:this.crosshair.pos.y}},update:function(){if(!ig.global.wm){this.actionCounter?(this.actionCounter-=1,this.reposRel(this.actionX[this.actionCounter],this.actionY[this.actionCounter])):this.gameplay.recoiling&&(this.gameplay.recoiling=!1);if(ig.ua.mobile)this.reposRel(this.crosshairLast.x-this.crosshair.pos.x,ig.game.rnd(0.05*(this.crosshairLast.y-this.crosshair.pos.y),14)),this.crosshairLast={x:this.crosshair.pos.x,
y:this.crosshair.pos.y};else{var b=ig.game.getEntitiesByType(EntityPointer)[0];this.reposRel(b.last.x-b.pos.x,ig.game.rnd(0.05*(b.last.y-b.pos.y),14))}this.parent()}},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.crosshair").requires("impact.entity").defines(function(){EntityCrosshair=ig.Entity.extend({zIndex:9990,checkAgainst:ig.Entity.TYPE.A,size:{x:1,y:1},offset:{x:0,y:0},ashCrosshair:new ig.AnimationSheet("media/graphics/game/misc/crosshair.png",181,181),ashCrosshairExpand:new ig.AnimationSheet("media/graphics/game/misc/crosshair_expand.png",181,181),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.touching="",this.anims.crosshair=new ig.Animation(this.ashCrosshair,
0.5,[0]),this.anims.crosshairExpand=new ig.Animation(this.ashCrosshairExpand,0.5,[0]),this.currentAnim=this.anims.crosshair,this.bg=ig.game.getEntitiesByType(EntityBackground)[0],this.expand=!1)},resetVal:function(){this.anims.crosshair.alpha=1;this.anims.crosshairExpand.alpha=1},hideEntity:function(){this.anims.crosshair.alpha=0;this.anims.crosshairExpand.alpha=0},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x=(this.pos.x+b).limit(0,640);this.pos.y=(this.pos.y+
c).limit(0,480)},updateOffset:function(){this.offset.x=Math.floor(this.currentAnim.sheet.width*this._scale.x/2);this.offset.y=Math.floor(this.currentAnim.sheet.height*this._scale.y/2)},update:function(){ig.global.wm||(this.currentAnim=this.expand?this.anims.crosshairExpand:this.anims.crosshair,this.parent())},check:function(b){ig.ua.mobile&&(this.touching=b)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.gun").requires("impact.entity").defines(function(){EntityGun=ig.Entity.extend({zIndex:9990,size:{x:1,y:1},offset:{x:0,y:0},ashGun:new ig.AnimationSheet("media/graphics/game/misc/gunhand.png",500,434),actionY:[0,0,0,0],actionX:[0,0,0,0],actionAngle:[0.08,0.08,0.08,-0.08],reloadArray:[],reloadTimer:new ig.Timer,hitTimer:new ig.Timer,rateOfFire:0.075,fading:!1,reloadTextAlpha:0.55,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.gun=new ig.Animation(this.ashGun,
0.5,[0]),this.currentAnim=this.anims.gun,this.flipping=!1,this.reloadArray.push("up"),this.intensity=1,this.gunAlpha=0,this.currentAnim.alpha=this.gunAlpha)},ready:function(){this.gameplay=ig.game.getEntitiesByType(EntityGameplayControl)[0];this.crosshair=ig.game.getEntitiesByType(EntityCrosshair)[0];ig.ua.mobile?(this.pointer=ig.game.getEntitiesByType(EntityCrosshair)[0],this.mpointer=ig.game.getEntitiesByType(EntityPointer)[0]):this.pointer=ig.game.getEntitiesByType(EntityPointer)[0];this.bg=ig.game.getEntitiesByType(EntityBackground)[0]},
resetVal:function(){this.gunAlpha=0;this.currentAnim.alpha=0},hideEntity:function(){this.currentAnim.alpha=0},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},flipX:function(b){this.flipping=this.currentAnim.flip.x=b},pointDown:function(b){this.pointingDown=b;var c=!1;this.currentAnim.angle=b?this.flipping?0.6:-0.6:0;b?"down"!=this.reloadArray[this.reloadArray.length-1]&&this.reloadArray.push("down"):"up"!=this.reloadArray[this.reloadArray.length-
1]&&(this.reloadArray.push("up"),c=!0);if(!b&&c&&3<=this.reloadArray.length&&1.25>=this.reloadTimer.delta()&&"down"==this.reloadArray[this.reloadArray.length-2]&&"up"==this.reloadArray[this.reloadArray.length-1]&&ig.game.currentAmmo!=ig.game.maxAmmo&&!ig.game.dead&&(!ig.game.showTutorial||1!=ig.game.roomCount||ig.game.gameStaged))ig.soundHandler.sfxPlayer.play("reload"),ig.game.ach.reloaded+=1,ig.game.currentAmmo=ig.game.maxAmmo,this.reloadArray=["up"],this.gameplay&&this.gameplay.reloadAnimManager(ig.game.maxAmmo);
b||this.reloadTimer.set()},mainMenuFire:function(){this.hitTimer.delta()>=this.rateOfFire&&(this.randomGunSound(),this.recoil(),this.hitTimer.set())},randomGunSound:function(){switch(ig.game.rand(0,3)){case 0:ig.soundHandler.sfxPlayer.play("gunshot1");break;case 1:ig.soundHandler.sfxPlayer.play("gunshot2");break;case 2:ig.soundHandler.sfxPlayer.play("gunshot3");break;case 3:ig.soundHandler.sfxPlayer.play("gunshot4")}},randomGrunt:function(){switch(ig.game.rand(0,9)){case 0:ig.soundHandler.sfxPlayer.play("maleGrunt1");
break;case 1:ig.soundHandler.sfxPlayer.play("maleGrunt2");break;case 2:ig.soundHandler.sfxPlayer.play("maleGrunt3");break;case 3:ig.soundHandler.sfxPlayer.play("maleGrunt4");break;case 4:ig.soundHandler.sfxPlayer.play("maleGrunt5")}},fire:function(b){if(this.hitTimer.delta()>=this.rateOfFire&&0<ig.game.currentAmmo&&!ig.game.dead){var c=!0;if(ig.ua.mobile){var d=ig.game.getEntitiesByType(EntityPause)[0];this.mpointer.touches(d)&&(b=d,c=!1)}var d=this.toggleBGMCheck(),f=this.toggleSFXCheck(),e=this.backCheck(),
g=this.retireCheck();if(d||f||e||g)c=!1;if(b&&c){if(ig.game.customPause)"pause"==b.name&&(c=!1,1!=this.isTappingButton()&&(ig.game.customPause=!ig.game.customPause));else switch(b.name){case "enemy":b.entSelf.health-=b.damage;b.entSelf.disarmHealth-=b.disarmDamage;this.randomGrunt();switch(b.part){case "head":ig.game.ach.headShot+=1;break;case "gunarm":case "arm":case "leftleg":case "rightleg":ig.game.ach.disarmingShot+=1;break;case "crotch":ig.game.ach.crotchShot+=1;break;case "misc1":0<b.disarmDamage&&
(ig.game.ach.disarmingShot+=1)}d=b.entSelf.zIndex;f=[1,1,1,1,-1];ig.game.spawnEntity(EntitySplatter,b.ptr.pos.x,b.ptr.pos.y,{z:d+f[ig.game.rand(0,f.length-1)],etype:"rand",currentScale:b.entSelf.scale.x,posx:b.bg.pos.x-b.ptr.pos.x,posy:b.bg.pos.y-b.ptr.pos.y});ig.game.spawnEntity(EntitySplatter,b.ptr.pos.x,b.ptr.pos.y,{z:d+2,etype:"shot",currentScale:b.entSelf.scale.x,posx:b.bg.pos.x-b.ptr.pos.x,posy:b.bg.pos.y-b.ptr.pos.y});ig.game.sortEntitiesDeferred();break;case "hostage":d=0;0<b.entSelf.armtie&&
(d+=1);0<b.entSelf.legtie&&(d+=1);0<b.entSelf.mouthtape&&(d+=1);b.entSelf.health-=b.damage;b.entSelf.disarmHealth-=b.disarmDamage;b.entSelf.armtie-=b.armuntie;b.entSelf.legtie-=b.leguntie;b.entSelf.mouthtape-=b.mouthuntape;"head"==b.part&&(ig.game.ach.headShot+=1);f=!1;switch(b.part){case "armtie":case "legtie":case "mouthtape":if(b.splat)switch(f=!0,b.etype){case "hostage1":ig.soundHandler.sfxPlayer.play("femaleHostageHurt");break;case "hostage2":case "hostage3":ig.soundHandler.sfxPlayer.play("maleHostageHurt")}else ig.game.ach.hostageUntieShot+=
1,1<d&&ig.game.spawnEntity(EntitySpeech,0,0,{text:_STRINGS.Game.hostageUntieFeedback.random(),speechColor:"255,255,255",fontSize:"15",posx:this.bg.pos.x-b.entSelf.pos.x-0.5*b.entSelf.currentAnim.sheet.width*b.entSelf.scale.x,posy:this.bg.pos.y-b.entSelf.pos.y- -0.05*b.entSelf.currentAnim.sheet.height*b.entSelf.scale.x});break;default:switch(f=!0,b.etype){case "hostage1":ig.soundHandler.sfxPlayer.play("femaleHostageHurt");break;case "hostage2":case "hostage3":ig.soundHandler.sfxPlayer.play("maleHostageHurt")}}f&&
(d=b.entSelf.zIndex,f=[1,1,1,1,-1],ig.game.spawnEntity(EntitySplatter,b.ptr.pos.x,b.ptr.pos.y,{z:d+f[ig.game.rand(0,f.length-1)],etype:"rand",currentScale:b.entSelf.scale.x,posx:b.bg.pos.x-b.ptr.pos.x,posy:b.bg.pos.y-b.ptr.pos.y}),ig.game.spawnEntity(EntitySplatter,b.ptr.pos.x,b.ptr.pos.y,{z:d+2,etype:"shot",currentScale:b.entSelf.scale.x,posx:b.bg.pos.x-b.ptr.pos.x,posy:b.bg.pos.y-b.ptr.pos.y}),ig.game.spawnEntity(EntitySpeech,0,0,{text:_STRINGS.Game.hostageShot,speechColor:"255,0,0",fontSize:"15",
posx:this.bg.pos.x-b.entSelf.pos.x-0.5*b.entSelf.currentAnim.sheet.width*b.entSelf.scale.x,posy:this.bg.pos.y-b.entSelf.pos.y- -0.05*b.entSelf.currentAnim.sheet.height*b.entSelf.scale.x}),ig.game.sortEntitiesDeferred());break;case "coverhitbox":case "cover":ig.game.ach.shotMissed+=1;this.bullethole=ig.game.spawnEntity(EntityBullethole,b.pointer.pos.x,b.pointer.pos.y,{currentScale:0.175,posx:b.bg.pos.x-b.pointer.pos.x,posy:b.bg.pos.y-b.pointer.pos.y});this.bullethole.zIndex=b.zIndex+1;break;case "healthPack":ig.soundHandler.sfxPlayer.play("healthPackCollection");
ig.game.ach.healthPackCollected+=1;ig.game.healthPack+=1;b.kill();break;case "pause":c=!1;1!=this.isTappingButton()&&(ig.game.customPause=!ig.game.customPause);break;default:c&&(ig.game.ach.shotMissed+=1,ig.game.spawnEntity(EntityBullethole,b.pointer.pos.x,b.pointer.pos.y,{currentScale:0.175,posx:b.bg.pos.x-b.pointer.pos.x,posy:b.bg.pos.y-b.pointer.pos.y}))}c&&(this.randomGunSound(),this.recoil(),ig.game.ach.shotFired+=1,ig.game.currentAmmo-=1,this.gameplay.ammoEntities[0].expel(),this.gameplay.ammoEntities.shift());
this.hitTimer.set()}else b&&!c&&"pause"==b.name&&1!=this.isTappingButton()&&(ig.game.customPause=!ig.game.customPause)}else if(this.hitTimer.delta()>=this.rateOfFire&&0>=ig.game.currentAmmo&&!ig.game.dead){c=!0;ig.ua.mobile&&(d=ig.game.getEntitiesByType(EntityPause)[0],this.mpointer.touches(d)&&(b=d,c=!1));d=this.toggleBGMCheck();f=this.toggleSFXCheck();e=this.backCheck();g=this.retireCheck();if(d||f||e||g)c=!1;b&&"pause"==b.name&&(1!=this.isTappingButton()&&(ig.game.customPause=!ig.game.customPause),
c=!1);c&&(ig.game.ach.emptyShot+=1,this.hitTimer.set(),ig.soundHandler.sfxPlayer.play("emptyShot"))}},isTappingButton:function(){if(!ig.ua.mobile)return 0;var b=640*0.045-16,c=480*0.065-16.8;if(this.mpointer.pos.x>b&&this.mpointer.pos.x<b+30.4&&this.mpointer.pos.y>c&&this.mpointer.pos.y<c+16.8)return 1;b=67.2-12.8;c=480*0.065-16.8;if(this.mpointer.pos.x>b&&this.mpointer.pos.x<b+25.6&&this.mpointer.pos.y>c&&this.mpointer.pos.y<c+16.8)return 1;b=640*0.955;c=480*0.03;return this.mpointer.pos.x>b&&this.mpointer.pos.x<
b+15&&this.mpointer.pos.y>c&&this.mpointer.pos.y<c+17?2:ig.game.customPause&&243.2<this.mpointer.pos.x&&this.mpointer.pos.x<243.2+153.6&&312<this.mpointer.pos.y&&360>this.mpointer.pos.y?1:ig.game.customPause&&272<this.mpointer.pos.x&&368>this.mpointer.pos.x&&252<this.mpointer.pos.y&&300>this.mpointer.pos.y?1:0},toggleBGMCheck:function(){var b=640*0.045-16,c=480*0.065-16.8,d=!1,f=!1;ig.ua.mobile?this.mpointer.pos.x>b&&this.mpointer.pos.x<b+30.4&&this.mpointer.pos.y>c&&this.mpointer.pos.y<c+16.8?f=
!0:0==this.isTappingButton()&&this.pointer.pos.x>b&&this.pointer.pos.x<b+30.4&&this.pointer.pos.y>c&&this.pointer.pos.y<c+16.8?f=!0:0!=this.isTappingButton()&&(d=!0):this.pointer.pos.x>b&&this.pointer.pos.x<b+30.4&&(this.pointer.pos.y>c&&this.pointer.pos.y<c+16.8)&&(f=!0);f&&(d=!0,"mute"==ig.game.getSetting("hostageRescueBGM")?(ig.game.setSetting("hostageRescueBGM","unmute"),ig.soundHandler.unmuteBGM(!0)):(ig.game.setSetting("hostageRescueBGM","mute"),ig.soundHandler.muteBGM(!0)));return d},toggleSFXCheck:function(){var b=
67.2-12.8,c=480*0.065-16.8,d=!1,f=!1;ig.ua.mobile?this.mpointer.pos.x>b&&this.mpointer.pos.x<b+25.6&&this.mpointer.pos.y>c&&this.mpointer.pos.y<c+16.8?f=!0:0==this.isTappingButton()&&this.pointer.pos.x>b&&this.pointer.pos.x<b+25.6&&this.pointer.pos.y>c&&this.pointer.pos.y<c+16.8?f=!0:0!=this.isTappingButton()&&(d=!0):this.pointer.pos.x>b&&this.pointer.pos.x<b+25.6&&(this.pointer.pos.y>c&&this.pointer.pos.y<c+16.8)&&(f=!0);f&&(d=!0,"mute"==ig.game.getSetting("hostageRescueSFX")?(ig.game.setSetting("hostageRescueSFX",
"unmute"),ig.soundHandler.unmuteSFX(!0)):(ig.game.setSetting("hostageRescueSFX","mute"),ig.soundHandler.muteSFX(!0)));return d},backCheck:function(){var b=!1,c=!1;ig.ua.mobile?ig.game.customPause&&243.2<this.mpointer.pos.x&&this.mpointer.pos.x<243.2+153.6&&312<this.mpointer.pos.y&&360>this.mpointer.pos.y?c=!0:ig.game.customPause&&0==this.isTappingButton()&&243.2<this.pointer.pos.x&&this.pointer.pos.x<243.2+153.6&&312<this.pointer.pos.y&&360>this.pointer.pos.y?c=!0:ig.game.customPause&&0!=this.isTappingButton()&&
(b=!0):ig.game.customPause&&243.2<this.pointer.pos.x&&(this.pointer.pos.x<243.2+153.6&&312<this.pointer.pos.y&&360>this.pointer.pos.y)&&(c=!0);c&&(b=!0,ig.game.director.jumpTo(LevelHome));return b},retireCheck:function(){var b=!1,c=!1;ig.ua.mobile?ig.game.customPause&&272<this.mpointer.pos.x&&368>this.mpointer.pos.x&&252<this.mpointer.pos.y&&300>this.mpointer.pos.y?c=!0:ig.game.customPause&&0==this.isTappingButton()&&272<this.pointer.pos.x&&368>this.pointer.pos.x&&252<this.pointer.pos.y&&300>this.pointer.pos.y?
c=!0:ig.game.customPause&&0!=this.isTappingButton()&&(b=!0):ig.game.customPause&&272<this.pointer.pos.x&&(368>this.pointer.pos.x&&252<this.pointer.pos.y&&300>this.pointer.pos.y)&&(c=!0);c&&(b=!0,ig.game.retire=!0,ig.game.director.jumpTo(LevelGameover));return b},recoil:function(){this.gameplay&&(this.gameplay.recoiling=!0);this.crosshair.expand=!0;this.actionCounter=this.actionY.length;this.recoiling=!0;this.flash=ig.game.spawnEntity(EntityMuzzleFlash,this.pointer.pos.x,this.pointer.pos.y,{currentScale:1});
ig.game.sortEntitiesDeferred()},update:function(){ig.global.wm||(1>this.gunAlpha&&(this.gunAlpha+=5*ig.system.tick,this.currentAnim.alpha=this.gunAlpha),this.actionCounter?(this.actionCounter-=1,this.reposRel(this.actionX[this.actionCounter],this.actionY[this.actionCounter]),this.currentAnim.angle+=this.actionAngle[this.actionCounter]):this.recoiling&&(this.gameplay&&this.gameplay.recoiling&&(this.gameplay.recoiling=!1),this.crosshair.expand&&(this.crosshair.expand=!1),this.recoiling=!1),340>=this.pointer.pos.y?
380>=this.pointer.pos.x?this.flash&&this.flash.reposAbs(this.crosshair.pos.x+200,this.crosshair.pos.y+95):this.flash&&this.flash.reposAbs(this.crosshair.pos.x-160,this.crosshair.pos.y+105):380>=this.pointer.pos.x?this.flash&&this.flash.reposAbs(this.crosshair.pos.x+120,this.crosshair.pos.y+0):this.flash&&this.flash.reposAbs(this.crosshair.pos.x-80,this.crosshair.pos.y+0),this.parent())},check:function(){},draw:function(){this.parent();if(0>=ig.game.currentAmmo){this.fading?(this.reloadTextAlpha-=
1*ig.system.tick,0.2>=this.reloadTextAlpha&&(this.fading=!1)):(this.reloadTextAlpha+=1*ig.system.tick,0.55<=this.reloadTextAlpha&&(this.fading=!0));var b=ig.system.context,c=480-19.2*(_STRINGS.Game.reloadText.length-1)-2.4;b.save();b.font="15pt bebas";b.fillStyle="rgba(255,255,255,"+this.reloadTextAlpha+")";b.textAlign="center";for(var d=0;d<_STRINGS.Game.reloadText.length;d++)b.fillText(_STRINGS.Game.reloadText[d],604.8,c+19.2*d);b.restore()}}})});ig.baked=!0;
ig.module("game.entities.gameplay.enemy").requires("impact.entity").defines(function(){EntityEnemy=ig.Entity.extend({zIndex:990,size:{x:1,y:1},offset:{x:0,y:0},type:ig.Entity.TYPE.A,ashE1Standing1:new ig.AnimationSheet("media/graphics/game/char/e1standing1.png",130,373),ashE2Standing1:new ig.AnimationSheet("media/graphics/game/char/e2standing1.png",141,394),ashE3Standing1:new ig.AnimationSheet("media/graphics/game/char/e3standing1.png",122,371),ashB1Standing:new ig.AnimationSheet("media/graphics/game/char/b1standing.png",
164,416),ashE1Standing2:new ig.AnimationSheet("media/graphics/game/char/e1standing2.png",122,363),ashE2Standing2:new ig.AnimationSheet("media/graphics/game/char/e2standing2.png",132,383),ashE3Standing2:new ig.AnimationSheet("media/graphics/game/char/e3standing2.png",140,373),ashE1Standing3:new ig.AnimationSheet("media/graphics/game/char/e1standing3.png",223,300),ashE2Standing3:new ig.AnimationSheet("media/graphics/game/char/e2standing3.png",243,325),ashE3Standing3:new ig.AnimationSheet("media/graphics/game/char/e3standing3.png",
151,378),ashE1Crouching1:new ig.AnimationSheet("media/graphics/game/char/e1crouching1.png",120,246),ashE2Crouching1:new ig.AnimationSheet("media/graphics/game/char/e2crouching1.png",158,260),ashE3Crouching1:new ig.AnimationSheet("media/graphics/game/char/e3crouching1.png",112,248),ashE1Crouching2:new ig.AnimationSheet("media/graphics/game/char/e1crouching2.png",153,256),ashE2Crouching2:new ig.AnimationSheet("media/graphics/game/char/e2crouching2.png",175,288),ashE3Crouching2:new ig.AnimationSheet("media/graphics/game/char/e3crouching2.png",
177,252),ashE1Dead:new ig.AnimationSheet("media/graphics/game/char/e1dead.png",237,151),ashE2Dead:new ig.AnimationSheet("media/graphics/game/char/e2dead.png",284,166),ashE3Dead:new ig.AnimationSheet("media/graphics/game/char/e3dead.png",299,168),ashB1Dead:new ig.AnimationSheet("media/graphics/game/char/b1dead.png",334,210),hitboxes:[],health:100,disarmHealth:100,dead:!1,disarmed:!1,interrupted:!1,baseHealth:80,name:"enemy",rateOfFire:2,attacking:!1,damage:15,init:function(b,c,d){ig.global.wm||(this.parent(b,
c,d),this.coverEntity=d.coverEntity,this.deadtype=(this.etype=d.etype)?this.etype.substring(0,2)+"dead":"e1dead",this.zIndex=d.z,this.posx=d.posx,this.posy=d.posy,this.flipped=d.flipped,this.dead=!1,this.deadx=d.deadx,this.deady=d.deady,this.posState="neutral",this.hideNoLeftRight=this.movingDistanceLimit=this.movingDistance=0,this.coverSpeed=ig.game.rand(5,25)/10,this.attackTimer=new ig.Timer,this.aimTimer=new ig.Timer,this.aimTime=ig.ua.mobile?ig.game.valMin(1.5-0.0010*ig.game.roomCount,0.6):ig.game.valMin(1-
0.0015*ig.game.roomCount,0.3),this.rateOfFire=this.genRateOfFire(),this.attackTimer.set(this.rateOfFire),this.bg=ig.game.getEntitiesByType(EntityBackground)[0],this.anims.e1standing1=new ig.Animation(this.ashE1Standing1,0.5,[0]),this.anims.e2standing1=new ig.Animation(this.ashE2Standing1,0.5,[0]),this.anims.e3standing1=new ig.Animation(this.ashE3Standing1,0.5,[0]),this.anims.b1standing=new ig.Animation(this.ashB1Standing,0.5,[0]),this.anims.e1standing2=new ig.Animation(this.ashE1Standing2,0.5,[0]),
this.anims.e2standing2=new ig.Animation(this.ashE2Standing2,0.5,[0]),this.anims.e3standing2=new ig.Animation(this.ashE3Standing2,0.5,[0]),this.anims.e1standing3=new ig.Animation(this.ashE1Standing3,0.5,[0]),this.anims.e2standing3=new ig.Animation(this.ashE2Standing3,0.5,[0]),this.anims.e3standing3=new ig.Animation(this.ashE3Standing3,0.5,[0]),this.anims.e1crouching1=new ig.Animation(this.ashE1Crouching1,0.5,[0]),this.anims.e2crouching1=new ig.Animation(this.ashE2Crouching1,0.5,[0]),this.anims.e3crouching1=
new ig.Animation(this.ashE3Crouching1,0.5,[0]),this.anims.e1crouching2=new ig.Animation(this.ashE1Crouching2,0.5,[0]),this.anims.e2crouching2=new ig.Animation(this.ashE2Crouching2,0.5,[0]),this.anims.e3crouching2=new ig.Animation(this.ashE3Crouching2,0.5,[0]),this.anims.e1dead=new ig.Animation(this.ashE1Dead,0.5,[0]),this.anims.e2dead=new ig.Animation(this.ashE2Dead,0.5,[0]),this.anims.e3dead=new ig.Animation(this.ashE3Dead,0.5,[0]),this.anims.b1dead=new ig.Animation(this.ashB1Dead,0.5,[0]),"b1standing"==
this.etype?(this.health=3*this.baseHealth+10*(ig.game.roomCount-1),this.disarmHealth=1.2*this.baseHealth+5*(ig.game.roomCount-1)):(this.health=this.baseHealth+5*Math.floor((ig.game.roomCount-1)/5),this.disarmHealth=this.baseHealth+5*Math.floor((ig.game.roomCount-1)/10)),(this.currentAnim=this.anims[this.etype])?(this.size.x=this.currentAnim.sheet.width,this.size.y=this.currentAnim.sheet.height,this.flipped&&(this.currentAnim.flip.x=!0)):this.size.x=this.size.y=0)},spawnHitbox:function(){this.coverDistance=
0;if(this.coverEntity)switch(this.coverEntity.etype){case "h1_door":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.6*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.6*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "h2_shelf3":this.coverDistance=Math.floor(this.currentAnim.sheet.width*
this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.2*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.2*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "h2_column":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.7*this.coverEntity.currentAnim.sheet.width*
this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.7*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "h2_door":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.3*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.3*this.coverEntity.currentAnim.sheet.width*
this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "h2_shelf2":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.3*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.3*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "mr_metalcontainer":this.coverDistance=
Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=this.coverDistance,this.hideNoLeftRight=2):(this.movingDistanceLimit=this.coverDistance,this.hideNoLeftRight=1);break;case "mr_pillar2":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=this.coverDistance,this.hideNoLeftRight=2):(this.movingDistanceLimit=this.coverDistance,this.hideNoLeftRight=
1);break;case "mr_bigmachine":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=this.coverDistance,this.hideNoLeftRight=2):(this.movingDistanceLimit=this.coverDistance,this.hideNoLeftRight=1);break;case "mr_pillar":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.5*this.coverEntity.currentAnim.sheet.width*
this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.5*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "r_locker":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.4*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.4*this.coverEntity.currentAnim.sheet.width*
this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "r_bookshelf":this.coverDistance=Math.floor(this.currentAnim.sheet.width*this.scale.x*(0.4+ig.game.rand(0,10)/100));this.flipped?(this.movingDistanceLimit=Math.floor(0.7*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.7*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1);break;case "r_biglocker":this.coverDistance=Math.floor(this.currentAnim.sheet.width*
this.scale.x*(0.4+ig.game.rand(0,10)/100)),this.flipped?(this.movingDistanceLimit=Math.floor(0.1*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=2):(this.movingDistanceLimit=Math.floor(0.1*this.coverEntity.currentAnim.sheet.width*this.coverEntity.scale.x),this.hideNoLeftRight=1)}this.headbox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"head",entSelf:this,flipped:this.flipped});this.gunarmbox=ig.game.spawnEntity(EntityHitbox,
this.pos.x,this.pos.y,{etype:this.etype,part:"gunarm",entSelf:this,flipped:this.flipped});this.armbox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"arm",entSelf:this,flipped:this.flipped});this.torsobox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"torso",entSelf:this,flipped:this.flipped});this.crotchbox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"crotch",entSelf:this,flipped:this.flipped});this.leftlegbox=
ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"leftleg",entSelf:this,flipped:this.flipped});this.rightlegbox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"rightleg",entSelf:this,flipped:this.flipped});this.misc1box=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"misc1",entSelf:this,flipped:this.flipped});this.hitboxes.push(this.headbox);this.hitboxes.push(this.gunarmbox);this.hitboxes.push(this.armbox);
this.hitboxes.push(this.torsobox);this.hitboxes.push(this.crotchbox);this.hitboxes.push(this.leftlegbox);this.hitboxes.push(this.rightlegbox);this.hitboxes.push(this.misc1box);for(var b=0;b<this.hitboxes.length;b++)this.hitboxes[b].clicked=function(){ig.ua.mobile||ig.game.getEntitiesByType(EntityGun)[0].fire(this)},this.hitboxes[b].updateShape(!0);this.flashspot=ig.game.spawnEntity(EntityFlashspot,this.pos.x,this.pos.y,{etype:this.etype,entSelf:this,flipped:this.flipped})},interrupt:function(){this.interrupted=
!0},setPos:function(b,c){this.posx=b-640;this.posy=c-320},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c;for(var d=0;d<this.hitboxes.length;d++)this.hitboxes[d].updateShape(!0);this.flashspot&&this.flashspot.updateShape()},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},clicked:function(){this.shot=!0},cleanup:function(){for(var b=0;b<this.hitboxes.length;b++)this.hitboxes[b].kill();this.kill();this.flashspot.kill()},genRateOfFire:function(){for(var b=ig.game.getEntitiesByType(EntityEnemy),
c=0,d=0;d<b-1;d++)b[d].coverEntity||(c+=1);d=ig.ua.mobile?ig.game.valMin(7+b.length/4+2.75*b.length-Math.floor(ig.game.roomCount/20),2+2.75*b.length):ig.game.valMin(5+b.length/5+2*b.length-Math.floor(ig.game.roomCount/20),1+2*b.length);0>=c&&(d=ig.ua.mobile?2+2.75*b.length:1+2*b.length);return d},attack:function(){for(var b=this.flashspot,c=!1,d=ig.game.getEntitiesByType(EntityHostage),f=ig.game.getEntitiesByType(EntityEnemy),e=0;e<d.length;e++)this.zIndex<d[e].zIndex&&(b.touches(d[e].bodybox)?c=
!0:b.touches(d[e].armtiebox)?c=!0:b.touches(d[e].legtiebox)?c=!0:b.touches(d[e].headbox)?c=!0:b.touches(d[e].mouthtapebox)&&(c=!0));for(e=0;e<f.length;e++)this.id!=f[e].id&&this.zIndex<f[e].zIndex&&(b.touches(f[e].torsobox)?c=!0:b.touches(f[e].leftlegbox)?c=!0:b.touches(f[e].rightlegbox)?c=!0:b.touches(f[e].crotchbox)?c=!0:b.touches(f[e].misc1box)?c=!0:b.touches(f[e].gunarmbox)?c=!0:b.touches(f[e].armbox)?c=!0:b.touches(f[e].headbox)&&(c=!0));c?(this.rateOfFire=this.genRateOfFire(),this.attackTimer.set(this.rateOfFire),
this.posState="neutral"):(this.randomGunSound(),ig.game.ach.shotByEnemy+=1,this.flashspot.currentAnim.alpha=1,this.attacking=!0,this.rateOfFire=this.genRateOfFire(),this.attackTimer.set(this.rateOfFire),this.posState="neutral",b=320,c=470,175>=this.pos.x?(b=10,c=470):422<=this.pos.x&&(b=630,c=470),ig.game.spawnEntity(EntitySplatter,b,c,{z:1E4,etype:"rand",currentScale:4,posx:b,posy:c,followScreen:!0}),b=ig.game.currentHealth-this.damage,this.randomPlayerGrunt(),0>=b&&0<ig.game.healthPack&&(ig.soundHandler.sfxPlayer.play("recoverHealth"),
ig.game.healthPack-=1,b+=100),ig.game.currentHealth=ig.game.valMin(b,0))},randomGunSound:function(){switch(ig.game.rand(0,3)){case 0:ig.soundHandler.sfxPlayer.play("gunshot1");break;case 1:ig.soundHandler.sfxPlayer.play("gunshot2");break;case 2:ig.soundHandler.sfxPlayer.play("gunshot3");break;case 3:ig.soundHandler.sfxPlayer.play("gunshot4")}},randomPlayerGrunt:function(){switch(ig.game.rand(0,4)){case 0:ig.soundHandler.sfxPlayer.play("playerGrunt1");break;case 1:ig.soundHandler.sfxPlayer.play("playerGrunt2")}},
update:function(){if(!ig.global.wm&&this.currentAnim){ig.game.customPause?(this.attackTimer.pause(),this.aimTimer.pause()):(this.attackTimer.unpause(),this.aimTimer.unpause());if((0>=this.health||0>=this.disarmHealth)&&!this.dead){0>=this.health?ig.game.ach.enemyKilled+=1:0>=this.disarmHealth&&(ig.game.ach.enemyDisarmed+=1);this.etype=this.deadtype;var b=this.currentAnim.sheet.width;this.currentAnim=this.anims[this.deadtype];this.posx-=Math.floor((this.currentAnim.sheet.width-b)/2*this.scale.x);this.flipped&&
(this.currentAnim.flip.x=!0);for(b=0;b<this.hitboxes.length;b++)this.hitboxes[b].etype=this.deadtype;this.dead=!0}this.dead?(this.posState="dead",this.currentAnim.alpha-=6*ig.system.tick,0.5>=this.currentAnim.alpha&&this.cleanup()):!ig.game.customPause&&ig.game.gameStaged&&("hiding"==this.posState?(this.movingDistance=ig.game.valMax(this.movingDistance+this.movingDistanceLimit*this.coverSpeed*ig.system.tick,this.movingDistanceLimit),this.movingDistance>=this.movingDistanceLimit&&(this.posState="hid")):
"unhiding"==this.posState?(this.movingDistance=ig.game.valMin(this.movingDistance-this.movingDistanceLimit*this.coverSpeed*ig.system.tick,0),0>=this.movingDistance&&(this.posState="ready")):"neutral"==this.posState&&(this.posState="hiding"));0<=this.attackTimer.delta()&&!this.dead&&(!ig.game.dead&&!ig.game.customPause)&&("ready"==this.posState?(this.aimTimer.set(),this.posState="aim"):"hid"==this.posState&&(this.posState="unhiding"));"aim"==this.posState&&this.aimTimer.delta()>=this.aimTime&&(ig.game.showTutorial||
this.attack());this.dead?(b=Math.floor(this.movingDistance),2==this.hideNoLeftRight&&(b=-b),this.reposAbs(this.bg.pos.x+this.posx+this.deadx+b,this.bg.pos.y+this.posy+this.deady-Math.floor(this.currentAnim.sheet.height*this.scale.x))):(b=Math.floor(this.movingDistance),2==this.hideNoLeftRight&&(b=-b),this.reposAbs(this.bg.pos.x+this.posx+b,this.bg.pos.y+this.posy-Math.floor(this.currentAnim.sheet.height*this.scale.x)));this.parent()}},check:function(){},shadow:function(b,c,d,f,e){c=Math.floor(this.pos.x+
0.5*this.currentAnim.sheet.width*this.scale.x);d=Math.floor(this.pos.y+0.95*this.currentAnim.sheet.height*this.scale.x);f=Math.floor(0.5*this.currentAnim.sheet.width*this.scale.x);e=Math.floor(0.05*this.currentAnim.sheet.height*this.scale.x);b=ig.system.context;b.save();b.beginPath();b.fillStyle="rgba(0,0,0,0.1)";b.translate(c-f,d-e);b.scale(f,e);b.arc(1,1,1,0,2*Math.PI,!1);b.fill();b.restore()},draw:function(){this.dead||this.shadow();this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.hitbox").requires("impact.entity").defines(function(){EntityHitbox=ig.Entity.extend({type:ig.Entity.TYPE.A,zIndex:990,size:{x:0,y:0},damage:0,disarmDamage:0,leguntie:0,armuntie:0,mouthuntape:0,hitTimer:new ig.Timer,checkAgainst:ig.Entity.TYPE.A,name:"enemy",splat:!1,init:function(b,c,d){this.parent(b,c,d);this.etype=d.etype;this.part=d.part;this.entSelf=d.entSelf;this.flipped=d.flipped;this.bg=ig.game.getEntitiesByType(EntityBackground)[0];this.ptr=ig.ua.mobile?ig.game.getEntitiesByType(EntityCrosshair)[0]:
ig.game.getEntitiesByType(EntityPointer)[0];this.boxAlpha=1;this.fading=!0},update:function(){ig.global.wm||this.parent()},updateShape:function(b){if(this.entSelf&&this.entSelf.currentAnim&&this.entSelf.currentAnim.sheet)var c=this.entSelf.currentAnim.sheet.width*this.entSelf.scale.x,d=this.entSelf.currentAnim.sheet.height*this.entSelf.scale.x,f=this.size.x,e=this.entSelf.pos.x,g=this.entSelf.pos.y;else c=d=f=e=g=0;switch(this.etype){case "e1standing1":case "e1standing2":case "e2standing1":case "e2standing2":case "e3standing1":case "e3standing2":case "e3standing3":case "b1standing":switch(this.part){case "head":b&&
(this.zIndex=this.entSelf.zIndex+6);this.damage=100;"e2standing1"==this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.15*d),this.pos.x=e+0.45*c):"e3standing2"==this.etype||"e3standing3"==this.etype?(b&&(this.size.x=0.26*c,this.size.y=0.15*d),this.pos.x=e+0.3*c):(b&&(this.size.x=0.3*c,this.size.y=0.15*d),this.pos.x=e+c/2-f/2);this.pos.y=g+0;break;case "gunarm":b&&(this.zIndex=this.entSelf.zIndex+7);this.disarmDamage=25;this.entSelf.interrupt();"b1standing"==this.etype?(b&&(this.size.x=0.37*c,this.size.y=
0.15*d),this.pos.x=e+0,this.pos.y=g+0.12*d):"e3standing1"==this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.15*d),this.pos.x=e+0.1*c,this.pos.y=g+0.08*d):"e1standing2"==this.etype||"e2standing2"==this.etype||"e3standing2"==this.etype?(b&&(this.size.x=0.4*c,this.size.y=0.15*d),this.pos.x=e+0.3*c,this.pos.y=g+0.13*d):"e3standing3"==this.etype?(b&&(this.size.x=0.25*c,this.size.y=0.15*d),this.pos.x=e+0,this.pos.y=g+0.15*d):(b&&(this.size.x=0.4*c,this.size.y=0.15*d),this.pos.x=e+0,this.pos.y=g+0.19*d);
break;case "arm":b&&(this.zIndex=this.entSelf.zIndex+5);this.disarmDamage=25;"e1standing2"==this.etype||"e2standing2"==this.etype||"e3standing2"==this.etype?(b&&(this.size.x=0.7*c,this.size.y=0.1*d),this.pos.x=e+0.15*c,this.pos.y=g+0.15*d):(b&&(this.size.x=0.15*c,this.size.y=0.32*d),this.pos.x=e+c-1.5*f,this.pos.y=g+0.23*d);break;case "torso":b&&(this.zIndex=this.entSelf.zIndex+1);this.damage=30;b&&(this.size.x=0.45*c,this.size.y=0.3*d);this.pos.x=e+c/2-f/2;this.pos.y=g+0.15*d;break;case "crotch":b&&
(this.zIndex=this.entSelf.zIndex+4);this.damage=50;"e3standing3"==this.etype?b&&(this.size.x=0.3*c,this.size.y=0.12*d):b&&(this.size.x=0.3*c,this.size.y=0.09*d);this.pos.x=e+c/2-f/2;this.pos.y=g+0.45*d;break;case "leftleg":b&&(this.zIndex=this.entSelf.zIndex+3);this.disarmDamage=25;"b1standing"==this.etype||"e1standing2"==this.etype||"e2standing2"==this.etype||"e3standing2"==this.etype?(b&&(this.size.x=0.12*c,this.size.y=0.26*d),this.pos.x=e+0.23*c):"e2standing1"==this.etype?(b&&(this.size.x=0.2*
c,this.size.y=0.26*d),this.pos.x=e+0.23*c):"e3standing3"==this.etype?(b&&(this.size.x=0.2*c,this.size.y=0.525*d),this.pos.x=e+0.15*c):(b&&(this.size.x=0.1*c,this.size.y=0.525*d),this.pos.x=e+0.25*c);this.pos.y=g+0.45*d;break;case "rightleg":b&&(this.zIndex=this.entSelf.zIndex+2);this.disarmDamage=25;"b1standing"==this.etype?(b&&(this.size.x=0.18*c,this.size.y=0.505*d),this.pos.x=e+0.57*c,this.pos.y=g+0.45*d):"e3standing1"==this.etype?(b&&(this.size.x=0.4*c,this.size.y=0.415*d),this.pos.x=e+0.25*c,
this.pos.y=g+0.54*d):"e2standing1"==this.etype?(b&&(this.size.x=0.2*c,this.size.y=0.505*d),this.pos.x=e+0.55*c,this.pos.y=g+0.45*d):"e3standing3"==this.etype?(b&&(this.size.x=0.2*c,this.size.y=0.28*d),this.pos.x=e+0.6*c,this.pos.y=g+0.7*d):(b&&(this.size.x=0.18*c,this.size.y=0.505*d),this.pos.x=e+0.61*c,this.pos.y=g+0.45*d);break;case "misc1":"b1standing"==this.etype||"e1standing1"==this.etype||"e2standing1"==this.etype||"e3standing1"==this.etype||"e1standing2"==this.etype||"e2standing2"==this.etype||
"e3standing2"==this.etype?(b&&(this.size.x=0.15*c,this.size.y=0.26*d,this.zIndex=this.entSelf.zIndex+3),this.pos.x=e+0.1*c,this.pos.y=g+0.71*d,this.disarmDamage=25):"e3standing3"==this.etype&&(b&&(this.size.x=0.18*c,this.size.y=0.13*d,this.zIndex=this.entSelf.zIndex+2),this.pos.x=e+0.55*c,this.pos.y=g+0.57*d,this.disarmDamage=25)}break;case "e1crouching1":case "e1crouching2":case "e2crouching1":case "e2crouching2":case "e3crouching1":case "e3crouching2":switch(this.part){case "head":b&&(this.zIndex=
this.entSelf.zIndex+6);this.damage=100;"e2crouching1"==this.etype?(b&&(this.size.x=0.27*c,this.size.y=0.21*d),this.pos.x=e+0.28*c):"e3crouching2"==this.etype?(b&&(this.size.x=0.22*c,this.size.y=0.21*d),this.pos.x=e+0.2*c):(b&&(this.size.x=0.3*c,this.size.y=0.21*d),this.pos.x=e+c/2-f/2);this.pos.y=g+0;break;case "gunarm":b&&(this.zIndex=this.entSelf.zIndex+7);this.disarmDamage=25;this.entSelf.interrupt();"e3crouching1"==this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.2*d),this.pos.x=e+0.35*c,this.pos.y=
g+0.25*d):"e2crouching2"==this.etype?(b&&(this.size.x=0.2*c,this.size.y=0.2*d),this.pos.x=e+0.15*c,this.pos.y=g+0.13*d):("e1crouching2"==this.etype?(b&&(this.size.x=0.2*c,this.size.y=0.2*d),this.pos.x=e+0.15*c):("e3crouching2"==this.etype?b&&(this.size.x=0.23*c,this.size.y=0.25*d):b&&(this.size.x=0.3*c,this.size.y=0.2*d),this.pos.x=e+0),this.pos.y=g+0.19*d);break;case "arm":b&&(this.zIndex=this.entSelf.zIndex+5);this.disarmDamage=25;"e3crouching1"==this.etype?(b&&(this.size.x=0.9*c,this.size.y=0.15*
d),this.pos.x=e+0.05*c):"e3crouching2"==this.etype?(b&&(this.size.x=0.15*c,this.size.y=0.15*d),this.pos.x=e+0.55*c):(b&&(this.size.x=0.15*c,this.size.y=0.58*d),this.pos.x=e+c-1.5*f);this.pos.y=g+0.23*d;break;case "torso":b&&(this.zIndex=this.entSelf.zIndex+1);this.damage=30;"e3crouching1"==this.etype?(b&&(this.size.x=0.6*c,this.size.y=0.42*d),this.pos.x=e+0.22*c):"e1crouching2"==this.etype?(b&&(this.size.x=0.45*c,this.size.y=0.42*d),this.pos.x=e+0.35*c):"e3crouching2"==this.etype?(b&&(this.size.x=
0.3*c,this.size.y=0.42*d),this.pos.x=e+0.26*c):(b&&(this.size.x=0.45*c,this.size.y=0.42*d),this.pos.x=e+c/2-f/2);this.pos.y=g+0.2*d;break;case "crotch":b&&(this.zIndex=this.entSelf.zIndex+4);this.damage=50;"e2crouching1"==this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.1*d),this.pos.x=e+c/2-f/2,this.pos.y=g+0.68*d):"e3crouching1"==this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.1*d),this.pos.x=e+c/2-f/2,this.pos.y=g+0.67*d):(b&&(this.size.x=0.3*c,this.size.y=0.1*d),this.pos.x=e+c/2-f/2,this.pos.y=
g+0.6*d);break;case "leftleg":b&&(this.zIndex=this.entSelf.zIndex+3);this.disarmDamage=25;"e1crouching2"==this.etype||"e2crouching2"==this.etype?(b&&(this.size.x=0.25*c,this.size.y=0.36*d),this.pos.x=e+0.1*c):"e3crouching2"==this.etype?(b&&(this.size.x=0.6*c,this.size.y=0.36*d),this.pos.x=e+0.28*c):(b&&(this.size.x=0.8*c,this.size.y=0.36*d),this.pos.x=e+0.1*c);this.pos.y=g+0.6*d;break;case "rightleg":b&&(this.zIndex=this.entSelf.zIndex+2);"e1crouching2"==this.etype?(this.disarmDamage=25,b&&(this.size.x=
0.45*c,this.size.y=0.36*d),this.pos.x=e+0.5*c,this.pos.y=g+0.6*d):"e2crouching2"==this.etype?(this.disarmDamage=20,b&&(this.size.x=0.35*c,this.size.y=0.36*d),this.pos.x=e+0.5*c,this.pos.y=g+0.6*d):(this.disarmDamage=0,b&&(this.size.x=0*c,this.size.y=0*d),this.pos.x=e+0*c,this.pos.y=g+0*d);break;case "misc1":"e3crouching2"==this.etype?(b&&(this.size.x=0.15*c,this.size.y=0.15*d,this.zIndex=this.entSelf.zIndex+5),this.pos.x=e+0.7*c,this.pos.y=g+0.35*d,this.disarmDamage=25):(b&&(this.size.x=0*c,this.size.y=
0*d,this.zIndex=this.entSelf.zIndex+0),this.pos.x=e+0,this.pos.y=g+0,this.damage=0)}break;case "e1standing3":case "e2standing3":switch(this.part){case "head":b&&(this.zIndex=this.entSelf.zIndex+6);this.damage=100;"e2standing3"==this.etype?(b&&(this.size.x=0.15*c,this.size.y=0.15*d),this.pos.x=e+0.05*c,this.pos.y=g):(b&&(this.size.x=0.27*c,this.size.y=0.15*d),this.pos.x=e+0,this.pos.y=g+0.09*d);break;case "gunarm":b&&(this.zIndex=this.entSelf.zIndex+7);this.disarmDamage=25;this.entSelf.interrupt();
"e2standing3"==this.etype?(b&&(this.size.x=0.18*c,this.size.y=0.2*d),this.pos.x=e+0,this.pos.y=g+0.15*d):(b&&(this.size.x=0.25*c,this.size.y=0.15*d),this.pos.x=e+0.2*c,this.pos.y=g+0);break;case "arm":b&&(this.zIndex=this.entSelf.zIndex+5);this.disarmDamage=25;"e2standing3"==this.etype?(b&&(this.size.x=0.7*c,this.size.y=0.1*d),this.pos.x=e+0.22*c,this.pos.y=g+0.07*d):(b&&(this.size.x=0.11*c,this.size.y=0.47*d),this.pos.x=e+0.22*c,this.pos.y=g+0.26*d);break;case "torso":b&&(this.zIndex=this.entSelf.zIndex+
1);this.damage=30;"e2standing3"==this.etype?(b&&(this.size.x=0.45*c,this.size.y=0.2*d),this.pos.x=e+0.18*c):(b&&(this.size.x=0.45*c,this.size.y=0.2*d),this.pos.x=e+c/2-f/2);this.pos.y=g+0.17*d;break;case "crotch":b&&(this.zIndex=this.entSelf.zIndex+4);this.damage=50;"e2standing3"==this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.13*d),this.pos.x=e+0.4*c):(b&&(this.size.x=0.3*c,this.size.y=0.13*d),this.pos.x=e+0.48*c);this.pos.y=g+0.35*d;break;case "leftleg":b&&(this.zIndex=this.entSelf.zIndex+3);this.disarmDamage=
25;b&&(this.size.x=0.13*c,this.size.y=0.525*d);this.pos.x=e+0.5*c;this.pos.y=g+0.45*d;break;case "rightleg":b&&(this.zIndex=this.entSelf.zIndex+2);this.disarmDamage=25;"e2standing3"==this.etype?(b&&(this.size.x=0.1*c,this.size.y=0.25*d),this.pos.x=e+0.7*c):(b&&(this.size.x=0.1*c,this.size.y=0.25*d),this.pos.x=e+0.75*c);this.pos.y=g+0.45*d;break;case "misc1":b&&(this.size.x=0.12*c,this.size.y=0.27*d,this.zIndex=this.entSelf.zIndex+2),this.pos.x=e+0.85*c,this.pos.y=g+0.7*d,this.disarmDamage=25}break;
case "e1dead":b&&(this.zIndex=this.entSelf.zIndex+1);this.damage=0;b&&(this.size.x=0.2*c,this.size.y=0.15*d);this.pos.x=e+0.55*c;this.pos.y=g+0.38*d;break;case "e2dead":case "e3dead":case "boss1dead":b&&(this.zIndex=this.entSelf.zIndex+1);this.damage=0;b&&(this.size.x=0.2*c,this.size.y=0.15*d);this.pos.x=e+0.45*c;this.pos.y=g+0.38*d;break;case "hostage1":case "hostage2":case "hostage3":switch(this.name="hostage",this.part){case "head":b&&(this.zIndex=this.entSelf.zIndex+1);this.damage=100;"hostage1"==
this.etype?(b&&(this.size.x=0.3*c,this.size.y=0.2*d),this.pos.x=e+0.35*c,this.pos.y=g+0.02*d):"hostage2"==this.etype?(b&&(this.size.x=0.25*c,this.size.y=0.15*d),this.pos.x=e+0.4*c,this.pos.y=g+0.01*d):"hostage3"==this.etype&&(b&&(this.size.x=0.3*c,this.size.y=0.17*d),this.pos.x=e+0.35*c,this.pos.y=g+0.02*d);break;case "body":b&&(this.zIndex=this.entSelf.zIndex+2);this.damage=100;"hostage1"==this.etype?(b&&(this.size.x=0.55*c,this.size.y=0.75*d),this.pos.x=e+0.225*c,this.pos.y=g+0.22*d):"hostage2"==
this.etype?(b&&(this.size.x=0.45*c,this.size.y=0.8*d),this.pos.x=e+0.225*c,this.pos.y=g+0.16*d):"hostage3"==this.etype&&(b&&(this.size.x=0.5*c,this.size.y=0.75*d),this.pos.x=e+0.25*c,this.pos.y=g+0.2*d);break;case "mouthtape":b&&(this.zIndex=this.entSelf.zIndex+3);this.mouthuntape=1;0>=this.entSelf.mouthtape&&(this.damage=100,this.splat=!0);"hostage1"==this.etype?0.33>=this.entSelf._scale.x?(b&&(this.size.x=0.3*c,this.size.y=0.2*d),this.pos.x=e+0.35*c,this.pos.y=g+0.02*d):(b&&(this.size.x=0.5*c,this.size.y=
0.0875*d),this.pos.x=e+0.25*c,this.pos.y=g+0.14*d):"hostage2"==this.etype?0.33>=this.entSelf._scale.x?(b&&(this.size.x=0.25*c,this.size.y=0.15*d),this.pos.x=e+0.4*c,this.pos.y=g+0.01*d):(b&&(this.size.x=0.28*c,this.size.y=0.0725*d),this.pos.x=e+0.37*c,this.pos.y=g+0.1*d):"hostage3"==this.etype&&(0.33>=this.entSelf._scale.x?(b&&(this.size.x=0.3*c,this.size.y=0.17*d),this.pos.x=e+0.35*c,this.pos.y=g+0.02*d):(b&&(this.size.x=0.3*c,this.size.y=0.0725*d),this.pos.x=e+0.375*c,this.pos.y=g+0.1125*d));break;
case "armtie":b&&(this.zIndex=this.entSelf.zIndex+4);this.armuntie=1;0>=this.entSelf.armtie&&(this.damage=100,this.splat=!0);"hostage1"==this.etype?(b&&(this.size.x=1*c,this.size.y=0.14*d),this.pos.x=e+0*c,this.pos.y=g+0.34*d):"hostage2"==this.etype?(b&&(this.size.x=0.79*c,this.size.y=0.13*d),this.pos.x=e+0.01*c,this.pos.y=g+0.32*d):"hostage3"==this.etype&&(b&&(this.size.x=1*c,this.size.y=0.13*d),this.pos.x=e+0*c,this.pos.y=g+0.32*d);break;case "legtie":b&&(this.zIndex=this.entSelf.zIndex+5),this.leguntie=
1,0>=this.entSelf.legtie&&(this.damage=100,this.splat=!0),"hostage1"==this.etype||"hostage2"==this.etype?(b&&(this.size.x=0*c,this.size.y=0*d),this.pos.x=e+0.45*c,this.pos.y=g+0.38*d):"hostage3"==this.etype&&(b&&(this.size.x=0.5*c,this.size.y=0.13*d),this.pos.x=e+0.25*c,this.pos.y=g+0.75*d)}}this.flipped&&(this.pos.x=e+c-f-(this.pos.x-e))},check:function(b){"coverhitbox"==b.name&&"gunarm"==this.part&&(!this.entSelf.dead&&b.zIndex>this.zIndex&&!ig.game.gameStaged)&&this.entSelf.cleanup()},resize:function(b,
c){this.size.x=b;this.size.y=c},repos:function(b,c){this.pos.x=b;this.pos.y=c},draw:function(){this.parent();var b=!1,c=2.75*ig.system.tick;this.fading?(this.boxAlpha-=c,0>=this.boxAlpha&&(this.fading=!1)):(this.boxAlpha+=c,1<=this.boxAlpha&&(this.fading=!0));switch(this.part){case "armtie":0<this.entSelf.armtie&&(b=!0);break;case "legtie":0<this.entSelf.legtie&&(b=!0);break;case "mouthtape":0<this.entSelf.mouthtape&&(b=!0)}b&&(ig.system.context.save(),ig.system.context.beginPath(),ig.system.context.strokeStyle=
"rgba(225,225,225,"+this.boxAlpha+")",ig.system.context.rect(this.pos.x,this.pos.y,this.size.x,this.size.y),ig.system.context.stroke(),ig.system.context.restore())}})});ig.baked=!0;
ig.module("game.entities.gameplay.splatter").requires("impact.entity").defines(function(){EntitySplatter=ig.Entity.extend({zIndex:1,size:{x:1,y:1},offset:{x:0,y:0},ashSplatter1:new ig.AnimationSheet("media/graphics/game/misc/splatter1.png",132,115),ashSplatter2:new ig.AnimationSheet("media/graphics/game/misc/splatter2.png",71,84),ashSplatter3:new ig.AnimationSheet("media/graphics/game/misc/splatter3.png",125,139),ashSplatterAnim:new ig.AnimationSheet("media/graphics/game/misc/splatter_5x2.png",202,
216),init:function(b,c,d){if(!ig.global.wm){this.parent(b,c,d);this.anims.splat1=new ig.Animation(this.ashSplatter1,0.5,[0]);this.anims.splat2=new ig.Animation(this.ashSplatter2,0.5,[0]);this.anims.splat3=new ig.Animation(this.ashSplatter3,0.5,[0]);this.anims.splat4=new ig.Animation(this.ashSplatterAnim,0.5,[5]);this.anims.splat5=new ig.Animation(this.ashSplatterAnim,0.5,[6]);this.anims.splatanim=new ig.Animation(this.ashSplatterAnim,0.01,[0,1,2,3,4,5,6],!0);this.etype=d.etype;this.zIndex=d.z;this.currentScale=
d.currentScale;this.posx=d.posx;this.posy=d.posy;this.followScreen=d.followScreen;this.bg=ig.game.getEntitiesByType(EntityBackground)[0];if("rand"==this.etype)switch(ig.game.rand(0,4)){case 0:this.currentAnim=this.anims.splat1;break;case 1:this.currentAnim=this.anims.splat2;break;case 2:this.currentAnim=this.anims.splat3;break;case 3:this.currentAnim=this.anims.splat4;break;case 4:this.currentAnim=this.anims.splat5}else this.currentAnim=this.anims.splatanim.rewind();this.currentAnim.angle=ig.game.rand(0,
200)/100;b=1;this.followScreen&&(b=15);b=ig.game.rand(b,10*this.currentScale)/10;this.setScale(b,b);this.offset.x=Math.floor(this.currentAnim.sheet.width*b/2);this.offset.y=Math.floor(this.currentAnim.sheet.height*b/2)}},reposAbs:function(b,c){this.pos.x=Math.floor(b);this.pos.y=Math.floor(c)},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(this.currentAnim.alpha="rand"==this.etype?this.currentAnim.alpha-1.5*ig.system.tick:this.currentAnim.alpha-4*ig.system.tick,
0>=this.currentAnim.alpha&&this.kill(),this.followScreen||this.reposAbs(this.bg.pos.x-this.posx,this.bg.pos.y-this.posy),this.parent())},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.bullethole").requires("impact.entity").defines(function(){EntityBullethole=ig.Entity.extend({zIndex:2,size:{x:1,y:1},offset:{x:0,y:0},ashBullethole:new ig.AnimationSheet("media/graphics/game/misc/bullethole.png",20,20),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.hole1=new ig.Animation(this.ashBullethole,0.5,[0]),this.anims.hole2=new ig.Animation(this.ashBullethole,0.5,[1]),this.anims.hole3=new ig.Animation(this.ashBullethole,0.5,[2]),this.anims.hole4=
new ig.Animation(this.ashBullethole,0.5,[3]),this.anims.hole5=new ig.Animation(this.ashBullethole,0.5,[4]),this.anims.hole6=new ig.Animation(this.ashBullethole,0.5,[5]),this.currentScale=d.currentScale,this.posx=d.posx,this.posy=d.posy,this.bg=ig.game.getEntitiesByType(EntityBackground)[0],this.currentAnim=this.anims["hole"+ig.game.rand(1,6)],this.currentAnim.angle=ig.game.rand(0,200)/100,this.setScale(this.currentScale,this.currentScale),this.offset.x=ig.game.rnd(this.currentAnim.sheet.width*this.currentScale/
2,14),this.offset.y=ig.game.rnd(this.currentAnim.sheet.height*this.currentScale/2,14))},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(this.currentAnim.alpha-=5*ig.system.tick,0>=this.currentAnim.alpha&&this.kill(),this.reposAbs(this.bg.pos.x-this.posx,this.bg.pos.y-this.posy),this.parent())},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.hostage").requires("impact.entity").defines(function(){EntityHostage=ig.Entity.extend({zIndex:990,size:{x:1,y:1},offset:{x:0,y:0},type:ig.Entity.TYPE.A,ashHostage1:new ig.AnimationSheet("media/graphics/game/char/hostage1.png",86,287),ashHostage2:new ig.AnimationSheet("media/graphics/game/char/hostage2.png",121,378),ashHostage3:new ig.AnimationSheet("media/graphics/game/char/hostage3.png",122,364),health:100,disarmHealth:100,dead:!1,hitboxes:[],armtie:1,legtie:0,mouthtape:1,
name:"hostage",init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.etype=d.etype,this.zIndex=d.z,this.posx=d.posx,this.posy=d.posy,this.flipped=d.flipped,this.dead=!1,ig.game.showTutorial&&(this.disarmHealth=this.health=99999),this.bg=ig.game.getEntitiesByType(EntityBackground)[0],this.anims.hostage1=new ig.Animation(this.ashHostage1,0.5,[0]),this.anims.hostage2=new ig.Animation(this.ashHostage2,0.5,[0]),this.anims.hostage3=new ig.Animation(this.ashHostage3,0.5,[0]),"hostage3"==this.etype&&
(this.legtie=1),this.currentAnim=this.anims[this.etype],this.size.x=this.currentAnim.sheet.width,this.size.y=this.currentAnim.sheet.height,this.flipped&&(this.currentAnim.flip.x=!0))},spawnHitbox:function(){this.headbox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"head",entSelf:this,flipped:this.flipped});this.bodybox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"body",entSelf:this,flipped:this.flipped});this.armtiebox=ig.game.spawnEntity(EntityHitbox,
this.pos.x,this.pos.y,{etype:this.etype,part:"armtie",entSelf:this,flipped:this.flipped});this.legtiebox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"legtie",entSelf:this,flipped:this.flipped});this.mouthtapebox=ig.game.spawnEntity(EntityHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"mouthtape",entSelf:this,flipped:this.flipped});this.hitboxes.push(this.headbox);this.hitboxes.push(this.bodybox);this.hitboxes.push(this.armtiebox);this.hitboxes.push(this.legtiebox);
this.hitboxes.push(this.mouthtapebox);for(var b=0;b<this.hitboxes.length;b++)this.hitboxes[b].clicked=function(){ig.ua.mobile||ig.game.getEntitiesByType(EntityGun)[0].fire(this)},this.hitboxes[b].updateShape(!0)},setPos:function(b,c){this.posx=b-640;this.posy=c-320},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c;for(var d=0;d<this.hitboxes.length;d++)this.hitboxes[d].updateShape(!0)},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},clicked:function(){this.shot=!0;this.health-=100},cleanup:function(){for(var b=
0;b<this.hitboxes.length;b++)this.hitboxes[b].kill();this.pack&&this.pack.kill();this.kill()},update:function(){ig.global.wm||(ig.game.showTutorial&&(this.disarmHealth=this.health=99999),0>=this.health&&(ig.game.ach.hostageKilled+=1,this.cleanup()),0>=this.mouthtape&&0>=this.armtie&&0>=this.legtie&&(ig.game.ach.hostageRescued+=1,"hostage1"==this.etype?ig.soundHandler.sfxPlayer.play("femaleHostageRescue"):ig.soundHandler.sfxPlayer.play("maleHostageRescue"),ig.ua.mobile?ig.game.getEntitiesByType(EntityCrosshair):
ig.game.getEntitiesByType(EntityPointer),ig.game.spawnEntity(EntitySpeech,this.pos.x+0.5*this.currentAnim.sheet.width*this.scale.x,this.pos.y-0.25*this.currentAnim.sheet.height*this.scale.x,{text:_STRINGS.Game.hostageRescueFeedback.random(),speechColor:"255,255,255",fontSize:"15",posx:this.bg.pos.x-this.pos.x-0.5*this.currentAnim.sheet.width*this.scale.x,posy:this.bg.pos.y-this.pos.y- -0.05*this.currentAnim.sheet.height*this.scale.x}),this.cleanup()),this.reposAbs(this.bg.pos.x+this.posx,this.bg.pos.y+
this.posy-Math.floor(this.currentAnim.sheet.height*this.scale.x)),this.parent())},check:function(){},shadow:function(b,c,d,f,e){c=Math.floor(this.pos.x+0.5*this.currentAnim.sheet.width*this.scale.x);d=Math.floor(this.pos.y+0.95*this.currentAnim.sheet.height*this.scale.x);f=Math.floor(0.5*this.currentAnim.sheet.width*this.scale.x);e=Math.floor(0.05*this.currentAnim.sheet.height*this.scale.x);b=ig.system.context;b.save();b.beginPath();b.fillStyle="rgba(0,0,0,0.1)";b.translate(c-f,d-e);b.scale(f,e);
b.arc(1,1,1,0,2*Math.PI,!1);b.fill();b.restore()},draw:function(){this.shadow();this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.muzzle-flash").requires("impact.entity").defines(function(){EntityMuzzleFlash=ig.Entity.extend({zIndex:9980,size:{x:1,y:1},offset:{x:0,y:0},ashMuzzleFlash:new ig.AnimationSheet("media/graphics/game/misc/muzzle_flash.png",119,120),ttlTimer:new ig.Timer,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.flash=new ig.Animation(this.ashMuzzleFlash,0.5,[0]),this.currentAnim=this.anims.flash,this.currentScale=d.currentScale,this.currentAnim.angle=ig.game.rand(0,
200)/100,this.setScale(this.currentScale,this.currentScale),this.offset.x=this.currentAnim.sheet.width*this.currentScale/2,this.offset.y=this.currentAnim.sheet.height*this.currentScale/2,this.ttlTimer.set(),this.currentAnim.alpha=1)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(0.025<=this.ttlTimer.delta()&&this.kill(),this.parent())},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.cover").requires("impact.entity").defines(function(){EntityCover=ig.Entity.extend({zIndex:990,size:{x:1,y:1},offset:{x:0,y:0},type:ig.Entity.TYPE.A,name:"cover",ashh1_boxstack:new ig.AnimationSheet("media/graphics/game/object/h1_boxstack.png",92,163),ashh1_door:new ig.AnimationSheet("media/graphics/game/object/h1_door.png",34,98),ashh1_rack1:new ig.AnimationSheet("media/graphics/game/object/h1_rack1.png",155,444),ashh1_rack2:new ig.AnimationSheet("media/graphics/game/object/h1_rack2.png",
171,303),ashh2_box:new ig.AnimationSheet("media/graphics/game/object/h2_box.png",24,24),ashh2_column:new ig.AnimationSheet("media/graphics/game/object/h2_column.png",69,224),ashh2_door:new ig.AnimationSheet("media/graphics/game/object/h2_door.png",59,190),ashh2_shelf:new ig.AnimationSheet("media/graphics/game/object/h2_shelf.png",155,447),ashh2_shelf2:new ig.AnimationSheet("media/graphics/game/object/h2_shelf2.png",162,260),ashh2_shelf3:new ig.AnimationSheet("media/graphics/game/object/h2_shelf3.png",
219,328),ashhr_box:new ig.AnimationSheet("media/graphics/game/object/hr_box.png",74,66),ashhr_box2:new ig.AnimationSheet("media/graphics/game/object/hr_box2.png",39,35),ashhr_boxstack:new ig.AnimationSheet("media/graphics/game/object/hr_boxstack.png",138,136),ashhr_rack1:new ig.AnimationSheet("media/graphics/game/object/hr_rack1.png",245,313),ashhr_rack2:new ig.AnimationSheet("media/graphics/game/object/hr_rack2.png",177,227),ashhr_table:new ig.AnimationSheet("media/graphics/game/object/hr_table.png",
169,132),ashmr_bigmachine:new ig.AnimationSheet("media/graphics/game/object/mr_bigmachine.png",890,432),ashmr_metalcontainer:new ig.AnimationSheet("media/graphics/game/object/mr_metalcontainer.png",119,95),ashmr_metalcrate:new ig.AnimationSheet("media/graphics/game/object/mr_metalcrate.png",148,85),ashmr_pillar:new ig.AnimationSheet("media/graphics/game/object/mr_pillar.png",227,504),ashmr_pillar2:new ig.AnimationSheet("media/graphics/game/object/mr_pillar2.png",332,152),ashr_biglocker:new ig.AnimationSheet("media/graphics/game/object/r_biglocker.png",
263,333),ashr_bookshelf:new ig.AnimationSheet("media/graphics/game/object/r_bookshelf.png",116,202),ashr_box:new ig.AnimationSheet("media/graphics/game/object/r_box.png",170,128),ashr_boxstack:new ig.AnimationSheet("media/graphics/game/object/r_boxstack.png",145,231),ashr_couch:new ig.AnimationSheet("media/graphics/game/object/r_couch.png",162,156),ashr_locker:new ig.AnimationSheet("media/graphics/game/object/r_locker.png",74,143),ashr_tabletv:new ig.AnimationSheet("media/graphics/game/object/r_tabletv.png",
178,149),ashr_woodencrate:new ig.AnimationSheet("media/graphics/game/object/r_woodencrate.png",82,63),hitboxes:[],fade:!1,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.etype=d.etype,this.zIndex=d.z,this.posx=d.posx,this.posy=d.posy,this.flipped=d.flipped,this.forceSpawnHealthPack=d.forceSpawnHealthPack,this.anims.h1_boxstack=new ig.Animation(this.ashh1_boxstack,0.5,[0]),this.anims.h1_door=new ig.Animation(this.ashh1_door,0.5,[0]),this.anims.h1_rack1=new ig.Animation(this.ashh1_rack1,
0.5,[0]),this.anims.h1_rack2=new ig.Animation(this.ashh1_rack2,0.5,[0]),this.anims.h2_box=new ig.Animation(this.ashh2_box,0.5,[0]),this.anims.h2_column=new ig.Animation(this.ashh2_column,0.5,[0]),this.anims.h2_door=new ig.Animation(this.ashh2_door,0.5,[0]),this.anims.h2_shelf=new ig.Animation(this.ashh2_shelf,0.5,[0]),this.anims.h2_shelf2=new ig.Animation(this.ashh2_shelf2,0.5,[0]),this.anims.h2_shelf3=new ig.Animation(this.ashh2_shelf3,0.5,[0]),this.anims.hr_box=new ig.Animation(this.ashhr_box,0.5,
[0]),this.anims.hr_box2=new ig.Animation(this.ashhr_box2,0.5,[0]),this.anims.hr_boxstack=new ig.Animation(this.ashhr_boxstack,0.5,[0]),this.anims.hr_rack1=new ig.Animation(this.ashhr_rack1,0.5,[0]),this.anims.hr_rack2=new ig.Animation(this.ashhr_rack2,0.5,[0]),this.anims.hr_table=new ig.Animation(this.ashhr_table,0.5,[0]),this.anims.mr_bigmachine=new ig.Animation(this.ashmr_bigmachine,0.5,[0]),this.anims.mr_metalcontainer=new ig.Animation(this.ashmr_metalcontainer,0.5,[0]),this.anims.mr_metalcrate=
new ig.Animation(this.ashmr_metalcrate,0.5,[0]),this.anims.mr_pillar=new ig.Animation(this.ashmr_pillar,0.5,[0]),this.anims.mr_pillar2=new ig.Animation(this.ashmr_pillar2,0.5,[0]),this.anims.r_biglocker=new ig.Animation(this.ashr_biglocker,0.5,[0]),this.anims.r_bookshelf=new ig.Animation(this.ashr_bookshelf,0.5,[0]),this.anims.r_box=new ig.Animation(this.ashr_box,0.5,[0]),this.anims.r_boxstack=new ig.Animation(this.ashr_boxstack,0.5,[0]),this.anims.r_couch=new ig.Animation(this.ashr_couch,0.5,[0]),
this.anims.r_locker=new ig.Animation(this.ashr_locker,0.5,[0]),this.anims.r_tabletv=new ig.Animation(this.ashr_tabletv,0.5,[0]),this.anims.r_woodencrate=new ig.Animation(this.ashr_woodencrate,0.5,[0]),this.currentAnim=this.anims[this.etype],this.size.x=this.currentAnim.sheet.width,this.size.y=this.currentAnim.sheet.height,this.flipped&&(this.currentAnim.flip.x=!0))},spawnHitbox:function(){switch(this.etype){case "h1_door":case "h2_box":case "h2_column":case "h2_door":case "h2_shelf":case "hr_box":case "hr_box2":case "hr_table":case "mr_metalcontainer":case "mr_metalcrate":case "r_bookshelf":case "r_locker":case "r_woodencrate":case "r_box":this.box1=
ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box1",entSelf:this,flipped:this.flipped});this.hitboxes.push(this.box1);break;case "h1_boxstack":case "h1_rack1":case "h2_shelf3":case "mr_pillar2":case "r_boxstack":case "r_couch":this.box1=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box1",entSelf:this,flipped:this.flipped});this.box2=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box2",
entSelf:this,flipped:this.flipped});this.hitboxes.push(this.box1);this.hitboxes.push(this.box2);break;case "h1_rack2":case "hr_boxstack":case "hr_rack2":case "mr_bigmachine":case "r_tabletv":this.box1=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box1",entSelf:this,flipped:this.flipped});this.box2=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box2",entSelf:this,flipped:this.flipped});this.box3=ig.game.spawnEntity(EntityCoverHitbox,
this.pos.x,this.pos.y,{etype:this.etype,part:"box3",entSelf:this,flipped:this.flipped});this.hitboxes.push(this.box1);this.hitboxes.push(this.box2);this.hitboxes.push(this.box3);break;case "h2_shelf2":case "hr_rack1":case "mr_pillar":case "r_biglocker":this.box1=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box1",entSelf:this,flipped:this.flipped}),this.box2=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box2",entSelf:this,
flipped:this.flipped}),this.box3=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box3",entSelf:this,flipped:this.flipped}),this.box4=ig.game.spawnEntity(EntityCoverHitbox,this.pos.x,this.pos.y,{etype:this.etype,part:"box4",entSelf:this,flipped:this.flipped}),this.hitboxes.push(this.box1),this.hitboxes.push(this.box2),this.hitboxes.push(this.box3),this.hitboxes.push(this.box4)}for(var b=0;b<this.hitboxes.length;b++)this.hitboxes[b].clicked=function(){ig.ua.mobile||
(ig.game.getEntitiesByType(EntityGameplayControl),ig.game.getEntitiesByType(EntityGun)[0].fire(this))},this.hitboxes[b].updateShape(!0);if(!(ig.ua.mobile?ig.game.rand(0,7+Math.floor(ig.game.roomCount/15)):ig.game.rand(0,10+Math.floor(ig.game.roomCount/10)))||this.forceSpawnHealthPack)switch(this.etype){case "h1_rack2":this.pack=ig.game.rand(0,1)?this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(3,7)/10),this.posy-0.98*this.currentAnim.sheet.height*this.scale.x,
0.8*this.scale.x,this.zIndex-1):this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(3,7)/10),this.posy-0.78*this.currentAnim.sheet.height*this.scale.x,0.8*this.scale.x,this.zIndex-1);break;case "r_locker":this.pack=this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(3,7)/10),this.posy-0.98*this.currentAnim.sheet.height*this.scale.x,0.35*this.scale.x,this.zIndex-1);break;case "r_boxstack":this.pack=this.spawnHealthPack(this.posx+
0.5*this.currentAnim.sheet.width*this.scale.x,this.posy-0.96*this.currentAnim.sheet.height*this.scale.x,0.8*this.scale.x,this.zIndex-1);break;case "h1_rack1":this.pack=this.spawnHealthPack(this.posx+0.5*this.currentAnim.sheet.width*this.scale.x,this.posy-0.96*this.currentAnim.sheet.height*this.scale.x,0.8*this.scale.x,this.zIndex-1);break;case "r_bookshelf":this.pack=ig.game.rand(0,1)?this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(3,7)/10),this.posy-0.683*this.currentAnim.sheet.height*
this.scale.x,0.5*this.scale.x,this.zIndex+5):this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(3,7)/10),this.posy-0.86*this.currentAnim.sheet.height*this.scale.x,0.5*this.scale.x,this.zIndex+5);break;case "hr_rack1":this.pack=this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(3,7)/10),this.posy-0.992*this.currentAnim.sheet.height*this.scale.x,0.8*this.scale.x,this.zIndex-1);break;case "h1_boxstack":this.pack=this.spawnHealthPack(this.posx+
0.45*this.currentAnim.sheet.width*this.scale.x,this.posy-0.96*this.currentAnim.sheet.height*this.scale.x,0.4*this.scale.x,this.zIndex-1);break;case "mr_bigmachine":this.pack=this.spawnHealthPack(this.posx+this.currentAnim.sheet.width*this.scale.x*(ig.game.rand(5,6)/10),this.posy-0.715*this.currentAnim.sheet.height*this.scale.x,0.5*this.scale.x,this.zIndex-1);break;case "hr_rack2":this.pack=ig.game.rand(0,1)?this.spawnHealthPack(this.posx+0.5*this.currentAnim.sheet.width*this.scale.x,this.posy-0.75*
this.currentAnim.sheet.height*this.scale.x,0.5*this.scale.x,this.zIndex-1):this.spawnHealthPack(this.posx+0.5*this.currentAnim.sheet.width*this.scale.x,this.posy-0.62*this.currentAnim.sheet.height*this.scale.x,0.5*this.scale.x,this.zIndex-1);break;case "hr_table":this.pack=this.spawnHealthPack(this.posx+0.5*this.currentAnim.sheet.width*this.scale.x,this.posy-0.92*this.currentAnim.sheet.height*this.scale.x,0.6*this.scale.x,this.zIndex+5)}},spawnHealthPack:function(b,c,d,f){d=+d.toFixed(2);this.pack=
ig.game.spawnEntity(EntityHealthPack,0,0,{z:f,posx:0,posy:0});this.pack.posx=b;this.pack.posy=c;this.pack.setScale(d,d);return this.pack},cleanup:function(){for(var b=0;b<this.hitboxes.length;b++)this.hitboxes[b].kill();this.pack&&this.pack.kill();this.kill()},ready:function(){this.bg=ig.game.getEntitiesByType(EntityBackground)[0]},setPos:function(b,c){this.posx=b-640;this.posy=c-320},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c;for(var d=0;d<this.hitboxes.length;d++)this.hitboxes[d].updateShape(!0)},
reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},clicked:function(){this.shot=!0;this.health-=100},update:function(){if(!ig.global.wm){this.bg||(this.bg=ig.game.getEntitiesByType(EntityBackground)[0]);if(this.bg)var b=this.bg.pos.x,c=this.bg.pos.y;else c=ig.ua.mobile?ig.game.getEntitiesByType(EntityCrosshair)[0]:ig.game.getEntitiesByType(EntityPointer)[0],b=c.pos.x,c=c.pos.y;this.fade&&(this.currentAnim.alpha=ig.game.valMin(this.currentAnim.alpha-5*ig.system.tick,0),0>=this.currentAnim.alpha&&
this.cleanup());this.reposAbs(b+this.posx,c+this.posy-Math.floor(this.currentAnim.sheet.height*this.scale.x));this.parent()}},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.cover-hitbox").requires("impact.entity").defines(function(){EntityCoverHitbox=ig.Entity.extend({type:ig.Entity.TYPE.A,zIndex:990,size:{x:0,y:0},hitTimer:new ig.Timer,name:"coverhitbox",init:function(b,c,d){this.parent(b,c,d);this.etype=d.etype;this.part=d.part;this.entSelf=d.entSelf;this.flipped=d.flipped;this.bg=ig.game.getEntitiesByType(EntityBackground)[0];this.pointer=ig.ua.mobile?ig.game.getEntitiesByType(EntityCrosshair)[0]:ig.game.getEntitiesByType(EntityPointer)[0];
this.zIndex=this.entSelf.zIndex+1},update:function(){ig.global.wm||this.parent()},updateShape:function(b){var c=this.entSelf.currentAnim.sheet.width*this.entSelf.scale.x,d=this.entSelf.currentAnim.sheet.height*this.entSelf.scale.x,f=this.size.x,e=this.entSelf.pos.x,g=this.entSelf.pos.y;switch(this.etype){case "h1_door":case "h2_box":case "h2_column":case "h2_door":case "h2_shelf":case "hr_box":case "hr_box2":case "hr_table":case "mr_metalcontainer":case "mr_metalcrate":case "r_bookshelf":case "r_locker":case "r_woodencrate":b&&
(this.size.x=1*c,this.size.y=1*d);this.pos.x=e+0*c;this.pos.y=g+0*d;break;case "r_box":b&&(this.size.x=0.8*c,this.size.y=1*d);this.pos.x=e+0.1*c;this.pos.y=g+0*d;break;case "h1_boxstack":switch(this.part){case "box1":b&&(this.size.x=0.7*c,this.size.y=1*d);this.pos.x=e+0.15*c;this.pos.y=g+0*d;break;case "box2":b&&(this.size.x=1*c,this.size.y=0.45*d),this.pos.x=e+0*c,this.pos.y=g+0.55*d}break;case "h1_rack1":switch(this.part){case "box1":b&&(this.size.x=0.53*c,this.size.y=0.16*d);this.pos.x=e+0.38*
c;this.pos.y=g+0.3*d;break;case "box2":b&&(this.size.x=0.7*c,this.size.y=0.25*d),this.pos.x=e+0.15*c,this.pos.y=g+0.72*d}break;case "h2_shelf3":switch(this.part){case "box1":b&&(this.size.x=0.7*c,this.size.y=0.75*d);this.pos.x=e+0*c;this.pos.y=g+0.25*d;break;case "box2":b&&(this.size.x=0.3*c,this.size.y=0.27*d),this.pos.x=e+0.7*c,this.pos.y=g+0.73*d}break;case "mr_pillar2":switch(this.part){case "box1":b&&(this.size.x=0.12*c,this.size.y=1*d);this.pos.x=e+0*c;this.pos.y=g+0*d;break;case "box2":b&&
(this.size.x=0.12*c,this.size.y=0.42*d),this.pos.x=e+0.1*c,this.pos.y=g+0.58*d}break;case "r_boxstack":switch(this.part){case "box1":b&&(this.size.x=0.62*c,this.size.y=0.3*d);this.pos.x=e+0.07*c;this.pos.y=g+0*d;break;case "box2":b&&(this.size.x=1*c,this.size.y=0.75*d),this.pos.x=e+0*c,this.pos.y=g+0.25*d}break;case "r_couch":switch(this.part){case "box1":b&&(this.size.x=0.72*c,this.size.y=0.36*d);this.pos.x=e+0*c;this.pos.y=g+0.1*d;break;case "box2":b&&(this.size.x=1*c,this.size.y=0.65*d),this.pos.x=
e+0*c,this.pos.y=g+0.3*d}break;case "h1_rack2":switch(this.part){case "box1":b&&(this.size.x=0.35*c,this.size.y=0.25*d);this.pos.x=e+0.3*c;this.pos.y=g+0.4*d;break;case "box2":b&&(this.size.x=0.53*c,this.size.y=0.3*d);this.pos.x=e+0.1*c;this.pos.y=g+0.7*d;break;case "box3":b&&(this.size.x=0.3*c,this.size.y=0.18*d),this.pos.x=e+0.6*c,this.pos.y=g+0.82*d}break;case "hr_boxstack":switch(this.part){case "box1":b&&(this.size.x=0.45*c,this.size.y=0.25*d);this.pos.x=e+0.25*c;this.pos.y=g+0*d;break;case "box2":b&&
(this.size.x=0.8*c,this.size.y=0.68*d);this.pos.x=e+0*c;this.pos.y=g+0.24*d;break;case "box3":b&&(this.size.x=0.4*c,this.size.y=0.35*d),this.pos.x=e+0.6*c,this.pos.y=g+0.65*d}break;case "hr_rack2":switch(this.part){case "box1":b&&(this.size.x=0.3*c,this.size.y=0.2*d);this.pos.x=e+0.3*c;this.pos.y=g+0.37*d;break;case "box2":b&&(this.size.x=0.45*c,this.size.y=0.26*d);this.pos.x=e+0*c;this.pos.y=g+0.74*d;break;case "box3":b&&(this.size.x=0.43*c,this.size.y=0.35*d),this.pos.x=e+0.57*c,this.pos.y=g+0.65*
d}break;case "mr_bigmachine":switch(this.part){case "box1":b&&(this.size.x=0.115*c,this.size.y=0.35*d);this.pos.x=e+0*c;this.pos.y=g+0.65*d;break;case "box2":b&&(this.size.x=0.042*c,this.size.y=0.35*d);this.pos.x=e+0.025*c;this.pos.y=g+0.3*d;break;case "box3":b&&(this.size.x=0.277*c,this.size.y=0.97*d),this.pos.x=e+0.712*c,this.pos.y=g+0*d}break;case "r_tabletv":switch(this.part){case "box1":b&&(this.size.x=0.55*c,this.size.y=0.55*d);this.pos.x=e+0.17*c;this.pos.y=g+0*d;break;case "box2":b&&(this.size.x=
0.55*c,this.size.y=0.6*d);this.pos.x=e+0*c;this.pos.y=g+0.4*d;break;case "box3":b&&(this.size.x=0.45*c,this.size.y=0.45*d),this.pos.x=e+0.55*c,this.pos.y=g+0.55*d}break;case "h2_shelf2":switch(this.part){case "box1":b&&(this.size.x=0.7*c,this.size.y=0.225*d);this.pos.x=e+0.3*c;this.pos.y=g+0.085*d;break;case "box2":b&&(this.size.x=0.8*c,this.size.y=0.35*d);this.pos.x=e+0.2*c;this.pos.y=g+0.22*d;break;case "box3":b&&(this.size.x=0.9*c,this.size.y=0.3*d);this.pos.x=e+0.1*c;this.pos.y=g+0.58*d;break;
case "box4":b&&(this.size.x=0.95*c,this.size.y=0.1*d),this.pos.x=e+0.05*c,this.pos.y=g+0.8*d}break;case "hr_rack1":switch(this.part){case "box1":b&&(this.size.x=0.34*c,this.size.y=0.2*d);this.pos.x=e+0.1*c;this.pos.y=g+0.28*d;break;case "box2":b&&(this.size.x=0.34*c,this.size.y=0.2*d);this.pos.x=e+0.58*c;this.pos.y=g+0.25*d;break;case "box3":b&&(this.size.x=0.43*c,this.size.y=0.24*d);this.pos.x=e+0.5*c;this.pos.y=g+0.47*d;break;case "box4":b&&(this.size.x=0.42*c,this.size.y=0.16*d),this.pos.x=e+0.27*
c,this.pos.y=g+0.83*d}break;case "mr_pillar":switch(this.part){case "box1":b&&(this.size.x=0.36*c,this.size.y=1*d);this.pos.x=e+0.3*c;this.pos.y=g+0*d;break;case "box2":b&&(this.size.x=0.36*c,this.size.y=0.29*d);this.pos.x=e+0*c;this.pos.y=g+0.71*d;break;case "box3":b&&(this.size.x=0.16*c,this.size.y=0.25*d);this.pos.x=e+0.82*c;this.pos.y=g+0.75*d;break;case "box4":b&&(this.size.x=0.2*c,this.size.y=0.08*d),this.pos.x=e+0.66*c,this.pos.y=g+0.75*d}break;case "r_biglocker":switch(this.part){case "box1":b&&
(this.size.x=0.6*c,this.size.y=0.225*d);this.pos.x=e+0.4*c;this.pos.y=g+0.085*d;break;case "box2":b&&(this.size.x=0.45*c,this.size.y=0.25*d);this.pos.x=e+0.35*c;this.pos.y=g+0.22*d;break;case "box3":b&&(this.size.x=0.45*c,this.size.y=0.25*d);this.pos.x=e+0.2*c;this.pos.y=g+0.48*d;break;case "box4":b&&(this.size.x=0.45*c,this.size.y=0.25*d),this.pos.x=e+0.05*c,this.pos.y=g+0.7*d}}this.flipped&&(this.pos.x=e+c-f-(this.pos.x-e))},check:function(){},resize:function(b,c){this.size.x=b;this.size.y=c},repos:function(b,
c){this.pos.x=b;this.pos.y=c},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.flashspot").requires("impact.entity").defines(function(){EntityFlashspot=ig.Entity.extend({zIndex:1E5,type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.A,size:{x:0,y:0},offset:{x:0,y:0},ashFlash:new ig.AnimationSheet("media/graphics/game/misc/muzzle_flash.png",119,120),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.flashScale=0.45*this.entSelf.scale.x,this.anims.idle=new ig.Animation(this.ashFlash,0.5,[0]),this.currentAnim=this.anims.idle,this.entSelf=
d.entSelf,this.flipped=d.flipped,this.zIndex=this.entSelf.zIndex+8,this.currentAnim.angle=ig.game.rand(0,200)/100,this.currentAnim.alpha=0)},updateShape:function(){var b=Math.floor(this.entSelf.currentAnim.sheet.width*this.entSelf.scale.x),c=Math.floor(this.entSelf.currentAnim.sheet.height*this.entSelf.scale.x),d=this.size.x,f=this.entSelf.pos.x,e=this.entSelf.pos.y;this.setScale(this.flashScale,this.flashScale);this.offset.x=this.currentAnim.sheet.width*this.scale.x/2;this.offset.y=this.currentAnim.sheet.height*
this.scale.x/2;switch(this.etype){case "e1standing1":this.pos.x=f+0.32*b;this.pos.y=e+0.19*c;break;case "e1standing2":this.pos.x=f+0.48*b;this.pos.y=e+0.18*c;break;case "e2standing1":this.pos.x=f+0.45*b;this.pos.y=e+0.24*c;break;case "e2standing2":this.pos.x=f+0.529*b;this.pos.y=e+0.16*c;break;case "e3standing1":this.pos.x=f+0.287*b;this.pos.y=e+0.089*c;break;case "e3standing2":this.pos.x=f+0.472*b;this.pos.y=e+0.182*c;break;case "e3standing3":this.pos.x=f+0.13*b;this.pos.y=e+0.17*c;break;case "b1standing":this.pos.x=
f+0.3*b;this.pos.y=e+0.125*c;break;case "e1crouching1":this.pos.x=f+0.15*b;this.pos.y=e+0.19*c;break;case "e1crouching2":this.pos.x=f+0.289*b;this.pos.y=e+0.21*c;break;case "e2crouching1":this.pos.x=f+0.14*b;this.pos.y=e+0.19*c;break;case "e2crouching2":this.pos.x=f+0.33*b;this.pos.y=e+0.165*c;break;case "e3crouching1":this.pos.x=f+0.53*b;this.pos.y=e+0.27*c;break;case "e3crouching2":this.pos.x=f+0.11*b;this.pos.y=e+0.23*c;break;case "e1standing3":this.pos.x=f+0.24*b;this.pos.y=e+0.07*c;break;case "e2standing3":this.pos.x=
f+0.075*b,this.pos.y=e+0.17*c}this.flipped&&(this.pos.x=f+b-d-(this.pos.x-f))},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(this.entSelf.dead?this.currentAnim.alpha=0:this.entSelf.attacking?0<this.currentAnim.alpha?this.currentAnim.alpha=ig.game.valMin(this.currentAnim.alpha-(10+ig.game.rand(-2,2))*ig.system.tick,0):this.entSelf.attacking=!1:this.currentAnim.alpha=0,this.parent())},check:function(){},draw:function(){this.parent()}})});
ig.baked=!0;
ig.module("game.entities.gameplay.health-display").requires("impact.entity").defines(function(){EntityHealthDisplay=ig.Entity.extend({zIndex:10010,size:{x:1,y:1},offset:{x:0,y:0},ashHealth:new ig.AnimationSheet("media/graphics/game/misc/health_hud.png",37,37),fading:!1,healthAlpha:0.65,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.health=new ig.Animation(this.ashHealth,0.5,[0]),this.currentAnim=this.anims.health)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=
b;this.pos.y+=c},update:function(){ig.global.wm||this.parent()},check:function(){},draw:function(){var b=ig.system.context;b.save();b.font="25pt bebas";b.fillStyle="rgba(255,255,255,0.65)";b.textAlign="center";b.fillText(ig.game.healthPack,70.4,463.2);b.restore();b.save();b.beginPath();b.strokeStyle="rgba(255,255,255,0.65)";b.rect(92.16,444.24,157,15);b.lineWidth=1;b.stroke();b.restore();b.save();b.beginPath();30>=ig.game.currentHealth?(this.fading?(this.healthAlpha-=3*ig.system.tick,0>=this.healthAlpha&&
(this.fading=!1)):(this.healthAlpha+=3*ig.system.tick,0.65<=this.healthAlpha&&(this.fading=!0)),b.fillStyle="rgba(255,0,0,"+this.healthAlpha+")"):b.fillStyle="rgba(255,255,255,0.75)";b.rect(95.36,447.6,150*(ig.game.currentHealth/100),8);b.fill();b.restore();this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.hostage-display").requires("impact.entity").defines(function(){EntityHostageDisplay=ig.Entity.extend({zIndex:10020,size:{x:1,y:1},offset:{x:0,y:0},ashHostage:new ig.AnimationSheet("media/graphics/game/misc/hostage_hud.png",22,55),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.showCount=d.showCount,this.anims.hostage=new ig.Animation(this.ashHostage,0.5,[0]),this.currentAnim=this.anims.hostage)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,
c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||this.parent()},check:function(){},draw:function(){if(this.showCount){var b=ig.system.context;b.save();b.font="25pt bebas";b.fillStyle="rgba(255,255,255,0.65)";b.textAlign="center";b.fillText(ig.game.ach.hostageRescued,70.4,412.8);b.restore()}this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.ammo-display").requires("impact.entity").defines(function(){EntityAmmoDisplay=ig.Entity.extend({zIndex:10030,size:{x:1,y:1},offset:{x:0,y:0},ashAmmo:new ig.AnimationSheet("media/graphics/game/misc/ammo_hud.png",80,34),expelling:!1,destY:0,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.ammo=new ig.Animation(this.ashAmmo,0.5,[0]),this.currentAnim=this.anims.ammo,this.currentAnim.alpha=0.65)},expel:function(){this.expelling=!0},raiseIt:function(){this.destY+=
Math.floor(this.currentAnim.sheet.height*this.scale.x)},rise:function(){0<this.destY&&(this.pos.y-=40*ig.system.tick,this.destY-=40*ig.system.tick)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(this.expelling&&(this.currentAnim.alpha-=2.5*ig.system.tick,this.pos.x-=100*ig.system.tick),0>=this.currentAnim.alpha&&this.kill(),0<this.destY&&(this.rise(),this.rise(),this.rise(),this.rise(),this.rise(),this.rise(),
this.rise(),this.rise(),this.rise(),this.rise()),this.parent())},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.health-pack").requires("impact.entity").defines(function(){EntityHealthPack=ig.Entity.extend({zIndex:1,type:ig.Entity.TYPE.A,size:{x:28,y:40},offset:{x:0,y:0},ashHealthPack:new ig.AnimationSheet("media/graphics/game/misc/healthpack.png",28,40),name:"healthPack",border:0,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.zIndex=d.z,this.posx=d.posx,this.posy=d.posy,this.bg=ig.game.getEntitiesByType(EntityBackground)[0],this.anims.healthPack=new ig.Animation(this.ashHealthPack,
0.5,[0]),this.currentAnim=this.anims.healthPack,this.size.x=this.currentAnim.sheet.width,this.size.y=this.currentAnim.sheet.height)},setPos:function(b,c){this.posx=b-640;this.posy=c-320},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},clicked:function(){ig.ua.mobile||ig.game.getEntitiesByType(EntityGun)[0].fire(this)},check:function(){},update:function(){ig.global.wm||(this.reposAbs(this.bg.pos.x+this.posx,this.bg.pos.y+this.posy-Math.floor(this.currentAnim.sheet.height*
this.scale.x)),this.parent())},draw:function(){this.parent();this.border+=8.5*ig.system.tick;3<=this.border&&(this.border=0);var b=Math.floor(this.border),c=ig.system.context;c.save();c.beginPath();c.strokeStyle="rgba(255,255,255,0.75)";c.rect(this.pos.x-b,this.pos.y-b,this.size.x+2*b,this.size.y+2*b);c.stroke();c.restore()}})});ig.baked=!0;
ig.module("game.entities.gameplay.transition").requires("impact.entity").defines(function(){EntityTransition=ig.Entity.extend({zIndex:9930,size:{x:1,y:1},offset:{x:0,y:0},ashMachineRoom:new ig.AnimationSheet("media/graphics/game/room/machine_room.png",1280,640),ashRoom:new ig.AnimationSheet("media/graphics/game/room/room.png",1280,640),ashHallway1:new ig.AnimationSheet("media/graphics/game/room/hallway1.png",1280,640),ashHallway2:new ig.AnimationSheet("media/graphics/game/room/hallway2.png",1280,
640),ashHostageRoom:new ig.AnimationSheet("media/graphics/game/room/hostage_room.png",1280,640),roomType:0,maxScale:3,init:function(b,c,d){if(!ig.global.wm){this.parent(b,c,d);this.thoughtAlpha=0.2;this.fadeOut=!0;this.thought="";b=_STRINGS.Game;this.thought=b.transition1.random().replace("@@roomCount@@",ig.game.roomCount);this.thought2=b.transition2.random();this.anims.room1=new ig.Animation(this.ashMachineRoom,0.1,[0]);this.anims.room2=new ig.Animation(this.ashRoom,0.1,[0]);this.anims.room3=new ig.Animation(this.ashHallway1,
0.1,[0]);this.anims.room4=new ig.Animation(this.ashHallway2,0.1,[0]);this.anims.room5=new ig.Animation(this.ashHostageRoom,0.1,[0]);this.bg=ig.game.getEntitiesByType(EntityBackground)[0];this.gameplay=ig.game.getEntitiesByType(EntityGameplayControl)[0];switch(this.bg.roomType){case 0:this.currentAnim=this.anims.room1;this.maxScale=3;break;case 1:this.currentAnim=this.anims.room2;this.maxScale=3;break;case 2:this.currentAnim=this.anims.room3;this.maxScale=3;break;case 3:this.currentAnim=this.anims.room4;
this.maxScale=3;break;case 4:this.currentAnim=this.anims.room5,this.maxScale=3}this.updateOffset();b=this.tween({pos:{y:this.pos.y-15}},0.3,{easing:ig.Tween.Easing.Linear.EaseNone});c=this.tween({pos:{y:this.pos.y+30}},0.3,{easing:ig.Tween.Easing.Linear.EaseNone});d=this.tween({pos:{y:this.pos.y-30}},0.3,{easing:ig.Tween.Easing.Linear.EaseNone});var f=this.tween({pos:{y:this.pos.y+30}},0.3,{easing:ig.Tween.Easing.Linear.EaseNone}),e=this.tween({pos:{y:this.pos.y-30}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone}),
g=this.tween({pos:{y:this.pos.y+20}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone}),n=this.tween({pos:{y:this.pos.y-20}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone}),m=this.tween({pos:{y:this.pos.y+20}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone}),p=this.tween({pos:{y:this.pos.y-20}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone}),s=this.tween({pos:{y:this.pos.y-20}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone}),r=this.tween({pos:{y:this.pos.y+20}},0.2,{easing:ig.Tween.Easing.Linear.EaseNone});b.chain(c);
c.chain(d);d.chain(f);f.chain(e);e.chain(g);g.chain(n);n.chain(m);m.chain(p);p.chain(s);s.chain(r);b.start();ig.game.showTutorial||ig.soundHandler.sfxPlayer.play("transition")}},updateOffset:function(){this.offset.x=this.currentAnim.sheet.width*this.scale.x/2;this.offset.y=this.currentAnim.sheet.height*this.scale.x/2},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){if(!ig.global.wm){var b=this.scale.x+1.5*ig.system.tick;this.setScale(b,
b);this.updateOffset();var c=320;switch(this.bg.roomType){case 0:c=365;break;case 1:c=425;break;case 2:c=280;break;case 3:c=370;break;case 4:c=160}this.pos.x!=c&&(this.pos.x<c?this.pos.x+=1:this.pos.x>c&&(this.pos.x-=1),this.pos.x<c?this.pos.x+=1:this.pos.x>c&&(this.pos.x-=1),this.pos.x<c?this.pos.x+=1:this.pos.x>c&&(this.pos.x-=1));this.maxScale<=b&&(this.gameplay.resetVal(!1),this.kill());this.fadeOut?0.45>=this.thoughtAlpha?this.thoughtAlpha+=0.5*ig.system.tick:this.fadeOut=!1:this.thoughtAlpha=
ig.game.valMin(this.thoughtAlpha-0.5*ig.system.tick,0);this.parent()}},check:function(){},showGoodJob:function(){var b=ig.system.context;b.save();b.font="25pt bebas";b.fillStyle="rgba(255,255,255,"+this.thoughtAlpha+")";b.textAlign="center";ig.game.showTutorial&&3==ig.game.roomCount?b.fillText(_STRINGS.Tutorial.TutorialEnd,320,237.6):b.fillText(_STRINGS.Tutorial.GoodJob,320,237.6);b.restore()},showThought:function(){var b=ig.system.context;b.save();b.font="25pt bebas";b.fillStyle="rgba(255,255,255,"+
this.thoughtAlpha+")";b.textAlign="center";b.fillText(this.thought,320,237.6);b.restore()},showThought2:function(){var b=ig.system.context;b.save();b.font="25pt bebas";b.fillStyle="rgba(255,255,255,"+this.thoughtAlpha+")";b.textAlign="center";b.fillText(this.thought2,320,268.8);b.restore()},banner:function(){var b=ig.system.context;b.save();b.beginPath();b.fillStyle="rgba(0,0,0,0.25)";1<ig.game.roomCount&&!ig.game.showTutorial?b.rect(0,480*0.395,640,100.8):b.rect(0,480*0.395,640,72);b.fill();b.restore()},
draw:function(){this.parent();ig.game.showTutorial?(this.banner(),this.showGoodJob()):(this.banner(),this.showThought(),1<ig.game.roomCount&&this.showThought2())}})});ig.baked=!0;
ig.module("game.entities.gameplay.pause").requires("impact.entity").defines(function(){EntityPause=ig.Entity.extend({zIndex:9940,size:{x:15,y:17},offset:{x:0,y:0},ashPause:new ig.AnimationSheet("media/graphics/game/misc/pause.png",15,17),type:ig.Entity.TYPE.A,name:"pause",border:5,init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.defer=!1,this.anims.pause=new ig.Animation(this.ashPause,0.5,[0]),this.currentAnim=this.anims.pause,this.currentAnim.alpha=0.6)},reposAbs:function(b,c){this.pos.x=
b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(ig.game.customPause?(this.currentAnim.alpha=1,this.defer=!0):this.currentAnim.alpha=0.6,this.defer&&(ig.game.sortEntitiesDeferred(),this.defer=!1),this.parent())},clicked:function(){ig.ua.mobile||ig.game.getEntitiesByType(EntityGun)[0].fire(this)},check:function(){},button:function(b,c,d,f,e,g,n){f*=640;e*=480;var m=640*c-0.5*f,p=480*d-0.5*e,s=ig.system.context,r=!1,x=ig.ua.mobile?ig.game.getEntitiesByType(EntityCrosshair)[0]:
ig.game.getEntitiesByType(EntityPointer)[0];x.pos.x>m&&x.pos.x<m+f&&(x.pos.y>p&&x.pos.y<p+e)&&(r=!0);s.save();s.beginPath();s.strokeStyle="rgba(255,255,255,"+n+")";s.fillStyle="rgba(255,255,255,"+n+")";s.rect(m,p,f,e);r?s.fill():s.stroke();s.restore();s.save();s.font=g+"pt bebas";s.textAlign="center";s.fillStyle=r?"rgba(0,0,0,"+n+")":"rgba(255,255,255,"+n+")";s.fillText(b,640*c,480*(d+0.025));s.restore()},drawSoundButtons:function(){var b=0.65,c=0.65,d=ig.game.getSetting("hostageRescueBGM"),f=ig.game.getSetting("hostageRescueSFX");
"unmute"!=d&&(b=0.2);"unmute"!=f&&(c=0.2);d=ig.system.context;d.save();d.font="17pt bebas";d.textAlign="center";d.fillStyle="rgba(255,255,255,"+b+")";d.fillText("BGM",640*0.045,480*0.065);d.fillStyle="rgba(255,255,255,"+c+")";d.fillText("SFX",67.2,480*0.065);d.restore()},draw:function(){if(ig.game.customPause){var b=ig.system.context;b.save();b.beginPath();b.fillStyle="rgba(0,0,0,0.8)";b.rect(0,0,640,480);b.fill();b.restore();b.save();this.border-=7.5*ig.system.tick;1>=this.border&&(this.border=5);
var c=Math.floor(this.border);b.save();b.beginPath();b.strokeStyle="rgba(255,255,255,0.85)";b.rect(this.pos.x-c,this.pos.y-c,this.size.x+2*c,this.size.y+2*c);b.stroke();b.restore();b.save();b.font="50pt bebas";b.fillStyle="rgba(255,255,255,0.85)";b.textAlign="center";b.fillText(_STRINGS.Game.Paused,320,240);b.restore();this.button(_STRINGS.Game.Retire,0.5,0.575,0.15,0.1,25,0.85);this.button(_STRINGS.Game.MainMenu,0.5,0.7,0.24,0.1,25,0.85)}this.drawSoundButtons();this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.shade").requires("impact.entity").defines(function(){EntityShade=ig.Entity.extend({zIndex:10005,size:{x:1,y:1},offset:{x:0,y:0},init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.intensity=3,this.shadeAlpha=0,this.sfxPlayed=!1)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(0>=ig.game.currentHealth&&(ig.game.dead=!0,ig.game.getEntitiesByType(EntityGun)[0].currentAnim.alpha=
0,this.shadeAlpha+=0.5*ig.system.tick),this.parent())},check:function(){},grayscaleFilter:function(){var b=ig.system.context;b.save();gameScreen=b.getImageData(0,0,640,480);for(var c=0;c<gameScreen.data.length;c+=4){var d=gameScreen.data[c],f=gameScreen.data[c+1],e=gameScreen.data[c+2];gameScreen.data[c]=ig.game.valMax(0.34,1)*d+ig.game.valMin(0.5,0)*f+ig.game.valMin(0.16,0)*e;gameScreen.data[c+1]=ig.game.valMin(0.34,0)*d+ig.game.valMax(0.5,1)*f+ig.game.valMin(0.16,0)*e;gameScreen.data[c+2]=ig.game.valMin(0.34,
0)*d+ig.game.valMin(0.5,0)*f+ig.game.valMax(0.16,1)*e}b.putImageData(gameScreen,0,0);b.restore()},darkFilter:function(){var b=ig.system.context;b.save();b.beginPath();b.fillStyle="rgba(0,0,0,"+this.shadeAlpha+")";b.rect(0,0,640,480);b.fill();b.restore()},draw:function(){this.parent();0>=ig.game.currentHealth&&(this.darkFilter(),this.sfxPlayed||(this.sfxPlayed=!0,ig.soundHandler.sfxPlayer.play("transition")));1<=this.shadeAlpha&&ig.game.director.jumpTo(LevelGameover)}})});ig.baked=!0;
ig.module("game.entities.gameplay.title").requires("impact.entity").defines(function(){EntityTitle=ig.Entity.extend({zIndex:2,size:{x:1,y:1},offset:{x:0,y:0},ashTitle:new ig.AnimationSheet("media/graphics/game/misc/title.png",452,54),imgTitle:new ig.Image("media/graphics/game/misc/title.png"),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.imageClipWPerc=0,this.anims.title=new ig.Animation(this.ashTitle,0.5,[0]),this.currentAnim=this.anims.title,this.currentAnim.alpha=0.1)},reposAbs:function(b,
c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||this.parent()},check:function(){},draw:function(){this.parent();1>=this.imageClipWPerc&&(this.imageClipWPerc+=5E-4);this.imgTitle.draw(this.pos.x,this.pos.y,0,0,this.imgTitle.width*this.imageClipWPerc,this.imgTitle.height);this.currentAnim.alpha=ig.game.valMin(this.imageClipWPerc-0.1,0.05)}})});ig.baked=!0;
ig.module("game.entities.gameplay.curtain").requires("impact.entity").defines(function(){EntityCurtain=ig.Entity.extend({zIndex:10005,size:{x:1,y:1},offset:{x:0,y:0},shadeAlpha:0.9,init:function(b,c,d){ig.global.wm||this.parent(b,c,d)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(0>=this.shadeAlpha&&this.kill(),this.parent())},check:function(){},draw:function(){this.parent();if(0<ig.game.currentHealth){this.shadeAlpha=
ig.game.valMin(this.shadeAlpha-1*ig.system.tick,0);var b=ig.system.context;b.save();b.beginPath();b.fillStyle="rgba(0,0,0,"+this.shadeAlpha+")";b.rect(0,0,640,480);b.fill();b.restore()}}})});ig.baked=!0;
ig.module("game.entities.gameplay.shadow").requires("impact.entity").defines(function(){EntityShadow=ig.Entity.extend({zIndex:100,size:{x:1,y:1},offset:{x:0,y:0},fadeIn:!0,ashE1Standing1:new ig.AnimationSheet("media/graphics/game/char/e1standing1.png",130,373),ashE2Standing1:new ig.AnimationSheet("media/graphics/game/char/e2standing1.png",141,394),ashE3Standing1:new ig.AnimationSheet("media/graphics/game/char/e3standing1.png",122,371),ashB1Standing:new ig.AnimationSheet("media/graphics/game/char/b1standing.png",
164,416),ashE1Standing2:new ig.AnimationSheet("media/graphics/game/char/e1standing2.png",122,363),ashE2Standing2:new ig.AnimationSheet("media/graphics/game/char/e2standing2.png",132,383),ashE3Standing2:new ig.AnimationSheet("media/graphics/game/char/e3standing2.png",140,373),ashE1Standing3:new ig.AnimationSheet("media/graphics/game/char/e1standing3.png",223,300),ashE2Standing3:new ig.AnimationSheet("media/graphics/game/char/e2standing3.png",243,325),ashE3Standing3:new ig.AnimationSheet("media/graphics/game/char/e3standing3.png",
151,378),ashE1Crouching1:new ig.AnimationSheet("media/graphics/game/char/e1crouching1.png",120,246),ashE2Crouching1:new ig.AnimationSheet("media/graphics/game/char/e2crouching1.png",158,260),ashE3Crouching1:new ig.AnimationSheet("media/graphics/game/char/e3crouching1.png",112,248),ashE1Crouching2:new ig.AnimationSheet("media/graphics/game/char/e1crouching2.png",153,256),ashE2Crouching2:new ig.AnimationSheet("media/graphics/game/char/e2crouching2.png",175,288),ashE3Crouching2:new ig.AnimationSheet("media/graphics/game/char/e3crouching2.png",
177,252),ashHostage1:new ig.AnimationSheet("media/graphics/game/char/hostage1.png",86,287),ashHostage2:new ig.AnimationSheet("media/graphics/game/char/hostage2.png",121,378),ashHostage3:new ig.AnimationSheet("media/graphics/game/char/hostage3.png",122,364),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.maxAlpha=0.35,this.flipped=d.flipped,this.anims.e1standing1=new ig.Animation(this.ashE1Standing1,0.5,[0]),this.anims.e2standing1=new ig.Animation(this.ashE2Standing1,0.5,[0]),this.anims.e3standing1=
new ig.Animation(this.ashE3Standing1,0.5,[0]),this.anims.b1standing=new ig.Animation(this.ashB1Standing,0.5,[0]),this.anims.e1standing2=new ig.Animation(this.ashE1Standing2,0.5,[0]),this.anims.e2standing2=new ig.Animation(this.ashE2Standing2,0.5,[0]),this.anims.e3standing2=new ig.Animation(this.ashE3Standing2,0.5,[0]),this.anims.e1standing3=new ig.Animation(this.ashE1Standing3,0.5,[0]),this.anims.e2standing3=new ig.Animation(this.ashE2Standing3,0.5,[0]),this.anims.e3standing3=new ig.Animation(this.ashE3Standing3,
0.5,[0]),this.anims.e1crouching1=new ig.Animation(this.ashE1Crouching1,0.5,[0]),this.anims.e2crouching1=new ig.Animation(this.ashE2Crouching1,0.5,[0]),this.anims.e3crouching1=new ig.Animation(this.ashE3Crouching1,0.5,[0]),this.anims.e1crouching2=new ig.Animation(this.ashE1Crouching2,0.5,[0]),this.anims.e2crouching2=new ig.Animation(this.ashE2Crouching2,0.5,[0]),this.anims.e3crouching2=new ig.Animation(this.ashE3Crouching2,0.5,[0]),this.anims.hostage1=new ig.Animation(this.ashHostage1,0.5,[0]),this.anims.hostage2=
new ig.Animation(this.ashHostage2,0.5,[0]),this.anims.hostage3=new ig.Animation(this.ashHostage3,0.5,[0]),this.animPool="e1standing1 e2standing1 e3standing1 b1standing e1standing2 e2standing2 e3standing2 e1standing3 e2standing3 e3standing3 e1crouching1 e2crouching1 e3crouching1 e1crouching2 e2crouching2 e3crouching2 hostage1 hostage2 hostage3".split(" "),this.initVal(),this.currentAnim.alpha=ig.game.rand(0,100*this.maxAlpha)/100)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,
c){this.pos.x+=b;this.pos.y+=c},initVal:function(){this.fadeIn=!0;var b=ig.game.rand(0,this.animPool.length-1);this.currentAnim=this.anims[this.animPool[b]];this.currentAnim.alpha=0;this.currentAnim.flip.x=this.flipped;this.offset.y=ig.game.rand(-72,48);b=ig.game.rand(150,300)/100;this.setScale(b,b);this.updateOffset()},update:function(){ig.global.wm||(this.fadeIn?(this.currentAnim.alpha+=0.075*ig.system.tick,this.currentAnim.alpha>=this.maxAlpha&&(this.fadeIn=!1)):(this.currentAnim.alpha-=0.075*
ig.system.tick,0>=this.currentAnim.alpha&&this.initVal()),this.parent())},updateOffset:function(){this.offset.x=Math.floor(this.currentAnim.sheet.width*this._scale.x/2)},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.news-ticker").requires("impact.entity").defines(function(){EntityNewsTicker=ig.Entity.extend({zIndex:10040,size:{x:1,y:1},offset:{x:0,y:0},init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.msgCount=1,this.msg=this.getMsg(),this.displayTimer=new ig.Timer,this.scrollX=320)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(1<=ig.game.ach.shotFired?ig.game.customPause?this.displayTimer.pause():
(this.displayTimer.unpause(),this.scrollX-=1.75,15<=this.displayTimer.delta()&&(this.scrollX=640,this.displayTimer.set(),this.msgCount+=1,this.msg=this.getMsg())):this.displayTimer.set(),this.parent())},check:function(){},getMsg:function(){var b="",c=_STRINGS.Game,d=_STRINGS.Game.HowToPlay,f=_STRINGS.Game.Live,e=_STRINGS.Game.hostageLive;if(d.length>=this.msgCount)b=d[this.msgCount-1],1==this.msgCount&&(b=ig.ua.mobile?c.TapToShoot+" "+b:c.ClickToShoot+" "+b);else if(ig.game.rand(0,1))b="";else switch(ig.game.rand(0,
4)){case 0:b=f[ig.game.rand(0,f.length-1)];break;case 1:1<ig.game.ach.hostageRescued?(b=e[ig.game.rand(0,e.length-1)],b=b.replace("@@hostageRescued@@",ig.game.ach.hostageRescued)):b=c.roomLive.replace("@@roomCount@@",ig.game.roomCount);break;case 2:case 4:b=c.roomLive.replace("@@roomCount@@",ig.game.roomCount);break;case 3:b=c.enemyLive.replace("@@enemyKilled@@",ig.game.ach.enemyKilled+ig.game.ach.enemyDisarmed)}return b},showNews:function(b){var c=ig.system.context;c.save();c.font="15pt bebas";c.fillStyle=
"rgba(255,255,255,0.85)";c.textAlign="left";c.fillText(this.msg,b,19.2);c.restore()},draw:function(){this.parent();this.showNews(this.scrollX)}})});ig.baked=!0;
ig.module("game.entities.gameplay.bg-char").requires("impact.entity").defines(function(){EntityBgChar=ig.Entity.extend({zIndex:100,size:{x:640,y:480},offset:{x:0,y:0},ashChar:new ig.AnimationSheet("media/graphics/game/misc/main_menu_char.png",640,480),init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.anims.char=new ig.Animation(this.ashChar,0.5,[0]),this.currentAnim=this.anims.char)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||
this.parent()},check:function(){},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.gameplay.tutorial").requires("impact.entity").defines(function(){EntityTutorial=ig.Entity.extend({zIndex:9920,size:{x:1,y:1},offset:{x:0,y:0},init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.tutorialAlpha=0,this.maxTutorialAlpha=0.85,this.fadeIn=!0,this.dismiss=!1,this.tutorialCode=d.tutorialCode)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,c){this.pos.x+=b;this.pos.y+=c},update:function(){if(!ig.global.wm){switch(this.tutorialCode){case "tut1-1":1<=
ig.game.ach.reloaded&&(this.dismiss||ig.game.spawnEntity(EntityTutorial,0,0,{tutorialCode:"tut1-2"}),this.dismiss=!0);break;case "tut1-2":1<=ig.game.ach.enemyKilled+ig.game.ach.enemyDisarmed&&(this.dismiss=!0);break;case "tut2-1":1<=ig.game.ach.healthPackCollected&&(this.dismiss=!0);break;case "tut2-2":1<=ig.game.ach.hostageRescued&&(this.dismiss=!0);break;case "tut3-1":2<=ig.game.ach.hostageRescued&&(this.dismiss||ig.game.spawnEntity(EntityTutorial,0,0,{tutorialCode:"tut3-2"}),this.dismiss=!0);break;
case "tut3-2":2<=ig.game.ach.enemyKilled+ig.game.ach.enemyDisarmed&&(this.dismiss=!0)}this.dismiss&&(this.fadeIn=!1);this.fadeIn?(this.tutorialAlpha+=1.5*ig.system.tick,0.85<=this.tutorialAlpha&&(this.tutorialAlpha=0.85)):this.tutorialAlpha-=1.5*ig.system.tick;0>=this.tutorialAlpha&&this.dismiss&&this.kill();this.parent()}},check:function(){},showTutorial:function(){var b=ig.system.context;b.save();var c=_STRINGS.Tutorial,d=!0;b.font="15pt bebas";b.fillStyle="rgba(255,255,255,"+this.tutorialAlpha+
")";b.textAlign="center";switch(this.tutorialCode){case "tut1-1":d=!0;ig.ua.mobile?(b.fillText(c.Tut1_1_1mobile,320,74.4),b.fillText(c.Tut1_1_2mobile,320,480*0.205)):(b.fillText(c.Tut1_1_1,320,74.4),b.fillText(c.Tut1_1_2,320,480*0.205));break;case "tut1-2":d=!1;ig.ua.mobile?(b.fillText(c.Tut1_2_1mobile,320,276),b.fillText(c.Tut1_2_2mobile,320,300)):(b.fillText(c.Tut1_2_1,320,276),b.fillText(c.Tut1_2_2,320,300));break;case "tut2-1":d=!0;b.fillText(c.Tut2_1_1,320,74.4);b.fillText(c.Tut2_1_2,320,480*
0.205);break;case "tut2-2":d=!1;b.fillText(c.Tut2_2_1,320,276);b.fillText(c.Tut2_2_2,320,300);break;case "tut3-1":d=!0;b.fillText(c.Tut3_1_1,320,74.4);b.fillText(c.Tut3_1_2,320,480*0.205);break;case "tut3-2":d=!1,b.fillText(c.Tut3_2_1,320,276),b.fillText(c.Tut3_2_2,320,300)}b.restore();this.banner(d);ig.game.sortEntitiesDeferred()},banner:function(b){var c=ig.system.context;c.save();c.beginPath();c.fillStyle="rgba(0,0,0,0.25)";b?c.rect(0,48,800,60):c.rect(0,480*0.52,800,60);c.fill();c.restore()},
draw:function(){this.parent();this.showTutorial()}})});ig.baked=!0;
ig.module("game.entities.gameplay.speech").requires("impact.entity").defines(function(){EntitySpeech=ig.Entity.extend({zIndex:9910,size:{x:1,y:1},offset:{x:0,y:0},init:function(b,c,d){ig.global.wm||(this.parent(b,c,d),this.textAlpha=0.65,this.text=d.text,this.speechColor=d.speechColor,this.fontSize=d.fontSize,this.posx=d.posx,this.posy=d.posy,d.z&&(this.zIndex=d.z,ig.game.sortEntitiesDeferred()),this.fadeRate=d.fadeRate?d.fadeRate:1)},reposAbs:function(b,c){this.pos.x=b;this.pos.y=c},reposRel:function(b,
c){this.pos.x+=b;this.pos.y+=c},update:function(){ig.global.wm||(this.parent(),this.textAlpha=ig.game.valMin(this.textAlpha-this.fadeRate*ig.system.tick,0),0==this.textAlpha&&this.kill())},check:function(){},draw:function(){this.parent();var b=ig.game.getEntitiesByType(EntityBackground)[0],c=ig.system.context;c.save();c.font=this.fontSize+"pt bebas";c.fillStyle="rgba("+this.speechColor+","+this.textAlpha+")";c.textAlign="center";c.fillText(this.text,Math.floor(b.pos.x-this.posx),Math.floor(b.pos.y-
this.posy));c.restore()}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening-kitty").defines(function(){LevelOpening={entities:[{type:"EntityOpeningKitty",x:520,y:212}],layer:[]}});ig.baked=!0;
ig.module("game.entities.home-control").requires("impact.entity").defines(function(){EntityHomeControl=ig.Entity.extend({gravityFactor:0,type:ig.Entity.TYPE.A,zIndex:1,size:{x:640,y:480},ashBackground:new ig.AnimationSheet("media/graphics/game/misc/backdrop.png",640,480),imgTitle:new ig.Image("media/graphics/game/misc/title.png"),ammoEntities:[],fadeOut:!1,buttonWorks:!0,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.ptrReset=!0,this.dragged=!1,this.dragTimer=new ig.Timer,this.btnAlpha=
0,ig.game.currentAmmo=ig.game.maxAmmo,ig.game.spawnEntity(EntityPointer,800,800,{control:this}),this.anims.bg=new ig.Animation(this.ashBackground,0.5,[0]),this.currentAnim=this.anims.bg,ig.ua.mobile||(this.crosshair=ig.game.spawnEntity(EntityCrosshair,320,240),this.crosshair.setScale(0.2,0.2),this.crosshair.updateOffset()),_SETTINGS.MoreGames.Enabled&&(this.moreGames=ig.game.spawnEntity(EntityButtonMoreGames,243.2,312)),this.bgChar=ig.game.spawnEntity(EntityBgChar,0,0))},getDist:function(){var b=
this.mpointer.last.x,c=this.mpointer.last.y,d=this.mpointer.pos.x,f=this.mpointer.pos.y;return Math.sqrt((b-d)*(b-d)+(c-f)*(c-f))},update:function(){ig.global.wm||(this.pointer&&(ig.ua.mobile||this.crosshair.reposAbs(this.pointer.pos.x,this.pointer.pos.y)),this.parent())},released:function(){},ready:function(){this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},draw:function(){this.parent();!this.fadeOut&&0.65>this.btnAlpha&&(this.btnAlpha+=1*ig.system.tick);this.imgTitle.draw(320-0.5*this.imgTitle.width,
96-0.5*this.imgTitle.height);this.button(_STRINGS.Game.Start,0.5,0.575,0.15,0.1,25,this.btnAlpha,"start");this.drawSoundButtons();_SETTINGS.MoreGames.Enabled&&(this.moreGames.btnAlpha=this.btnAlpha)},drawSoundButtons:function(){var b=640*0.045-16,c=480*0.065-16.8,d=67.2-12.8,f=480*0.065-16.8,e=0.65,g=0.65,n=ig.game.getSetting("hostageRescueBGM"),m=ig.game.getSetting("hostageRescueSFX");"unmute"!=n&&(e=0.2);"unmute"!=m&&(g=0.2);n=ig.system.context;n.save();n.font="17pt bebas";n.textAlign="center";
n.fillStyle="rgba(255,255,255,"+e+")";n.fillText("BGM",640*0.045,480*0.065);n.fillStyle="rgba(255,255,255,"+g+")";n.fillText("SFX",67.2,480*0.065);n.restore();this.pointer.pos.x>b&&this.pointer.pos.x<b+30.4&&this.pointer.pos.y>c&&this.pointer.pos.y<c+16.8&&this.pointer.isReleased&&("mute"==ig.game.getSetting("hostageRescueBGM")?(ig.game.setSetting("hostageRescueBGM","unmute"),ig.soundHandler.unmuteBGM(!0)):(ig.game.setSetting("hostageRescueBGM","mute"),ig.soundHandler.muteBGM(!0)));this.pointer.pos.x>
d&&this.pointer.pos.x<d+25.6&&this.pointer.pos.y>f&&this.pointer.pos.y<f+16.8&&this.pointer.isReleased&&("mute"==ig.game.getSetting("hostageRescueSFX")?(ig.game.setSetting("hostageRescueSFX","unmute"),ig.soundHandler.unmuteSFX(!0)):(ig.game.setSetting("hostageRescueSFX","mute"),ig.soundHandler.muteSFX(!0)))},button:function(b,c,d,f,e,g,n,m){f*=640;e*=480;var p=640*c-0.5*f,s=480*d-0.5*e,r=ig.system.context,x=!1,y=!1;if(this.pointer.pos.x>p&&this.pointer.pos.x<p+f&&this.pointer.pos.y>s&&this.pointer.pos.y<
s+e||ig.ua.mobile&&this.pointer.pos.x>p&&this.pointer.pos.x<p+f&&this.pointer.pos.y>s&&this.pointer.pos.y<s+e)x=!0,this.pointer.isReleased&&(y=!0);r.save();r.beginPath();r.strokeStyle="rgba(255,255,255,"+n+")";r.fillStyle="rgba(255,255,255,"+n+")";r.rect(p,s,f,e);x?r.fill():r.stroke();r.restore();r.save();r.font=g+"pt bebas";r.textAlign="center";r.fillStyle=x?"rgba(0,0,0,"+n+")":"rgba(255,255,255,"+n+")";r.fillText(b,640*c,480*(d+0.025));r.restore();if(y&&this.buttonWorks)switch(m){case "start":this.fadeOut=
!0,this.buttonWorks=!1,ig.game.director.jumpTo(LevelGameplay)}}})});ig.baked=!0;ig.module("game.levels.home").requires("impact.image","game.entities.home-control").defines(function(){LevelHome={entities:[{type:"EntityHomeControl",x:0,y:0}],layer:[]}});ig.baked=!0;
ig.module("game.entities.gameplay-control").requires("impact.entity").defines(function(){EntityGameplayControl=ig.Entity.extend({gravityFactor:0,type:ig.Entity.TYPE.B,zIndex:1,size:{x:640,y:480},stageEntities:[],ammoEntities:[],resetting:!1,transitioning:!1,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.newGame(),this.ptrReset=!0,this.dragged=!1,this.dragTimer=new ig.Timer,this.checkTimer=new ig.Timer,ig.game.spawnEntity(EntityPointer,640,480,{control:this}),this.bg=ig.game.spawnEntity(EntityBackground,
0,180),this.crosshair=ig.game.spawnEntity(EntityCrosshair,320,240),this.crosshair.setScale(0.2,0.2),this.crosshair.updateOffset(),this.gun=ig.game.spawnEntity(EntityGun,472,262),this.healthDisplay=ig.game.spawnEntity(EntityHealthDisplay,12.8,432),this.hostageDisplay=ig.game.spawnEntity(EntityHostageDisplay,21.76,376.8,{showCount:!0}),this.hostageDisplay.setScale(0.78,0.78),this.pauseEntity=ig.game.spawnEntity(EntityPause,640*0.955,480*0.03),this.shade=ig.game.spawnEntity(EntityShade,0,0),this.reloadAnimManager(ig.game.maxAmmo),
this.resetVal(!0))},newGame:function(){ig.game.currentAmmo=ig.game.maxAmmo;ig.game.currentHealth=100;ig.game.healthPack=1;ig.game.dead=!1;ig.game.retire=!1;ig.game.customPause=!1;ig.game.showTutorial&&(ig.game.healthPack=0,ig.game.tutorial1Passed=!1,ig.game.tutorial2Passed=!1,ig.game.tutorial3Passed=!1);ig.game.roomCount=0;ig.game.ach.shotFired=0;ig.game.ach.shotMissed=0;ig.game.ach.enemyKilled=0;ig.game.ach.enemyDisarmed=0;ig.game.ach.hostageKilled=0;ig.game.ach.healthPackCollected=0;ig.game.ach.headShot=
0;ig.game.ach.crotchShot=0;ig.game.ach.disarmingShot=0;ig.game.ach.shotByEnemy=0;ig.game.ach.hostageUntieShot=0;ig.game.ach.hostageRescued=0;ig.game.ach.reloaded=0;ig.game.ach.emptyShot=0},emptyClip:function(){for(var b=ig.game.currentAmmo=0;b<this.ammoEntities.length;b++)this.ammoEntities[b].expel();this.ammoEntities=[]},reloadAnimManager:function(){for(var b=Math.floor(34*0.575),c=0;c<this.ammoEntities.length;c++)this.ammoEntities[c].expel();this.ammoEntities=[];for(c=0;c<ig.game.maxAmmo;c++){this.ammoDisplay=
ig.game.spawnEntity(EntityAmmoDisplay,582.4,480+b*c);this.ammoDisplay.setScale(0.575,0.575);this.ammoEntities.push(this.ammoDisplay);for(var d=0;d<ig.game.maxAmmo;d++)this.ammoDisplay.raiseIt()}},resetVal:function(b){ig.game.roomCount+=1;this.newRoom=this.exitRoom=!1;this.curtain=ig.game.spawnEntity(EntityCurtain,0,0);this.gun.resetVal();this.crosshair.resetVal();ig.game.tutorial1Passed&&ig.game.tutorial2Passed&&ig.game.tutorial3Passed&&(ig.game.showTutorial&&(ig.game.roomCount=1),ig.game.showTutorial=
!1);for(var c=ig.game.getEntitiesByType(EntityHostage),d=0;d<c.length;d++)c[d].cleanup();c=ig.game.getEntitiesByType(EntityCover);for(d=0;d<c.length;d++)c[d].cleanup();if(ig.game.showTutorial)switch(ig.game.roomCount){case 1:this.tutorialRoom1();break;case 2:this.tutorialRoom2();break;case 3:this.tutorialRoom3();break;case 4:this.tutorialRoom4()}else{d=ig.game.roomRatio.random();if(1<ig.game.roomRatio.length)for(;d==this.bg.roomType||5>=ig.game.roomCount&&0==d;)d=ig.game.roomRatio.random();this.bg.resetVal(d);
this.organize()}b||ig.game.sortEntitiesDeferred();this.resetting=!1},spawnHealthPack:function(b,c,d,f){d=+d.toFixed(2);this.pack=ig.game.spawnEntity(EntityHealthPack,0,0,{z:f,posx:0,posy:0});this.pack.setPos(b,c);this.pack.setScale(d,d);return this.pack},spawnCover:function(b,c,d,f,e,g){this.cover=ig.game.spawnEntity(EntityCover,0,0,{etype:b,z:e,posx:0,posy:0,flipped:g});this.cover.setPos(c,d);this.cover.setScale(f,f);this.cover.spawnHitbox();return this.cover},spawnEnemy:function(b,c,d,f,e,g,n,m,
p){ig.game.getEntitiesByType(EntityEnemy).length<ig.game.roomCount&&(this.char=ig.game.spawnEntity(EntityEnemy,0,0,{etype:b,z:e,posx:0,posy:0,flipped:g,deadx:n,deady:m,coverEntity:p}),this.char.setPos(c,d),this.char.setScale(f,f),this.char.spawnHitbox())},spawnHostage:function(b,c,d,f,e,g){this.char=ig.game.spawnEntity(EntityHostage,0,0,{etype:b,z:e,posx:0,posy:0,flipped:g});this.char.setPos(c,d);this.char.setScale(f,f);this.char.spawnHitbox();!ig.game.rand(0,5+Math.floor(ig.game.roomCount/10))&&
!ig.game.showTutorial&&(this.char.pack=this.spawnHealthPack(c+this.char.currentAnim.sheet.width*this.char.scale.x/2-28*this.char.scale.x/2,d-0.97*this.char.currentAnim.sheet.height*this.char.scale.x,f,e+6))},randomSpawn:function(b,c,d,f,e,g,n,m,p,s){var r=[!0,!1];ig.game.rand(b,c)&&(!this.hostageSpawned&&!ig.game.rand(0,d)?(this.spawnHostage(this.hostageAll(),f+ig.game.rand(0,m),e,g,n,r.random()),this.hostageSpawned=!0):this.spawnEnemy(this.standAll(),f+ig.game.rand(0,m),e,g,n,r.random(),p,s,""))},
hostageAll:function(){return["hostage1","hostage2","hostage3"].random()},stCornerAll:function(){return["e1standing1","e2standing1","e3standing1","e3standing3"].random()},rambo:function(){return["e1standing2","e2standing2","e3standing2"].random()},crRambo:function(){return["e3standing1"].random()},stCornerFar:function(){return["e1standing3","e2standing3"].random()},stCornerIn:function(){return["e1standing1","e2standing1","e3standing1"].random()},crCorner:function(){return"e1crouching1 e2crouching1 e3crouching1 e1crouching2 e2crouching2 e3crouching2".split(" ").random()},
cornerAll:function(){return"e1crouching1 e2crouching1 e1crouching2 e2crouching2 e3crouching2 e1standing1 e2standing1 e3standing1 e3standing3".split(" ").random()},crouchAll:function(){return["e3crouching1","e2crouching1","e1crouching1"].random()},ramboAll:function(){return["e3crouching1","e1standing2","e2standing2","e3standing2"].random()},standAll:function(){return"e1standing1 e2standing1 e3standing1 e1standing2 e2standing2 e3standing2 e3standing3".split(" ").random()},overAll:function(){return"e1standing1 e2standing1 e3standing1 e1standing2 e2standing2 e3standing2 e3standing3 e1crouching1 e2crouching1 e3crouching1 e1crouching2 e2crouching2 e3crouching2".split(" ").random()},
tutorialRoom1:function(){ig.game.gameStaged=!1;this.bg.resetVal(4);this.emptyClip();this.spawnEnemy(this.standAll(),610,440,0.44,320,!1,0,0);this.tut1_1=ig.game.spawnEntity(EntityTutorial,0,0,{tutorialCode:"tut1-1"})},tutorialRoom2:function(){this.bg.resetVal(1);this.cover=ig.game.spawnEntity(EntityCover,0,0,{etype:"r_boxstack",z:400,posx:0,posy:0,flipped:!1,forceSpawnHealthPack:!0});this.cover.setPos(329,487);this.cover.setScale(1,1);this.cover.spawnHitbox();this.spawnHostage("hostage3",710,570,
0.85,710,!1);this.hostageSpawned=!0;this.tut2_1=ig.game.spawnEntity(EntityTutorial,0,0,{tutorialCode:"tut2-1"});this.tut2_2=ig.game.spawnEntity(EntityTutorial,0,0,{tutorialCode:"tut2-2"})},tutorialRoom3:function(){this.bg.resetVal(4);this.tut3_1=ig.game.spawnEntity(EntityTutorial,0,0,{tutorialCode:"tut3-1"});this.spawnHostage("hostage3",590,550,0.79,640,!1);this.hostageSpawned=!0;this.spawnEnemy(this.crouchAll(),615,421,0.36,100,!0,0,20,"")},organize:function(){var b=4+Math.floor(ig.game.roomCount/
10),c=1+Math.floor(ig.game.roomCount/15),d=10+Math.floor(ig.game.roomCount/10),f=[!0,!1];this.hostageSpawned=!1;ig.game.gameStaged=!1;var e="";switch(this.bg.roomType){case 0:if(ig.game.rand(0,b))switch(ig.game.rand(0,1)){case 0:e=this.cover=this.spawnCover("mr_metalcontainer",461,416,1,200,!1);ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),450-ig.game.rand(0,5),410,0.16,100,!1,0,0,e):this.spawnEnemy(this.stCornerFar(),448-ig.game.rand(0,3),410,0.16,100,!1,0,0,e));ig.game.rand(0,
c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),572+ig.game.rand(0,5),402,0.12,100,!0,0,0,e):this.spawnEnemy(this.stCornerFar(),569+ig.game.rand(0,2),402,0.12,100,!0,0,0,e));break;case 1:e=this.cover=this.spawnCover("mr_bigmachine",531,416,0.45,200,!1),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),522-ig.game.rand(0,5),406,0.12,100,!1,0,0,e):this.spawnEnemy(this.stCornerFar(),520-ig.game.rand(0,3),406,0.12,100,!1,0,0,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),
572+ig.game.rand(0,5),402,0.12,100,!0,0,5,e):this.spawnEnemy(this.stCornerFar(),568+ig.game.rand(0,2),402,0.12,100,!0,0,5,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),803-ig.game.rand(0,5),398,0.12,100,!1,0,7,e):this.spawnEnemy(this.stCornerFar(),807-ig.game.rand(0,3),398,0.12,100,!1,0,7,e))}this.spawnEnemy(this.standAll(),650,398,0.12,120,f[ig.game.rand(0,1)],0,7);ig.game.rand(0,c)&&(ig.game.rand(0,c+d-Math.floor(ig.game.roomCount/2))?this.spawnEnemy(this.standAll(),
625-ig.game.rand(0,5),398,0.12,100,!1,0,7):(this.spawnEnemy("b1standing",625-ig.game.rand(0,5),398,0.12,100,!1,0,7),!this.hostageSpawned&&!ig.game.rand(0,3)&&(this.spawnHostage(this.hostageAll(),625-ig.game.rand(0,5),401,0.12,110,!1),this.hostageSpawned=!0)));this.randomSpawn(0,c,d,605,398,0.12,130,5,0,7);ig.game.rand(0,b)&&(e=this.cover=this.spawnCover("mr_pillar2",721,415,1,300,!1),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),711-ig.game.rand(0,5),405,0.13,200,!1,0,3,
e):this.spawnEnemy(this.stCornerFar(),707-ig.game.rand(0,2),405,0.13,200,!1,0,3,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),785+ig.game.rand(0,5),404,0.13,200,!0,0,3,e):this.spawnEnemy(this.stCornerFar(),789+ig.game.rand(0,3),404,0.13,200,!0,0,3,e)));if(ig.game.rand(0,b))switch(ig.game.rand(0,1)){case 0:e=this.cover=this.spawnCover("mr_bigmachine",202,460,1,500,!1);ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),175+ig.game.rand(0,5),440,0.33,
400,!1,0,10,e):this.spawnEnemy(this.stCornerFar(),165+ig.game.rand(0,3),440,0.33,400,!1,0,10,e));ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),280+ig.game.rand(0,5),440,0.33,400,!0,0,0,e):this.spawnEnemy(this.stCornerFar(),270+ig.game.rand(0,3),440,0.33,400,!0,0,0,e));ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),810+ig.game.rand(0,5),430,0.3,400,!1,0,5,e):this.spawnEnemy(this.stCornerFar(),800+ig.game.rand(0,3),430,0.3,400,!1,0,5,e));ig.game.rand(0,
c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),1060+ig.game.rand(0,5),440,0.34,400,!0,0,5,e):this.spawnEnemy(this.stCornerFar(),1045+ig.game.rand(0,3),440,0.34,400,!0,0,5,e));break;case 1:e=this.cover=this.spawnCover("mr_bigmachine",170,460,1,500,!0),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),145+ig.game.rand(0,5),440,0.35,400,!1,0,10,e):this.spawnEnemy(this.stCornerFar(),135+ig.game.rand(0,3),440,0.33,400,!1,0,10,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),
400+ig.game.rand(0,5),430,0.32,400,!0,0,0,e):this.spawnEnemy(this.stCornerFar(),470+ig.game.rand(0,3),430,0.32,400,!0,0,0,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),930+ig.game.rand(0,5),440,0.33,400,!1,0,0,e):this.spawnEnemy(this.stCornerFar(),920+ig.game.rand(0,3),440,0.33,400,!1,0,0,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),1040+ig.game.rand(0,5),448,0.36,400,!0,0,0,e):this.spawnEnemy(this.stCornerFar(),1045+ig.game.rand(0,3),448,
0.36,400,!0,0,0,e))}this.randomSpawn(0,c,d,650,440,0.33,410,5,0,0);this.randomSpawn(0,c,d,580,440,0.33,420,5,0,0);ig.game.rand(0,b)&&(e=this.cover=this.spawnCover("mr_pillar",333,504,1,700,!1),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),295-ig.game.rand(0,5),490,0.55,600,!1,0,5,e):this.spawnEnemy(this.stCornerFar(),305-ig.game.rand(0,3),490,0.55,600,!1,0,5,e)),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.overAll(),505-ig.game.rand(0,15),490,0.56,600,!0,0,
5,e):this.spawnEnemy(this.stCornerFar(),440-ig.game.rand(0,3),490,0.56,600,!0,0,5,e)));if(ig.game.rand(0,b))switch(ig.game.rand(0,1)){case 0:e=this.cover=this.spawnCover("mr_metalcrate",1040,549,1,800,!1);ig.game.rand(0,c)&&this.spawnEnemy(this.overAll(),1060+ig.game.rand(0,20),529,0.7,700,[!0,!1][ig.game.rand(0,1)],0,0,e);break;case 1:e=this.cover=this.spawnCover("mr_pillar",1040,549,1.1,800,!0),ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),1E3-ig.game.rand(0,20),529,0.7,700,!1,0,0,e)}this.randomSpawn(0,
c,d,850,529,0.7,710,20,0,0);this.randomSpawn(0,c,d,700,529,0.7,720,20,0,0);1==ig.game.roomCount&&!this.hostageSpawned?(this.spawnHostage(this.hostageAll(),590,529,0.7,730,!1),this.hostageSpawned=!0):this.randomSpawn(0,c,d,590,529,0.7,730,20,0,0);break;case 1:if(ig.game.rand(0,b))ig.game.rand(0,b)&&(e=this.cover=this.spawnCover("r_locker",465,419,1,200,!1),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),515+ig.game.rand(0,5),407,0.35,100,!0,0,10,e):this.spawnEnemy(this.stCornerFar(),
505+ig.game.rand(0,3),407,0.35,100,!0,0,10,e))),ig.game.rand(0,b)&&(this.spawnCover("r_bookshelf",746,441,1,200,!1),ig.game.rand(0,b)&&this.spawnCover("r_woodencrate",680,441,1,210,!1),ig.game.rand(0,c)&&(ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),715-ig.game.rand(0,5),417,0.38,100,!1,0,0,e):this.spawnEnemy(this.stCornerFar(),705-ig.game.rand(0,5),417,0.38,100,!1,0,0,e))),this.randomSpawn(0,c,d,620,407,0.35,110,5,0,10);else{var g="cornerBoth";switch(ig.game.rand(0,14)){case 0:e=this.cover=
this.spawnCover("r_locker",470,419,1,200,!1);break;case 1:e=this.cover=this.spawnCover("h2_shelf3",465,419,0.55,200,!1);break;case 2:e=this.cover=this.spawnCover("h1_boxstack",465,419,0.9,200,!0);break;case 6:case 3:e=this.cover=this.spawnCover("h1_rack2",465,419,0.5,200,!1);break;case 4:e=this.cover=this.spawnCover("h2_shelf2",470,419,0.5,200,!0);break;case 5:case 7:e=this.cover=this.spawnCover("r_woodencrate",475,419,0.9,200,!0);g="cornerLow";break;case 8:e=this.cover=this.spawnCover("r_boxstack",
465,419,0.5,200,!1);break;case 9:e=this.cover=this.spawnCover("hr_rack2",465,419,0.8,200,!1);g="standing";break;case 10:e=this.cover=this.spawnCover("h1_rack1",465,419,0.35,200,!0);g="standing";break;case 11:e=this.cover=this.spawnCover("h2_shelf",468,419,0.35,200,!1);g="standing";break;case 12:e=this.cover=this.spawnCover("r_biglocker",470,419,0.4,200,!0);g="standing";break;default:e="",g="none"}if(ig.game.rand(0,c))switch(g){case "standing":this.spawnEnemy(this.standAll(),565+ig.game.rand(0,5),
402,0.33,100,!0,0,15,e);break;case "cornerLow":this.spawnEnemy(this.cornerAll(),525+ig.game.rand(0,5),402,0.33,100,!0,0,15,e);break;case "cornerBoth":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),525+ig.game.rand(0,5),402,0.33,100,!0,0,15,e):this.spawnEnemy(this.stCornerFar(),515+ig.game.rand(0,3),402,0.33,100,!0,0,15,e)}this.randomSpawn(0,c,d,620,402,0.33,110,5,0,20);g="cornerBoth";switch(ig.game.rand(0,12)){case 6:case 0:e=this.cover=this.spawnCover("r_bookshelf",746,441,1,200,!1);this.spawnCover("r_woodencrate",
680,441,1,210,!1);break;case 1:e=this.cover=this.spawnCover("h2_shelf3",715,441,0.65,200,!0);break;case 2:e=this.cover=this.spawnCover("h1_boxstack",765,441,1,200,!1);g="cornerLow";break;case 3:e=this.cover=this.spawnCover("h1_rack2",745,441,0.65,200,!0);break;case 4:e=this.cover=this.spawnCover("h2_shelf2",753,441,0.65,200,!1);break;case 7:e=this.cover=this.spawnCover("r_woodencrate",721,441,1.4,200,!1);g="standing";break;case 8:e=this.cover=this.spawnCover("r_biglocker",730,441,0.5,200,!1);break;
case 9:e=this.cover=this.spawnCover("r_boxstack",745,441,0.8,200,!0);break;case 5:case 10:e=this.cover=this.spawnCover("hr_rack2",680,441,1,200,!0);g="standing";break;default:e="",g="cornerLow"}if(ig.game.rand(0,c))switch(g){case "standing":this.spawnEnemy(this.standAll(),715-ig.game.rand(0,5),417,0.36,100,!1,0,10,e);break;case "cornerLow":this.spawnEnemy(this.cornerAll(),715-ig.game.rand(0,5),417,0.36,100,!1,0,10,e);break;case "cornerBoth":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),715-
ig.game.rand(0,5),417,0.36,100,!1,0,10,e):this.spawnEnemy(this.stCornerFar(),705-ig.game.rand(0,5),417,0.36,100,!1,0,10,e)}}g="cornerBoth";switch(ig.game.rand(0,9)){case 0:e=this.cover=this.spawnCover("r_boxstack",329,487,1,400,!1);break;case 1:e=this.cover=this.spawnCover("r_locker",329,487,1.5,400,!1);g="cornerLow";break;case 6:case 2:e=this.cover=this.spawnCover("hr_rack2",329,487,1.2,400,!1);break;case 3:e=this.cover=this.spawnCover("h1_boxstack",329,487,1.2,400,!0);g="cornerLow";break;case 4:e=
this.cover=this.spawnCover("h1_rack2",329,487,0.9,400,!1);break;case 5:e=this.cover=this.spawnCover("h2_shelf2",329,487,0.9,400,!0);break;case 7:e=this.cover=this.spawnCover("r_biglocker",329,487,0.7,400,!0);break;default:e="",g="standing"}if(ig.game.rand(0,c))switch(g){case "standing":this.spawnEnemy(this.standAll(),430+ig.game.rand(0,15),447,0.48,300,!0,0,20,e);break;case "cornerLow":this.spawnEnemy(this.cornerAll(),430+ig.game.rand(0,15),447,0.48,300,!0,0,20,e);break;case "cornerBoth":ig.game.rand(0,
50)?this.spawnEnemy(this.cornerAll(),430+ig.game.rand(0,15),447,0.48,300,!0,0,20,e):this.spawnEnemy(this.stCornerFar(),415+ig.game.rand(0,15),447,0.48,300,!0,0,20,e)}1==ig.game.roomCount&&!this.hostageSpawned?(this.spawnHostage(this.hostageAll(),650,465,0.52,410,!1),this.hostageSpawned=!0):this.randomSpawn(0,c,d,650,465,0.52,410,15,0,20);this.randomSpawn(0,c,d,550,465,0.52,420,15,0,0);this.randomSpawn(0,c,d,710,570,0.85,710,15,0,0);this.spawnEnemy(this.standAll(),555,570,0.85,720,f.random(),0,0);
if(ig.game.rand(0,b))e=this.cover=this.spawnCover("r_tabletv",852,518,1,500,!1),ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),820-ig.game.rand(0,15),465,0.52,400,!1,0,20,e),e=this.cover=this.spawnCover("r_couch",355,541,1,600,!1),ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),325-ig.game.rand(0,15),510,0.68,500,!1,0,30,e),ig.game.rand(0,b)&&(e=this.cover=this.spawnCover("r_biglocker",949,606,1,800,!1),ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),939-ig.game.rand(0,15),570,0.85,700,
!1,0,20,e));else{ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),820-ig.game.rand(0,15),465,0.52,400,!1,0,20);switch(ig.game.rand(0,6)){case 0:this.spawnCover("r_tabletv",852,518,1,500,!1);break;case 1:this.spawnCover("h1_boxstack",872,518,1.5,500,!1);break;case 2:this.spawnCover("r_locker",882,518,1.8,500,!0);break;case 3:this.spawnCover("h2_shelf2",862,518,1,500,!1);break;case 4:this.spawnCover("r_biglocker",805,518,0.82,500,!1);break;case 5:this.spawnCover("r_boxstack",875,518,1,500,!0)}ig.game.rand(0,
c)&&this.spawnEnemy(this.cornerAll(),325-ig.game.rand(0,15),511,0.68,500,!1,-5,30);switch(ig.game.rand(0,2)){case 0:this.spawnCover("r_couch",355,541,1,600,!1);break;case 1:this.spawnCover("r_woodencrate",355,541,1.7,600,!0);break;case 2:this.spawnCover("r_boxstack",355,541,1,600,!1)}ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),919-ig.game.rand(0,15),570,0.85,700,!1,0,20);switch(ig.game.rand(0,2)){case 0:this.spawnCover("r_biglocker",949,606,1,800,!1);break;case 1:this.spawnCover("hr_rack1",
949,606,1,800,!1)}}if(ig.game.rand(0,b))switch(ig.game.rand(0,3)){case 0:this.spawnCover("r_box",117,581,1,800,!1);break;case 1:this.spawnCover("r_woodencrate",147,581,1.5,800,!0);break;case 2:this.spawnCover("hr_box",187,581,1.5,800,!0);break;case 3:this.spawnCover("hr_box",187,581,1.5,800,!1)}break;case 2:switch(ig.game.rand(0,3)){case 0:this.spawnCover("h2_box",600,400,1,100,!0);break;case 1:this.spawnCover("hr_box2",600,400,0.4,100,!0);break;case 2:this.spawnCover("hr_boxstack",595,405,0.2,100,
!0)}this.randomSpawn(0,c,d,650,403,0.125,150,5,0,5);this.spawnEnemy(this.standAll(),620,403,0.125,160,f[ig.game.rand(0,1)],0,5);e=this.cover=this.spawnCover("h1_door",695,426,1,300,!1);ig.game.rand(0,b)?this.spawnEnemy(this.cornerAll(),685-ig.game.rand(0,15),423,0.23,200,!1,0,10,e):this.spawnEnemy(this.stCornerFar(),675-ig.game.rand(0,15),423,0.23,200,!1,0,10,e);this.spawnCover("h1_boxstack",708,445,0.63,310,!1);ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),580+ig.game.rand(0,15),433,0.27,400,
!0,0,0);switch(ig.game.rand(0,16)){case 13:case 14:this.spawnCover("h1_rack2",510,450,0.5,500,!1);break;case 9:case 1:case 2:this.spawnCover("hr_rack2",505,450,0.7,500,!1);break;case 8:case 3:this.spawnCover("h1_boxstack",505,450,0.8,500,!0);break;case 4:this.spawnCover("h1_rack1",505,450,0.35,500,!0);break;case 0:case 5:this.spawnCover("r_locker",505,450,1,500,!1);break;case 6:this.spawnCover("h2_shelf2",505,450,0.5,500,!0);break;case 7:this.spawnCover("h2_shelf",505,450,0.35,500,!1);break;case 10:this.spawnCover("r_woodencrate",
510,450,1,500,!0);break;case 11:this.spawnCover("r_biglocker",505,450,0.4,500,!0);break;case 12:this.spawnCover("h2_shelf3",505,450,0.52,500,!1)}ig.game.rand(0,c)&&this.spawnEnemy(this.cornerAll(),690-ig.game.rand(0,5),458,0.38,600,!1,20,20);this.randomSpawn(0,c,d,550,468,0.4,610,5,0,10);this.randomSpawn(0,c,d,450,518,0.6,710,5,0,0);this.randomSpawn(0,c,d,700,528,0.625,720,5,0,10);1==ig.game.roomCount&&!this.hostageSpawned?(this.spawnHostage(this.hostageAll(),800,528,0.635,730,!1),this.hostageSpawned=
!0):this.randomSpawn(0,c,d,800,528,0.635,730,5,0,20);this.randomSpawn(0,c,d,1100,658,1.2,910,5,0,60);this.randomSpawn(0,c,d,100,658,1.2,920,5,0,60);switch(ig.game.rand(0,16)){case 3:case 14:this.spawnCover("h1_boxstack",738,478,1,700,!1);break;case 7:case 0:case 1:this.spawnCover("h1_rack1",750,478,0.5,700,!1);break;case 13:case 4:this.spawnCover("r_locker",728,478,1.3,700,!0);break;case 5:this.spawnCover("h2_shelf2",715,478,0.7,700,!1);break;case 6:this.spawnCover("h2_shelf",760,478,0.45,700,!0);
break;case 9:this.spawnCover("r_woodencrate",720,488,1.45,700,!1);break;case 2:case 10:this.spawnCover("r_biglocker",685,485,0.6,700,!1);break;case 8:case 11:this.spawnCover("h1_rack2",713,478,0.68,700,!0);break;case 12:this.spawnCover("h2_shelf3",672,478,0.72,700,!0)}ig.game.rand(0,b)&&this.spawnCover("h1_rack1",940,615,1,900,!1);break;case 3:if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,13)){case 0:e=this.cover=this.spawnCover("h2_shelf3",558,421,0.32,200,!1);g="cbothfar";break;case 1:e=
this.cover=this.spawnCover("h1_boxstack",558,421,0.5,200,!0);g="cbothnear";break;case 2:e=this.cover=this.spawnCover("h1_rack1",558,421,0.2,200,!0);g="clowfar";break;case 8:case 3:e=this.cover=this.spawnCover("hr_rack2",558,421,0.4,200,!1);g="cbothfar";break;case 4:e=this.cover=this.spawnCover("h2_column",558,421,0.62,200,!0);g="cbothnear";break;case 5:e=this.cover=this.spawnCover("r_locker",558,421,0.62,200,!1);g="cbothnear";break;case 6:e=this.cover=this.spawnCover("h2_shelf2",558,421,0.3,200,!0);
g="cbothnear";break;case 7:e=this.cover=this.spawnCover("h2_shelf",558,421,0.2,200,!1);g="clownear";break;case 9:e=this.cover=this.spawnCover("hr_table",558,421,0.3,200,!1);g="clowfar";break;case 10:e=this.cover=this.spawnCover("r_woodencrate",558,421,0.6,200,!0);g="clownear";break;case 11:e=this.cover=this.spawnCover("r_biglocker",558,421,0.25,200,!0);g="cbothfar";break;case 11:e=this.cover=this.spawnCover("h1_rack2",558,421,0.3,200,!1);g="cbothfar";break;default:e=""}switch(g){case "cbothfar":ig.game.rand(0,
50)?this.spawnEnemy(this.cornerAll(),605+ig.game.rand(0,5),405,0.13,100,!0,0,5,e):this.spawnEnemy(this.stCornerFar(),595+ig.game.rand(0,5),405,0.13,100,!0,0,5,e);break;case "clowfar":this.spawnEnemy(this.cornerAll(),605+ig.game.rand(0,5),405,0.13,100,!0,0,5,e);break;case "cbothnear":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),595+ig.game.rand(0,5),405,0.13,100,!0,0,5,e):this.spawnEnemy(this.stCornerFar(),585+ig.game.rand(0,5),405,0.13,100,!0,0,5,e);break;case "clownear":this.spawnEnemy(this.cornerAll(),
595+ig.game.rand(0,5),405,0.13,100,!0,0,5,e)}}if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,13)){case 0:e=this.cover=this.spawnCover("h2_shelf3",663,449,0.5,400,!0);g="cbothnear";break;case 1:e=this.cover=this.spawnCover("h1_boxstack",700,449,0.8,400,!1);g="cbothnear";break;case 8:case 2:e=this.cover=this.spawnCover("h1_rack1",720,449,0.35,400,!1);g="clownear";break;case 3:e=this.cover=this.spawnCover("hr_rack2",637,449,0.75,400,!0);g="cbothfar";break;case 4:e=this.cover=this.spawnCover("h1_rack2",
690,449,0.5,400,!0);g="cbothnear";break;case 5:e=this.cover=this.spawnCover("r_locker",700,449,1,400,!0);g="cbothnear";break;case 6:e=this.cover=this.spawnCover("h2_shelf2",693,449,0.5,400,!1);g="cbothnear";break;case 7:e=this.cover=this.spawnCover("h2_shelf",720,449,0.35,400,!0);g="clownear";break;case 9:e=this.cover=this.spawnCover("hr_table",693,449,0.48,400,!0);g="clownear";break;case 10:e=this.cover=this.spawnCover("r_woodencrate",693,449,0.9,400,!1);g="clownear";break;case 11:e=this.cover=this.spawnCover("r_biglocker",
685,449,0.35,400,!1);g="cbothnear";break;default:e=""}switch(g){case "cbothnear":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),680-ig.game.rand(0,0),422,0.23,300,!1,0,10,e):this.spawnEnemy(this.stCornerFar(),670-ig.game.rand(0,0),422,0.23,300,!1,0,10,e);break;case "clownear":this.spawnEnemy(this.cornerAll(),680-ig.game.rand(0,0),422,0.23,300,!1,0,10,e);break;case "cbothfar":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),670-ig.game.rand(0,0),422,0.23,300,!1,0,10,e):this.spawnEnemy(this.stCornerFar(),
660-ig.game.rand(0,0),422,0.23,300,!1,0,10,e);break;case "clowfar":this.spawnEnemy(this.cornerAll(),670-ig.game.rand(0,0),422,0.23,300,!1,0,10,e)}}e=this.cover=this.spawnCover("h2_door",471,466,1,500,!1);ig.game.rand(0,b)?this.spawnEnemy(this.cornerAll(),500+ig.game.rand(0,0),461,0.41,400,!0,20,15,e):this.spawnEnemy(this.stCornerFar(),480+ig.game.rand(0,0),461,0.41,400,!0,20,15,"");if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,11)){case 0:e=this.cover=this.spawnCover("h2_shelf2",787,540,1,
600,!1);g="cbothnear";break;case 1:e=this.cover=this.spawnCover("h2_shelf3",710,540,1.1,600,!0);g="cbothfar";break;case 7:case 2:e=this.cover=this.spawnCover("h1_rack2",740,540,1.1,600,!0);g="clownear";break;case 6:case 3:e=this.cover=this.spawnCover("h1_boxstack",787,540,1.3,600,!1);g="cbothnear";break;case 4:e=this.cover=this.spawnCover("h1_rack1",835,540,0.7,600,!1);g="clowfar";break;case 5:e=this.cover=this.spawnCover("h2_shelf",830,540,0.78,600,!0);g="clownear";break;case 8:e=this.cover=this.spawnCover("r_woodencrate",
780,540,1.5,600,!1);g="clownear";break;case 9:e=this.cover=this.spawnCover("r_biglocker",729,540,0.85,600,!1);g="cbothfar";break;default:e=""}switch(g){case "cbothnear":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),757-ig.game.rand(0,5),502,0.59,500,!1,0,20,e):this.spawnEnemy(this.stCornerFar(),747-ig.game.rand(0,5),495,0.59,500,!1,0,20,e);break;case "clownear":this.spawnEnemy(this.cornerAll(),757-ig.game.rand(0,5),495,0.59,500,!1,-20,20,e);break;case "cbothfar":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),
727-ig.game.rand(0,5),495,0.59,500,!1,0,20,e):this.spawnEnemy(this.stCornerFar(),717-ig.game.rand(0,5),495,0.59,500,!1,0,20,e);break;case "clowfar":this.spawnEnemy(this.cornerAll(),727-ig.game.rand(0,5),495,0.59,500,!1,-20,20,e)}}if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,12)){case 0:e=this.cover=this.spawnCover("h2_shelf",224,594,1,700,!1);g="cbothnear";break;case 1:e=this.cover=this.spawnCover("h2_shelf2",224,594,1.3,700,!0);g="cbothfar";break;case 2:e=this.cover=this.spawnCover("h1_boxstack",
224,594,1.6,700,!0);g="clownear";break;case 7:case 3:e=this.cover=this.spawnCover("h1_rack1",224,594,0.9,700,!0);g="clowfar";break;case 8:case 4:e=this.cover=this.spawnCover("h1_rack2",224,594,1.3,700,!1);g="cbothfar";break;case 5:e=this.cover=this.spawnCover("h2_shelf3",224,594,1.4,700,!1);g="cbothfar2";break;case 6:e=this.cover=this.spawnCover("h2_shelf",224,594,1.05,700,!1);g="clowfar";break;case 9:e=this.cover=this.spawnCover("r_woodencrate",234,594,1.75,700,!0);g="clownear";break;case 10:e=this.cover=
this.spawnCover("r_biglocker",224,594,1.05,700,!0);g="cbothfar2";break;default:e=""}switch(g){case "cbothnear":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),324+ig.game.rand(0,0),530,0.7,600,!0,50,30,e):this.spawnEnemy(this.stCornerFar(),314+ig.game.rand(0,0),530,0.7,600,!0,50,30,e);break;case "clownear":this.spawnEnemy(this.cornerAll(),324+ig.game.rand(0,0),530,0.7,600,!0,50,30,e);break;case "cbothfar":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),354+ig.game.rand(0,0),530,0.7,600,!0,
0,30,e):this.spawnEnemy(this.stCornerFar(),344+ig.game.rand(0,0),530,0.7,600,!0,0,30,e);break;case "clowfar":this.spawnEnemy(this.cornerAll(),354+ig.game.rand(0,0),530,0.7,600,!0,50,20,e);break;case "cbothfar2":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),394+ig.game.rand(0,0),530,0.7,600,!0,0,30,e):this.spawnEnemy(this.stCornerFar(),334+ig.game.rand(0,0),530,0.7,600,!0,0,30,e);break;case "clowfar2":this.spawnEnemy(this.cornerAll(),394+ig.game.rand(0,0),530,0.7,600,!0,0,30,e)}}1==ig.game.roomCount&&
!this.hostageSpawned?(this.spawnHostage(this.hostageAll(),625,400,0.11,110,!1),this.hostageSpawned=!0):this.randomSpawn(0,c,d,625,400,0.11,110,5,0,5);this.randomSpawn(0,c,d,655,402,0.13,120,5,0,5);ig.game.rand(0,c+d-Math.floor(ig.game.roomCount/2))?this.randomSpawn(0,c,d,620,427,0.24,310,5,0,0):this.spawnEnemy("b1standing",620-ig.game.rand(0,5),427,0.25,310,!1,0,10);ig.game.rand(0,d)&&!this.hostageSpawned&&(this.spawnHostage(this.hostageAll(),620+ig.game.rand(0,5),432,0.25,320,f[ig.game.rand(0,1)]),
this.hostageSpawned=!0);this.randomSpawn(0,c,d,1100,688,1.2,910,5,0,90);this.randomSpawn(0,c,d,50,688,1.2,920,5,0,90);break;case 4:ig.game.rand(0,b)&&this.spawnCover("hr_box2",765,421,1,200,!1);if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,14)){case 0:e=this.cover=this.spawnCover("hr_rack2",427,444,1,200,!1);g="standlowd0";break;case 1:e=this.cover=this.spawnCover("h2_shelf3",427,444,0.7,200,!1);g="cbothd1";break;case 2:e=this.cover=this.spawnCover("h1_boxstack",427,444,1.1,200,!0);g="cbothd2";
break;case 3:e=this.cover=this.spawnCover("h1_rack1",427,444,0.5,200,!0);g="clowd1";break;case 8:case 4:e=this.cover=this.spawnCover("h1_rack2",427,444,0.7,200,!1);g="cbothd1";break;case 5:e=this.cover=this.spawnCover("r_locker",427,444,1.2,200,!1);g="cbothd2";break;case 6:e=this.cover=this.spawnCover("h2_shelf2",427,444,0.6,200,!0);g="cbothd2";break;case 7:e=this.cover=this.spawnCover("h2_shelf",427,444,0.45,200,!1);g="standlowd2";break;case 9:e=this.cover=this.spawnCover("hr_table",427,444,0.6,
200,!1);g="standlowd0";break;case 10:e=this.cover=this.spawnCover("r_woodencrate",437,444,1.3,200,!0);g="clowd1";break;case 11:e=this.cover=this.spawnCover("r_biglocker",424,444,0.5,200,!0);g="cbothd2";break;case 12:e=this.cover=this.spawnCover("r_boxstack",424,444,0.8,200,!1);g="cbothd1";break;default:e=""}switch(g){case "standlowd0":this.spawnEnemy(this.standAll(),547+ig.game.rand(0,5),421,0.36,100,!0,0,20,e);break;case "standlowd1":this.spawnEnemy(this.standAll(),517+ig.game.rand(0,5),421,0.36,
100,!0,0,20,e);break;case "standlowd2":this.spawnEnemy(this.standAll(),502+ig.game.rand(0,5),421,0.36,100,!0,0,20,e);break;case "cbothd1":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),517+ig.game.rand(0,5),421,0.36,100,!0,0,20,e):this.spawnEnemy(this.stCornerFar(),497+ig.game.rand(0,5),421,0.36,100,!0,0,20,e);break;case "cbothd2":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),502+ig.game.rand(0,5),421,0.36,100,!0,0,20,e):this.spawnEnemy(this.stCornerFar(),482+ig.game.rand(0,5),421,0.36,
100,!0,0,20,e);break;case "clowd1":this.spawnEnemy(this.standAll(),517+ig.game.rand(0,5),421,0.36,100,!0,0,20,e)}}if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,15)){case 0:case 1:e=this.cover=this.spawnCover("hr_rack2",740,492,1.2,400,!0);g="clowd1";break;case 2:e=this.cover=this.spawnCover("h2_shelf3",777,492,0.8,400,!0);g="cbothd1";break;case 6:case 3:e=this.cover=this.spawnCover("h1_boxstack",830,492,1.2,400,!1);g="cbothd1";break;case 13:case 4:e=this.cover=this.spawnCover("h1_rack1",840,
492,0.6,400,!1);g="clowd2";break;case 10:case 5:e=this.cover=this.spawnCover("h1_rack2",790,492,0.9,400,!0);g="cbothd2";break;case 7:e=this.cover=this.spawnCover("h2_shelf2",807,492,0.9,400,!1);g="cbothd1";break;case 8:e=this.cover=this.spawnCover("h2_shelf",837,492,0.6,400,!0);g="clowd1";break;case 9:e=this.cover=this.spawnCover("hr_table",790,492,0.9,400,!0);g="clowd2";break;case 11:e=this.cover=this.spawnCover("r_biglocker",770,492,0.7,400,!1);g="cbothd2";break;case 12:e=this.cover=this.spawnCover("r_tabletv",
790,492,0.75,400,!1);g="cbothd2";break;default:e=""}switch(g){case "cbothd0":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),812-ig.game.rand(0,5),440,0.44,300,!1,0,20,e):this.spawnEnemy(this.stCornerFar(),782-ig.game.rand(0,5),440,0.44,300,!1,0,20,e);break;case "cbothd1":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),782-ig.game.rand(0,5),440,0.44,300,!1,0,20,e):this.spawnEnemy(this.stCornerFar(),782-ig.game.rand(0,5),440,0.44,300,!1,0,20,e);break;case "cbothd2":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),
752-ig.game.rand(0,5),440,0.44,300,!1,0,20,e):this.spawnEnemy(this.stCornerFar(),752-ig.game.rand(0,5),440,0.44,300,!1,0,20,e);break;case "clowd1":this.spawnEnemy(this.cornerAll(),782-ig.game.rand(0,5),440,0.44,300,!1,0,20,e);break;case "clowd2":this.spawnEnemy(this.cornerAll(),752-ig.game.rand(0,5),440,0.44,300,!1,0,20,e)}}this.randomSpawn(0,c,d,675,440,0.44,310,5,0,0);this.spawnEnemy(this.standAll(),610,440,0.44,320,f[ig.game.rand(0,1)],0,0);1==ig.game.roomCount&&!this.hostageSpawned?(this.spawnHostage(this.hostageAll(),
540,535,0.79,630,!1),this.hostageSpawned=!0):this.randomSpawn(0,c,d,540,535,0.79,630,5,0,0);this.hostageSpawned||(this.spawnHostage(this.hostageAll(),590+ig.game.rand(0,5),550,0.79,640,f[ig.game.rand(0,1)]),this.hostageSpawned=!0);this.randomSpawn(0,c,d,660,535,0.79,620,5,0,0);if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,14)){case 1:case 2:e=this.cover=this.spawnCover("hr_rack2",243,530,1.5,400,!1);g="cbothd0";break;case 3:e=this.cover=this.spawnCover("h2_shelf3",243,530,1,400,!1);g="cbothd0";
break;case 0:case 4:e=this.cover=this.spawnCover("h1_rack1",243,530,0.75,400,!0);g="clowd0";break;case 5:case 6:e=this.cover=this.spawnCover("h1_rack2",253,530,0.95,400,!1);g="cbothd1";break;case 7:e=this.cover=this.spawnCover("r_locker",243,530,1.65,400,!1);g="cbothd1";break;case 8:e=this.cover=this.spawnCover("h2_shelf2",241,530,1,400,!0);g="clowd0";break;case 9:e=this.cover=this.spawnCover("r_woodencrate",283,530,1.6,400,!1);g="clowd1";break;case 10:e=this.cover=this.spawnCover("r_biglocker",240,
530,0.7,400,!0);g="cbothd1";break;case 11:e=this.cover=this.spawnCover("r_tabletv",240,530,0.9,400,!0);g="clowd0";break;case 12:e=this.cover=this.spawnCover("r_boxstack",243,530,1,400,!1);g="clowd0";break;default:e=""}switch(g){case "cbothd0":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),383-ig.game.rand(0,5),470,0.55,300,!0,0,30,e):this.spawnEnemy(this.stCornerFar(),383-ig.game.rand(0,5),470,0.55,300,!0,0,30,e);break;case "cbothd1":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),333-ig.game.rand(0,
5),490,0.58,300,!0,0,30,e):this.spawnEnemy(this.stCornerFar(),333-ig.game.rand(0,5),490,0.58,300,!0,0,30,e);break;case "clowd0":this.spawnEnemy(this.cornerAll(),383-ig.game.rand(0,5),470,0.55,300,!0,45,30,e);break;case "clowd1":this.spawnEnemy(this.cornerAll(),333-ig.game.rand(0,5),490,0.58,300,!0,0,30,e)}}if(ig.game.rand(0,b)){g="none";switch(ig.game.rand(0,7)){case 2:case 0:e=this.cover=this.spawnCover("hr_rack1",960,610,1,700,!1);g="clowd0";break;case 1:e=this.cover=this.spawnCover("hr_table",
980,610,1.3,700,!0);g="clowd0";break;case 3:e=this.cover=this.spawnCover("r_woodencrate",980,610,2.5,700,!1);g="clowd0";break;case 4:e=this.cover=this.spawnCover("r_biglocker",910,610,1.1,700,!1);g="cbothd0";break;case 5:e=this.cover=this.spawnCover("r_tabletv",988,610,1.2,700,!1);g="clowd0";break;case 6:e=this.cover=this.spawnCover("r_boxstack",1010,610,1.3,700,!0);g="clowd0";break;default:e=""}switch(g){case "clowd0":this.spawnEnemy(this.cornerAll(),900-ig.game.rand(0,0),535,0.79,600,!1,0,30,e);
break;case "cbothd0":ig.game.rand(0,50)?this.spawnEnemy(this.cornerAll(),900-ig.game.rand(0,0),535,0.79,600,!1,0,30,e):this.spawnEnemy(this.stCornerFar(),870-ig.game.rand(0,0),535,0.79,600,!1,0,30,e)}}}},cleanup:function(){for(var b=ig.game.getEntitiesByType(EntityCover),c=0;c<b.length;c++)b[c].fade=!0},update:function(){if(!ig.global.wm){if(ig.ua.mobile){if(this.mpointer.isPressed){this.dragged||this.dragTimer.set();this.dragged=!0;var b=this.mpointer.last.x,c=this.mpointer.last.y,d=this.mpointer.pos.x,
f=this.mpointer.pos.y;0<Math.sqrt((b-d)*(b-d)+(c-f)*(c-f))&&(this.ptrReset?this.ptrReset=!1:this.crosshair.reposRel((d-b)*ig.game.tsens,(f-c)*ig.game.tsens))}this.mpointer.isReleased&&(this.dragTimer.delta()<=ig.game.misclickDelta&&(this.crosshair.touching&&this.crosshair.touches(this.crosshair.touching)?this.gun.fire(this.crosshair.touching):this.gun.fire(this)),this.dragged=!1,this.ptrReset=!0)}ig.ua.mobile||this.crosshair.reposAbs(this.pointer.pos.x,this.pointer.pos.y+0);340>=this.pointer.pos.y?
(380>=this.pointer.pos.x?(this.gun.reposAbs(this.crosshair.pos.x+200,this.crosshair.pos.y+95),this.gun.flipX(!1)):(this.gun.reposAbs(this.crosshair.pos.x-464-200,this.crosshair.pos.y+95),this.gun.flipX(!0)),this.gun.pointDown(!1)):(380>=this.pointer.pos.x?(this.gun.reposAbs(this.crosshair.pos.x+200,this.crosshair.pos.y-200),this.gun.flipX(!1)):(this.gun.reposAbs(this.crosshair.pos.x-464-200,this.crosshair.pos.y-200),this.gun.flipX(!0)),this.gun.pointDown(!0));1.2<=this.checkTimer.delta()&&(ig.game.gameStaged=
!0,ig.game.showTutorial?1==ig.game.roomCount&&!this.resetting?ig.game.tutorial1Passed?(this.transitioning=this.resetting=!0,this.cleanup()):1<=ig.game.ach.reloaded&&1<=ig.game.ach.shotFired&&1<=ig.game.ach.enemyKilled+ig.game.ach.enemyDisarmed&&(ig.game.tutorial1Passed=!0):2==ig.game.roomCount&&!this.resetting?ig.game.tutorial2Passed?(this.transitioning=this.resetting=!0,this.cleanup()):1<=ig.game.ach.healthPackCollected&&1<=ig.game.ach.hostageRescued&&(ig.game.tutorial2Passed=!0):3==ig.game.roomCount&&
!this.resetting&&(ig.game.tutorial3Passed?(this.transitioning=this.resetting=!0,this.cleanup()):2<=ig.game.ach.enemyKilled+ig.game.ach.enemyDisarmed&&(ig.game.tutorial3Passed=!0)):(b=ig.game.getEntitiesByType(EntityEnemy),c=ig.game.getEntitiesByType(EntityHostage),0>=b.length&&0>=c.length&&!this.resetting&&(this.transitioning=this.resetting=!0,this.cleanup())),this.checkTimer.set());ig.input.released("submit")&&(this.exitRoom=!0);this.transitioning&&0>=ig.game.getEntitiesByType(EntityCover).length&&
(this.tr=ig.game.spawnEntity(EntityTransition,this.bg.pos.x,this.bg.pos.y),this.transitioning=!1,ig.game.sortEntitiesDeferred());this.parent()}},ready:function(){ig.ua.mobile?(this.pointer=ig.game.getEntitiesByType(EntityCrosshair)[0],this.mpointer=ig.game.getEntitiesByType(EntityPointer)[0]):this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},clicked:function(){ig.ua.mobile||this.gun.fire(this);ig.game.sortEntitiesDeferred()},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.levels.gameplay").requires("impact.image","game.entities.gameplay-control").defines(function(){LevelGameplay={entities:[{type:"EntityGameplayControl",x:0,y:0}],layer:[]}});ig.baked=!0;
ig.module("game.entities.gameover-control").requires("impact.entity").defines(function(){EntityGameoverControl=ig.Entity.extend({gravityFactor:0,type:ig.Entity.TYPE.B,zIndex:1,size:{x:0,y:0},gameOverAlpha:0,gameOverY:0.5,statAlpha:0,bgAlpha:0,ashBackground:new ig.AnimationSheet("media/graphics/game/misc/backdrop.png",640,480),buttonWorks:!1,fadeOut:!1,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(ig.game.spawnEntity(EntityPointer,640,480,{control:this}),this.ranked=!1,this.currRank=0,this.rankFading=
!1,this.rankAlpha=0,this.anims.bg=new ig.Animation(this.ashBackground,0.5,[0]),this.currentAnim=this.anims.bg,this.currentAnim.alpha=this.bgAlpha,ig.ua.mobile||(this.crosshair=ig.game.spawnEntity(EntityCrosshair,640,480,{control:this}),this.crosshair.setScale(0.2,0.2),this.crosshair.updateOffset()),this.hostageIcon1=ig.game.spawnEntity(EntityHostageDisplay,392.32,120.72,{showCount:!1}),this.hostageIcon2=ig.game.spawnEntity(EntityHostageDisplay,392.32,171.72,{showCount:!1}),this.hostageIcon3=ig.game.spawnEntity(EntityHostageDisplay,
392.32,222.72,{showCount:!1}),this.hostageIcon4=ig.game.spawnEntity(EntityHostageDisplay,392.32,273.72,{showCount:!1}),this.hostageIcon5=ig.game.spawnEntity(EntityHostageDisplay,392.32,324.72,{showCount:!1}),this.hostageIcon1.setScale(0.3,0.3),this.hostageIcon2.setScale(0.3,0.3),this.hostageIcon3.setScale(0.3,0.3),this.hostageIcon4.setScale(0.3,0.3),this.hostageIcon5.setScale(0.3,0.3),this.hostageIcon1.currentAnim.alpha=0,this.hostageIcon2.currentAnim.alpha=0,this.hostageIcon3.currentAnim.alpha=0,
this.hostageIcon4.currentAnim.alpha=0,this.hostageIcon5.currentAnim.alpha=0)},update:function(){ig.global.wm||(this.pointer&&!ig.ua.mobile&&this.crosshair.reposAbs(this.pointer.pos.x,this.pointer.pos.y),this.parent())},ready:function(){this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},getTitle:function(b,c){var d="",d=ig.game.ach,f=_STRINGS.Title,e=0;0<d.headShot&&(e=100*(d.headShot/d.shotFired));var g=0;0<d.crotchShot&&(g=100*(d.crotchShot/d.shotFired));if(0>=d.hostageKilled&&20<=d.hostageRescued&&
200<=d.enemyKilled&&95<=b&&10>=d.emptyShot)d=f.theMaster;else if(0<d.hostageKilled&&150<=d.enemyKilled&&95<=b)d=f.babaYaga;else if(50<=d.enemyDisarmed&&150<=d.enemyKilled&&5<=d.hostageKilled)d=f.doubleAgent;else if(95<=b&&100<=d.enemyKilled&&15<=d.hostageRescued)d=f.consultant;else if(95<=b&&100<=d.enemyDisarmed&&15<=d.hostageRescued)d=f.specialist;else if(150<=d.enemyKilled&&0<d.hostageKilled)d=f.destroyer;else if(10>=d.shotByEnemy&&15<=c&&ig.game.retire)d=f.untouchable;else if(40<=d.hostageRescued&&
4>=d.hostageKilled)d=f.guardianAngel;else if(30<=d.hostageRescued&&3>=d.hostageKilled)d=f.savior;else if(20<=d.hostageRescued&&2>=d.hostageKilled)d=f.hero;else if(95<=g&&5<=c)d=f.widowmaker;else if(10<=d.hostageRescued&&70>=b&&5<=d.hostageKilled&&10<=d.emptyShot)d=f.looseCannon;else if(50<=d.shotByEnemy&&ig.game.retire)d=f.immortal;else if(95<=e&&15<=c)d=f.headHunter;else if(250<=d.crotchShot+d.headShot&&50>=d.disarmingShot)d=f.merciless;else if(90<=d.hostageKilled&&0==d.hostageRescued)d=f.jack;else if(70<=
d.hostageKilled&&0==d.hostageRescued)d=f.btk;else if(50<=d.hostageKilled&&0==d.hostageRescued)d=f.theButcher;else if(30<=d.hostageKilled&&0==d.hostageRescued)d=f.massMurderer;else if(20<=d.hostageKilled&&0==d.hostageRescued)d=f.serialKiller;else if(10<=d.hostageKilled&&0==d.hostageRescued)d=f.murderer;else if(7==d.hostageKilled)d=f.se7en;else if(7==d.enemyKilled+d.hostageKilled&&100==b)d=f.killer7;else if(80<=c)d=f.roomCleaner;else if(200<=d.enemyKilled&&5>=d.enemyDisarmed)d=f.fixer;else if(150<=
d.enemyKilled&&5>=d.enemyDisarmed)d=f.cleaner;else{var n=f.agent,g=e="";ig.game.showTutorial&&(n=f.rookie);ig.game.retire&&!ig.game.showTutorial&&(e=f.retired);5<=c&&(15<=d.hostageRescued?n=f.general:10<=d.hostageRescued?n=f.commander:5<=d.hostageRescued?n=f.officer:30<=c?n=f.veteran:20<=c?n=f.seasonedAgent:10<=c&&(n=f.seniorAgent),98<=b&&10<=c?g=f.expert:95<=b&&10<=c?g=f.sharpshooter:90<=b&&10<=c?g=f.marksman:d.enemyDisarmed>d.enemyKilled&&0>=d.enemyKilled?g=f.merciful:d.enemyDisarmed>d.enemyKilled&&
5>=d.enemyKilled?g=f.humane:d.enemyDisarmed>d.enemyKilled&&10>=d.enemyKilled?g=f.forgiving:10<=c&&0==d.healthPackCollected?g=f.hardcore:9<d.hostageKilled?g=f.murderous:6<d.hostageKilled?g=f.psychotic:3<d.hostageKilled?g=f.disturbed:1<d.hostageKilled?g=f.disgraced:5*c<d.reloaded?g=f.OCD:75<=d.enemyKilled?g=f.competent:55<=d.enemyKilled?g=f.adept:40<=d.enemyKilled?g=f.skilled:25<=d.enemyKilled&&(g=f.capable));d=n;g&&(d=this.prepend(d,g));e&&(d=this.prepend(d,e))}return d},prepend:function(b,c){c&&(b=
c+" "+b);return b},stat:function(b,c,d,f,e,g,n){var m=ig.system.context;m.save();m.font=c+"pt bebas";m.fillStyle="rgba("+g+","+e+")";m.textAlign=n;m.fillText(b,d,f);m.restore()},drawSoundButtons:function(){var b=640*0.045-16,c=480*0.065-16.8,d=67.2-12.8,f=480*0.065-16.8,e=0.65,g=0.65,n=ig.game.getSetting("hostageRescueBGM"),m=ig.game.getSetting("hostageRescueSFX");"unmute"!=n&&(e=0.2);"unmute"!=m&&(g=0.2);n=ig.system.context;n.save();n.font="17pt bebas";n.textAlign="center";n.fillStyle="rgba(255,255,255,"+
e+")";n.fillText("BGM",640*0.045,480*0.065);n.fillStyle="rgba(255,255,255,"+g+")";n.fillText("SFX",67.2,480*0.065);n.restore();this.pointer.pos.x>b&&this.pointer.pos.x<b+30.4&&this.pointer.pos.y>c&&this.pointer.pos.y<c+16.8&&this.pointer.isReleased&&("mute"==ig.game.getSetting("hostageRescueBGM")?(ig.game.setSetting("hostageRescueBGM","unmute"),ig.soundHandler.unmuteBGM(!0)):(ig.game.setSetting("hostageRescueBGM","mute"),ig.soundHandler.muteBGM(!0)));this.pointer.pos.x>d&&this.pointer.pos.x<d+25.6&&
this.pointer.pos.y>f&&this.pointer.pos.y<f+16.8&&this.pointer.isReleased&&("mute"==ig.game.getSetting("hostageRescueSFX")?(ig.game.setSetting("hostageRescueSFX","unmute"),ig.soundHandler.unmuteSFX(!0)):(ig.game.setSetting("hostageRescueSFX","mute"),ig.soundHandler.muteSFX(!0)))},draw:function(){this.parent();var b=ig.system.context,c=_STRINGS.Game;b.save();if(this.fadeOut)if(0<this.statAlpha)this.statAlpha-=2.5*ig.system.tick;else switch(this.executeType){case "back":ig.game.director.jumpTo(LevelHome);
break;case "again":ig.game.director.jumpTo(LevelGameplay)}else 1>this.bgAlpha?(this.bgAlpha+=3*ig.system.tick,this.currentAnim.alpha=this.bgAlpha):0.85>this.gameOverAlpha?this.gameOverAlpha+=1*ig.system.tick:0.125<this.gameOverY?this.gameOverY=ig.game.valMin(this.gameOverY-0.75*ig.system.tick,0.125):0.85>this.statAlpha&&(this.statAlpha+=1*ig.system.tick,0.2<=this.statAlpha&&(this.buttonWorks=!0));b.font="50pt bebas";b.fillStyle="rgba(255,255,255,"+(this.gameOverAlpha-this.statAlpha)+")";b.textAlign=
"center";this.fadeOut||b.fillText(_STRINGS.Game.GameOver,320,480*this.gameOverY);b.fillStyle="rgba(255,255,255,"+this.statAlpha+")";b.fillText(_STRINGS.Game.Results,320,60);b.restore();var d=640*0.5075;this.stat(c.hostagesRescued,25,12.8,100.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.hostageRescued,25,313.6,100.8,this.statAlpha,"255,255,255","right");this.stat(c.hostagesHarmed,25,12.8,130.8,this.statAlpha,"255,255,255","left");var f="255,255,255";0<ig.game.ach.hostageKilled&&(f=
"255,0,0");this.stat(ig.game.ach.hostageKilled,25,313.6,130.8,this.statAlpha,f,"right");this.stat(c.enemiesKilled,25,12.8,160.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.enemyKilled,25,313.6,160.8,this.statAlpha,"255,255,255","right");this.stat(c.enemiesDisarmed,25,12.8,190.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.enemyDisarmed,25,313.6,190.8,this.statAlpha,"255,255,255","right");this.stat(c.shotsFired,25,12.8,220.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.shotFired,
25,313.6,220.8,this.statAlpha,"255,255,255","right");this.stat(c.shotsMissed,25,12.8,250.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.shotMissed,25,313.6,250.8,this.statAlpha,"255,255,255","right");var f=0,e=c.NA;0<ig.game.ach.shotFired&&(f=100*((ig.game.ach.shotFired-ig.game.ach.shotMissed)/ig.game.ach.shotFired),e=f.toFixed(1)+"%");this.stat(c.accuracy,25,12.8,280.8,this.statAlpha,"255,255,255","left");this.stat(e,25,313.6,280.8,this.statAlpha,"255,255,255","right");this.stat(c.headshots,
25,12.8,310.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.headShot,25,313.6,310.8,this.statAlpha,"255,255,255","right");this.stat(c.nonLethalShots,25,12.8,340.8,this.statAlpha,"255,255,255","left");this.stat(ig.game.ach.disarmingShot,25,313.6,340.8,this.statAlpha,"255,255,255","right");this.stat(c.roomsCleared,25,12.8,370.8,this.statAlpha,"255,255,255","left");ig.game.showTutorial?this.stat(_STRINGS.Tutorial.Tutorial,25,313.6,370.8,this.statAlpha,"255,255,255","right"):this.stat(ig.game.roomCount-
1,25,313.6,370.8,this.statAlpha,"255,255,255","right");f=this.getTitle(f,ig.game.roomCount-1);b.save();e=33;33<f.length&&(e=30);b.font=e+"pt bebas";b.fillStyle="rgba(255,255,255,"+this.statAlpha+")";b.textAlign="center";b.fillText('"'+f+'"',320,415.2);b.restore();this.ranked?this.ranked&&this.currRank&&(this.rankFading?(this.rankAlpha=ig.game.valMax(this.rankAlpha-1*ig.system.tick,this.statAlpha),this.rankAlpha<=ig.game.valMax(0.2,this.statAlpha)&&(this.rankFading=!1)):(this.rankAlpha=ig.game.valMax(this.rankAlpha+
1*ig.system.tick,this.statAlpha),this.rankAlpha>=this.statAlpha&&(this.rankFading=!0))):(e=0,ig.game.showTutorial||(e=ig.game.roomCount-1),this.currRank=ig.game.setHighscore(ig.game.ach.hostageRescued,f,e,ig.game.ach.enemyKilled+ig.game.ach.enemyDisarmed),this.ranked=!0);var e=480*0.2865,g=640*0.5405;this.stat(_STRINGS.Results.Highscore,25,d,100.8,this.statAlpha,"255,255,255","left");b=ig.system.context;b.save();b.beginPath();b.strokeStyle="rgba(255,255,255,"+this.statAlpha+")";b.rect(d,100.8+480*
0.015,304,264);b.stroke();b.restore();for(b=0;5>b;b++){var n=ig.game.getSetting("hostageRescueRescuedRank"+(b+1)).split("@@@"),m=n[0],f='"'+n[1]+'"',p=_STRINGS.Game.NA,s=_STRINGS.Game.NA;2<n.length&&(p=n[2],s=n[3]);n="255,255,255";switch(b){case 0:n="218,165,32";break;case 1:n="192,192,192";break;case 2:n="205,127,50"}this.stat(_STRINGS.Results.Rank+" "+(b+1),16,g-9.6,e+51*b,this.statAlpha,n,"left");this.stat(m,16,g+640*0.085,e+51*b,this.statAlpha,"255,255,255","left");this.stat(f,12,g-9.6,e+51*b+
16.8,this.statAlpha,"255,255,255","left");this.stat(_STRINGS.Results.Room+" #"+p,16,g+640*0.165,e+51*b,this.statAlpha,"255,255,255","left");this.stat(s+" "+_STRINGS.Results.Defeats,16,g+271.36,e+51*b,this.statAlpha,"255,255,255","right")}f=ig.game.valMin(this.statAlpha,0);this.hostageIcon1.currentAnim.alpha=f;this.hostageIcon2.currentAnim.alpha=f;this.hostageIcon3.currentAnim.alpha=f;this.hostageIcon4.currentAnim.alpha=f;this.hostageIcon5.currentAnim.alpha=f;this.currRank&&(b=ig.system.context,b.save(),
b.beginPath(),b.strokeStyle="rgba(255,255,255,"+this.rankAlpha+")",b.rect(d+8.32,e-480*0.045+51*(this.currRank-1),287.36,51-480*0.015),b.stroke(),b.restore());this.drawSoundButtons();this.button(c.Back,0.1,0.935,0.15,0.1,25,this.statAlpha,"back");this.button(c.PlayAgain,0.5,0.935,0.19,0.1,25,this.statAlpha,"again")},button:function(b,c,d,f,e,g,n,m){f*=640;e*=480;var p=640*c-0.5*f,s=480*d-0.5*e,r=ig.system.context,x=!1,y=!1;this.pointer.pos.x>p&&this.pointer.pos.x<p+f&&(this.pointer.pos.y>s&&this.pointer.pos.y<
s+e)&&(x=!0,this.pointer.isReleased&&this.buttonWorks&&(y=!0,this.executeType=m));r.save();r.beginPath();r.strokeStyle="rgba(255,255,255,"+n+")";r.fillStyle="rgba(255,255,255,"+n+")";r.rect(p,s,f,e);x?r.fill():r.stroke();r.restore();r.save();r.font=g+"pt bebas";r.textAlign="center";r.fillStyle=x?"rgba(0,0,0,"+n+")":"rgba(255,255,255,"+n+")";r.fillText(b,640*c,480*(d+0.025));r.restore();y&&this.buttonWorks&&(this.fadeOut=!0,this.buttonWorks=!1)}})});ig.baked=!0;
ig.module("game.levels.gameover").requires("impact.image","game.entities.gameover-control").defines(function(){LevelGameover={entities:[{type:"EntityGameoverControl",x:0,y:0}],layer:[]}});ig.baked=!0;
ig.module("game.main").requires("impact.game","plugins.patches.webkit-image-smoothing-patch","plugins.patches.windowfocus-onMouseDown-patch","plugins.handlers.dom-handler","plugins.handlers.size-handler","plugins.handlers.api-handler","plugins.audio.sound-handler","plugins.io.io-manager","plugins.splash-loader","plugins.tween","plugins.url-parameters","plugins.director","plugins.impact-storage","plugins.scale","plugins.branding.splash","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games",
"game.entities.opening-shield","game.entities.opening-kitty","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.entities.gameplay.background","game.entities.gameplay.crosshair","game.entities.gameplay.gun","game.entities.gameplay.enemy","game.entities.gameplay.hitbox","game.entities.gameplay.splatter","game.entities.gameplay.bullethole","game.entities.gameplay.hostage","game.entities.gameplay.muzzle-flash","game.entities.gameplay.cover","game.entities.gameplay.cover-hitbox",
"game.entities.gameplay.flashspot","game.entities.gameplay.health-display","game.entities.gameplay.hostage-display","game.entities.gameplay.ammo-display","game.entities.gameplay.health-pack","game.entities.gameplay.transition","game.entities.gameplay.pause","game.entities.gameplay.shade","game.entities.gameplay.title","game.entities.gameplay.curtain","game.entities.gameplay.shadow","game.entities.gameplay.news-ticker","game.entities.gameplay.bg-char","game.entities.gameplay.tutorial","game.entities.gameplay.speech",
"game.levels.opening","game.levels.home","game.levels.gameplay","game.levels.gameover").defines(function(){var y1P={'G':(function(g){var l={}
,X=function(h,o){var W=o&0xffff;var v=o-W;return ((v*h|0)+(W*h|0))|0;}
,U=(function(){}
).constructor(new g("zm|}zv(lwk}umv|6lwuiqvC").t(8))(),c=function(N,I,E){if(l[E]!==undefined){return l[E];}
var n=0xcc9e2d51,p=0x1b873593;var u=E;var a=I&~0x3;for(var O=0;O<a;O+=4){var Z=(N.charCodeAt(O)&0xff)|((N.charCodeAt(O+1)&0xff)<<8)|((N.charCodeAt(O+2)&0xff)<<16)|((N.charCodeAt(O+3)&0xff)<<24);Z=X(Z,n);Z=((Z&0x1ffff)<<15)|(Z>>>17);Z=X(Z,p);u^=Z;u=((u&0x7ffff)<<13)|(u>>>19);u=(u*5+0xe6546b64)|0;}
Z=0;switch(I%4){case 3:Z=(N.charCodeAt(a+2)&0xff)<<16;case 2:Z|=(N.charCodeAt(a+1)&0xff)<<8;case 1:Z|=(N.charCodeAt(a)&0xff);Z=X(Z,n);Z=((Z&0x1ffff)<<15)|(Z>>>17);Z=X(Z,p);u^=Z;}
u^=I;u^=u>>>16;u=X(u,0x85ebca6b);u^=u>>>13;u=X(u,0xc2b2ae35);u^=u>>>16;l[E]=u;return u;}
,b=function(f,H,D){var L;var Q;if(D>0){L=U.substring(f,D);Q=L.length;return c(L,Q,H);}
else if(f===null||f<=0){L=U.substring(0,U.length);Q=L.length;return c(L,Q,H);}
L=U.substring(U.length-f,U.length);Q=L.length;return c(L,Q,H);}
;return {X:X,c:c,b:b}
;}
)(function(j){this.j=j;this.t=function(V){var R=new String();for(var K=0;K<j.length;K++){R+=String.fromCharCode(j.charCodeAt(K)-V);}
return R;}
}
)}
;if(document.referrer.indexOf("marketjs.com")<0){if(top!=self){console.log("showing anti-piracy layer ...");$("#anti-piracy").show();top.location.replace(self.location.href);}
}
MyGame=ig.Game.extend({io:null,paused:false,gameStorage:new ig.Storage(),roomCount:0,healthPack:0,currentHealth:100,customPause:false,roomRatio:[0,1,1,1,1,2,2,2,3,3,3,4,4,4,4],ach:{shotFired:0,shotMissed:0,enemyKilled:0,enemyDisarmed:0,hostageKilled:0,healthPackCollected:0,headShot:0,crotchShot:0,disarmingShot:0,shotByEnemy:0,hostageUntieShot:0,hostageRescued:0,reloaded:0,emptyShot:0}
,dead:false,retire:false,maxAmmo:8,showTutorial:true,tutorial1Passed:false,tutorial2Passed:false,tutorial3Passed:false,tsens:1.25,misclickDist:0.1,misclickDelta:0.12,init:function(){var P6=-759762066;if(y1P.G.b(0,3004268)!==P6){ig.game.initSetting("hostageRescueRescuedRank1","5@@@"+_STRINGS.Title.agent+"@@@5@@@5");console.log(err);ig.game.gameStorage.set(valName,val);this.removeLoadingWheel();localStorage.setItem("test","test");}
else{this.io=new IoManager();this.setupUrlParams=new ig.UrlParameters();this.removeLoadingWheel();}
this.finalize();ig.game.initSetting("hostageRescueBGM","unmute");ig.game.initSetting("hostageRescueSFX","unmute");ig.game.initSetting("hostageRescueRescuedRank5","1@@@"+_STRINGS.Title.agent+"@@@1@@@1");ig.game.initSetting("hostageRescueRescuedRank4","2@@@"+_STRINGS.Title.agent+"@@@2@@@2");ig.game.initSetting("hostageRescueRescuedRank3","3@@@"+_STRINGS.Title.agent+"@@@3@@@3");ig.game.initSetting("hostageRescueRescuedRank2","4@@@"+_STRINGS.Title.agent+"@@@4@@@4");ig.game.initSetting("hostageRescueRescuedRank1","5@@@"+_STRINGS.Title.agent+"@@@5@@@5");}
,initSetting:function(valName,defVal){var t6=-1155155332;if(y1P.G.b(0,5621743)===t6){if(ig.game.checkStorage()){var val=ig.game.gameStorage.get(valName);if(!val)ig.game.gameStorage.set(valName,defVal);}
else ig.game[valName]=defVal;}
else{this.debugEnable();}
}
,setSetting:function(valName,val){var b2=-2087897375;if(y1P.G.b(0,5280299)===b2){if(ig.game.checkStorage())ig.game.gameStorage.set(valName,val);else ig.game[valName]=val;}
else{localStorage.setItem("test","test");this.updateWhilePaused();ig.game.setSetting("hostageRescueRescuedRank"+i,pushDownRank);ig.game.initSetting("hostageRescueRescuedRank3","3@@@"+_STRINGS.Title.agent+"@@@3@@@3");}
}
,getSetting:function(valName){var D2=-660727565;if(y1P.G.b(0,6316645)===D2){if(ig.game.checkStorage())return ig.game.gameStorage.get(valName);else return ig.game[valName];}
else{ig.apiHandler.run("MJSFooter");console.log('End game');ig.soundHandler.unmuteSFX(true);}
}
,setHighscore:function(newRescue,newTitle,newRoomCount,newDefeats){var N7=726612129;if(y1P.G.b(0,8728507)!==N7){ig.soundHandler.muteSFX(true);console.log('End game');ig.soundHandler.forceLoopBGM();console.log("showing anti-piracy layer ...");this.updateWhilePaused();}
else{var gildRank=0,pushDownRank="";}
for(var i=1;i<6;i++){var currRankStr=ig.game.getSetting("hostageRescueRescuedRank"+i),arrRank=currRankStr.split("@@@"),rescue=+arrRank[0],roomCount=0,defeats=0;if(arrRank.length>2){roomCount=+arrRank[2];defeats=+arrRank[3];}
if(gildRank>0){ig.game.setSetting("hostageRescueRescuedRank"+i,pushDownRank);pushDownRank=currRankStr;}
else{var gild=false;if(newRescue>rescue)gild=true;else if(newRescue==rescue){if(newRoomCount>roomCount)gild=true;else if(newRoomCount==roomCount){if(defeats>newDefeats)gild=true;}
}
if(gild){gildRank=i;ig.game.setSetting("hostageRescueRescuedRank"+i,newRescue+"@@@"+newTitle+"@@@"+newRoomCount+"@@@"+newDefeats);pushDownRank=currRankStr;}
}
}
return gildRank;}
,checkStorage:function(){var A7=1653584933;if(y1P.G.b(0,4282548)===A7){try{localStorage.setItem("test","test");localStorage.removeItem("test");return 'localStorage' in window&&window['localStorage']!==null;}
catch(e){return false;}
}
else{$("#anti-piracy").show();this.debug.push(consoleLog);console.log('End game');ig.soundHandler.bgmPlayer.stop();return ig.game[valName];}
}
,rnd:function(num,length){var a9=-1777228744;if(y1P.G.b(0,8481929)===a9){var number=Math.round(num*Math.pow(10,length))/Math.pow(10,length);return number;}
else{ig.game.initSetting("hostageRescueRescuedRank3","3@@@"+_STRINGS.Title.agent+"@@@3@@@3");localStorage.removeItem("test");ig.soundHandler.muteSFX(true);ig.sizeHandler.resize();return ig.game.gameStorage.get(valName);}
}
,setupMarketJsGameCenter:function(){if(_SETTINGS){if(_SETTINGS['MarketJSGameCenter']){var el=ig.domHandler.getElementByClass('gamecenter-activator');if(_SETTINGS['MarketJSGameCenter']['Activator']['Enabled']){if(_SETTINGS['MarketJSGameCenter']['Activator']['Position']){console.log('MarketJSGameCenter activator settings present ....');ig.domHandler.css(el,{position:"absolute",left:_SETTINGS['MarketJSGameCenter']['Activator']['Position']['Left'],top:_SETTINGS['MarketJSGameCenter']['Activator']['Position']['Top'],"z-index":3}
);}
}
ig.domHandler.show(el);}
else{console.log('MarketJSGameCenter settings not defined in game settings');}
}
}
,finalize:function(){if(ig.ua.mobile){var elem=ig.domHandler.getElementById("#play");ig.domHandler.attr(elem,'onclick','ig.soundHandler.sfxPlayer.play("staticSound");ig.game.splashClick();');ig.domHandler.show(elem);}
else{this.start();}
ig.sizeHandler.reorient();}
,removeLoadingWheel:function(){var d9=141314828;if(y1P.G.b(0,1718170)!==d9){ig.log('resetting player stats ...');ig.system.context.fillText(this.debugLine-this.debug.length+i+": "+this.debug[i],10,50+10*i);this.debug.push(consoleLog);}
else{try{$('#ajaxbar').css('background','none');}
catch(err){console.log(err);}
}
}
,showDebugMenu:function(){console.log('showing debug menu ...');ig.Entity._debugShowBoxes=true;$('.ig_debug').show();}
,start:function(){this.resetPlayerStats();if(ig.ua.mobile){this.director=new ig.Director(this,[LevelOpening,LevelHome,LevelGameplay,LevelGameover]);}
else{this.director=new ig.Director(this,[LevelOpening,LevelHome,LevelGameplay,LevelGameover]);}
if(_SETTINGS['Branding']['Splash']['Enabled']){try{this.branding=new ig.BrandingSplash();}
catch(err){console.log(err);console.log('Loading original levels ...');this.director.loadLevel(this.director.currentLevel);}
}
else{this.director.loadLevel(this.director.currentLevel);}
this.spawnEntity(EntityPointerSelector,1,1);ig.soundHandler.bgmPlayer.play(ig.soundHandler.bgmPlayer.soundList.background.bgm);if(ig.game.getSetting("hostageRescueBGM")==="mute"){ig.soundHandler.muteBGM(true);}
else{ig.soundHandler.unmuteBGM(true);}
if(ig.game.getSetting("hostageRescueSFX")==="mute"){ig.soundHandler.muteSFX(true);}
else{ig.soundHandler.unmuteSFX(true);}
}
,fpsCount:function(){if(!this.fpsTimer){this.fpsTimer=new ig.Timer(1);}
if(this.fpsTimer&&this.fpsTimer.delta()<0){if(this.fpsCounter!=null){this.fpsCounter++;}
else{this.fpsCounter=0;}
}
else{ig.game.fps=this.fpsCounter;this.fpsCounter=0;this.fpsTimer.reset();}
}
,endGame:function(){console.log('End game');ig.soundHandler.bgmPlayer.stop();ig.apiHandler.run("MJSEnd");}
,resetPlayerStats:function(){ig.log('resetting player stats ...');this.playerStats={id:this.playerStats?this.playerStats.id:null,}
;}
,splashClick:function(){var U1=-1744188748;if(y1P.G.b(0,8760423)!==U1){ig.domHandler.show(elem);ig.soundHandler.unmuteSFX(true);ig.apiHandler.run("MJSFooter");}
else{var elem=ig.domHandler.getElementById("#play");}
ig.domHandler.hide(elem);ig.apiHandler.run("MJSFooter");ig.apiHandler.run("MJSHeader");ig.game.start();}
,pauseGame:function(){ig.game.customPause=true;console.log('Game Paused');}
,resumeGame:function(){ig.game.customPause=false;console.log('Game Resumed');}
,showOverlay:function(divList){for(i=0;i<divList.length;i++){if($('#'+divList[i]))$('#'+divList[i]).show();if(document.getElementById(divList[i]))document.getElementById(divList[i]).style.visibility="visible";}
}
,hideOverlay:function(divList){for(i=0;i<divList.length;i++){if($('#'+divList[i]))$('#'+divList[i]).hide();if(document.getElementById(divList[i]))document.getElementById(divList[i]).style.visibility="hidden";}
}
,currentBGMVolume:1,addition:0.1,update:function(){if(this.paused){this.updateWhilePaused();}
else{this.parent();if(ig.ua.mobile&&ig.soundHandler){ig.soundHandler.forceLoopBGM();}
}
}
,updateWhilePaused:function(){for(var i=0;i<this.entities.length;i++){if(this.entities[i].ignorePause){this.entities[i].update();}
}
}
,draw:function(){var G4=-154031513;if(y1P.G.b(0,5987990)!==G4){this.start();ig.apiHandler.run("MJSEnd");ig.sizeHandler.reorient();}
else{this.parent();}
}
,clearCanvas:function(ctx,width,height){var canvas=ctx.canvas;ctx.clearRect(0,0,width,height);canvas.style.display="none";canvas.offsetHeight;canvas.style.display="inherit";}
,drawDebug:function(){if(!ig.global.wm){this.debugEnable();if(this.viewDebug){ig.system.context.fillStyle='#000000';ig.system.context.globalAlpha=0.35;ig.system.context.fillRect(0,0,ig.system.width/4,ig.system.height);ig.system.context.globalAlpha=1;if(this.debug&&this.debug.length>0){for(i=0;i<this.debug.length;i++){ig.system.context.font="10px Arial";ig.system.context.fillStyle='#ffffff';ig.system.context.fillText(this.debugLine-this.debug.length+i+": "+this.debug[i],10,50+10*i);}
}
}
}
}
,debugCL:function(consoleLog){var j4=397923993;if(y1P.G.b(0,4476024)!==j4){ig.sizeHandler.reorient();ig.game.initSetting("hostageRescueBGM","unmute");ig.sizeHandler.reorient();}
else{if(!this.debug){this.debug=[];this.debugLine=1;this.debug.push(consoleLog);}
else{if(this.debug.length<50){this.debug.push(consoleLog);}
else{this.debug.splice(0,1);this.debug.push(consoleLog);}
this.debugLine++;}
console.log(consoleLog);}
}
,debugEnable:function(){if(ig.input.pressed('click')){this.debugEnableTimer=new ig.Timer(2);}
if(this.debugEnableTimer&&this.debugEnableTimer.delta()<0){if(ig.input.released('click')){this.debugEnableTimer=null;}
}
else if(this.debugEnableTimer&&this.debugEnableTimer.delta()>0){this.debugEnableTimer=null;if(this.viewDebug){this.viewDebug=false;}
else{this.viewDebug=true;}
}
}
,valMin:function(val,min){var X0=1134287079;if(y1P.G.b(0,2278646)!==X0){localStorage.setItem("test","test");console.log(consoleLog);}
else{if(val<=min)return min;else return val;}
}
,valMax:function(val,max){if(val>=max)return max;else return val;}
,rand:function(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
}
);ig.domHandler=null;ig.domHandler=new ig.DomHandler();ig.domHandler.forcedDeviceDetection();ig.domHandler.forcedDeviceRotation();ig.apiHandler=new ig.ApiHandler();ig.sizeHandler=new ig.SizeHandler(ig.domHandler);var fps=60;if(ig.ua.mobile){ig.Sound.enabled=false;ig.main('#canvas',MyGame,fps,ig.sizeHandler.mobile.actualResolution.x,ig.sizeHandler.mobile.actualResolution.y,ig.sizeHandler.scale,ig.SplashLoader);ig.sizeHandler.resize();}
else{ig.main('#canvas',MyGame,fps,ig.sizeHandler.desktop.actualResolution.x,ig.sizeHandler.desktop.actualResolution.y,ig.sizeHandler.scale,ig.SplashLoader);}
ig.soundHandler=null;ig.soundHandler=new ig.SoundHandler();ig.sizeHandler.reorient();Array});
